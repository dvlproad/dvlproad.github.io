<hr>
<p>title: Git代码同步<br>date: 2020-01-07 10:51:37</p>
<h2 id="tags"><a href="#tags" class="headerlink" title="tags:"></a>tags:</h2><p>[toc]</p>
<h1 id="Git代码同步"><a href="#Git代码同步" class="headerlink" title="Git代码同步"></a>Git代码同步</h1><h3 id="1、拉取最新代码、提交"><a href="#1、拉取最新代码、提交" class="headerlink" title="1、拉取最新代码、提交"></a>1、拉取最新代码、提交</h3><pre><code class="shell">cd CQApp-api-mongodb/
git pull origin master
git add .
git commit -m &quot;add api cardlist&quot;
git push origin master
</code></pre>
<p><img src="Git代码同步/image-20201121123010573.png" alt="image-20201121123010573"></p>
<p><img src="Git代码同步/image-20201121123124236.png" alt="image-20201121123124236"></p>
<p>上传成功，我们通过网站或者sourcetree等查看效果</p>
<p><img src="Git代码同步/image-20201121124131447.png" alt="image-20201121124131447"></p>
<h4 id="1、问题1：未配置用户名和邮箱"><a href="#1、问题1：未配置用户名和邮箱" class="headerlink" title="1、问题1：未配置用户名和邮箱"></a>1、问题1：未配置用户名和邮箱</h4><p><img src="Git代码同步/image-20201121123308986.png" alt="image-20201121123308986"></p>
<p><strong>解决配置用户名和邮箱</strong></p>
<pre><code class="shell"><span class="meta">#</span> 1、全局配置：使用 --global 修饰后设置的全局的用户
<span class="meta">$</span> git config --global user.name "Your Name"  
<span class="meta">$</span> git config --global user.email "email@example.com"  


<span class="meta">#</span> 2、如果只想设置单个项目的用户：可cd到项目根目录下,执行如下命令:
<span class="meta">$</span> git config user.name "Your Name"  
<span class="meta">$</span> git config user.email "email@example.com"  
</code></pre>
<p>使用命令:git config –list 可查看当前用户信息以及其他的一些信息</p>
<p><img src="Git代码同步/image-20201121123421969.png" alt="image-20201121123421969"></p>
<h3 id="2、拉取提交省去密码输入的技巧–ssh"><a href="#2、拉取提交省去密码输入的技巧–ssh" class="headerlink" title="2、拉取提交省去密码输入的技巧–ssh"></a>2、拉取提交省去密码输入的技巧–ssh</h3><pre><code class="shell">ssh-keygen -t rsa -C &quot;ecs_aliyun&quot;

cd /root/.ssh

cat id_rsa.pub
</code></pre>
<p><img src="Git代码同步/image-20201121114358468.png" alt="image-20201121114358468"></p>
<p>到 github/gitee/gitlab 上添加对应的ssh</p>
<p><img src="Git代码同步/image-20201121114618923.png" alt="image-20201121114618923"></p>
<h2 id="四、提交云服务器代码"><a href="#四、提交云服务器代码" class="headerlink" title="四、提交云服务器代码"></a>四、提交云服务器代码</h2><ul>
<li>1、从服务器重新拉代码，将本地代码更新为服务器上的最新代码</li>
</ul>
<pre><code class="shell">git pull
</code></pre>
<p><img src="Git代码同步/yapi_git_1.png" alt="image-20220112144529354"></p>
<ul>
<li>2、查看本地代码状态，是否有待提交的代码 </li>
</ul>
<pre><code class="shell">git status
</code></pre>
<ul>
<li>3、将本地代码全部提交</li>
</ul>
<pre><code class="shell">git  add .
</code></pre>
<ul>
<li>4、commit提交并添加注释 </li>
</ul>
<pre><code class="shell">git commit -m &quot;我是提交的注释&quot; 
</code></pre>
<p>如果提交过程中出现如下问题：</p>
<p><img src="Git代码同步/yapi_git_3commit1.png" alt="image-20220112145348308"></p>
<p>请先根据提示，设置全局邮件和用户名，以让其他开发者可以看到是谁提交。配置前和配置后，可使用</p>
<pre><code class="shell"><span class="meta">#</span> 查看
git config -l

<span class="meta">#</span> 设置提交者的邮箱
git config --global user.email "dvlproad@163.com"
<span class="meta">#</span> 设置提交者的用户名
git config --global user.email "dvlproad"
</code></pre>
<p><img src="Git代码同步/yapi_git_3commit2.png" alt="image-20220112145514520"></p>
<p>设置完后，重新执行</p>
<pre><code class="shell">git commit -m &quot;我是提交的注释&quot; 
</code></pre>
<p>即可。接下来就只剩最后一步，就可正式提交完成了。</p>
<ul>
<li>5、将本地的 master 分支推送到 origin 主机的 master 分支。</li>
</ul>
<pre><code class="shell"><span class="meta">$</span> git push origin master
</code></pre>
<p>更多 git push用法，查看官网<a href="https://www.runoob.com/git/git-push.html">https://www.runoob.com/git/git-push.html</a></p>
<p><img src="Git代码同步/yapi_git_5push.png" alt="image-20220112163849708"></p>
<p>结果：</p>
<p><img src="Git代码同步/yapi_git_5push2.png" alt="image-20220112172647153"></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>