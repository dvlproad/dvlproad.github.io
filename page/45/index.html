<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>dvlproadã®åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å­¦è€Œæ—¶ä¹ ä¹‹ä¸äº¦è¯´ä¹(dvlproad)">
<meta name="keywords" content="blog,IT,iOS,Flutter">
<meta property="og:type" content="website">
<meta property="og:title" content="dvlproadã®åšå®¢">
<meta property="og:url" content="https://dvlproad.github.io/page/45/index.html">
<meta property="og:site_name" content="dvlproadã®åšå®¢">
<meta property="og:description" content="å­¦è€Œæ—¶ä¹ ä¹‹ä¸äº¦è¯´ä¹(dvlproad)">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dvlproadã®åšå®¢">
<meta name="twitter:description" content="å­¦è€Œæ—¶ä¹ ä¹‹ä¸äº¦è¯´ä¹(dvlproad)">
  
    <link rel="alternate" href="/atom.xml" title="dvlproadã®åšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">dvlproadã®åšå®¢</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">æ•´ç†åŠæ€»ç»“å¹³æ—¶è¿‡ç¨‹ä¸­çš„çŸ¥è¯†ç‚¹</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">é¦–é¡µ</a>
        
          <a class="main-nav-link" href="/archives">å½’æ¡£</a>
        
          <a class="main-nav-link" href="/about">å…³äº</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dvlproad.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Architectureæ¶æ„/åŸºç¡€æ•°æ®åŸºç±»/åŸºç¡€æ•°æ®åŸºç±»â€”å•†å“" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Architectureæ¶æ„/åŸºç¡€æ•°æ®åŸºç±»/åŸºç¡€æ•°æ®åŸºç±»â€”å•†å“/" class="article-date">
  <time datetime="2018-03-21T09:08:41.000Z" itemprop="datePublished">2018-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Architectureæ¶æ„/åŸºç¡€æ•°æ®åŸºç±»/åŸºç¡€æ•°æ®åŸºç±»â€”å•†å“/">åŸºç¡€æ•°æ®åŸºç±»--å•†å“</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="åŸºç¡€æ•°æ®åŸºç±»â€“å•†å“"><a href="#åŸºç¡€æ•°æ®åŸºç±»â€“å•†å“" class="headerlink" title="åŸºç¡€æ•°æ®åŸºç±»â€“å•†å“"></a>åŸºç¡€æ•°æ®åŸºç±»â€“å•†å“</h1><h2 id="ä¸€ã€å•†å“ç§ç±»"><a href="#ä¸€ã€å•†å“ç§ç±»" class="headerlink" title="ä¸€ã€å•†å“ç§ç±»"></a>ä¸€ã€å•†å“ç§ç±»</h2><table>
<thead>
<tr>
<th></th>
<th>æè¿°</th>
<th></th>
<th>ç±»å</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>å•†å“åŸºç±»</td>
<td>åŒ…å«å¿…é¡»å±æ€§</td>
<td>BaseGoodsBean</td>
</tr>
<tr>
<td></td>
<td>å•†åŸé‡Œå±•ç¤ºçš„å•†å“</td>
<td>æœ‰å¤šsku</td>
<td>SpuGoodsBean</td>
</tr>
<tr>
<td></td>
<td>ç”¨æˆ·æƒ³è¦è´­ä¹°çš„å•†å“</td>
<td></td>
<td>SkuGoodsBean</td>
</tr>
</tbody>
</table>
<h3 id="æšä¸¾çš„ä½¿ç”¨"><a href="#æšä¸¾çš„ä½¿ç”¨" class="headerlink" title="æšä¸¾çš„ä½¿ç”¨"></a>æšä¸¾çš„ä½¿ç”¨</h3><p>åœ¨Flutterä¸­</p>
<p><code>packages/app_models/lib/goods/base_goods_enum.dart</code></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter_data_helper/flutter_data_helper.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------  å•†å“å”®å–çŠ¶æ€  --------------------------</span></span><br><span class="line"><span class="comment">// å•†å“å”®å–çŠ¶æ€(ä¸Šæ¶:up; ä¸‹æ¶:down)</span></span><br><span class="line"><span class="keyword">enum</span> GoodsSaleState &#123;</span><br><span class="line">  up, <span class="comment">// ä¸Šæ¶ä¸­</span></span><br><span class="line">  down, <span class="comment">// å·²ä¸‹æ¶</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="markdown">///stringè½¬æšä¸¾ç±»å‹</span></span></span><br><span class="line">GoodsSaleState goodsSaleStateFromString(<span class="built_in">String</span> value) &#123;</span><br><span class="line">  <span class="built_in">Iterable</span>&lt;GoodsSaleState&gt; values = [</span><br><span class="line">    GoodsSaleState.up, <span class="comment">// ä¸Šæ¶ä¸­</span></span><br><span class="line">    GoodsSaleState.down, <span class="comment">// å·²ä¸‹æ¶</span></span><br><span class="line">  ];</span><br><span class="line">  <span class="keyword">return</span> EnumStringUtil.enumFromString(values, value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="markdown">///æšä¸¾ç±»å‹è½¬string</span></span></span><br><span class="line"><span class="built_in">String</span> goodsSaleStateStringFromEnum(o) &#123;</span><br><span class="line">  <span class="keyword">return</span> EnumStringUtil.enumToString(o);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------------------------  å•†å“ç‰©å“ç±»å‹  --------------------------</span></span><br><span class="line"><span class="comment">// å•†å“ç‰©å“ç±»å‹(å®ä½“å•†å“:physical; è™šæ‹Ÿç‰©å“:virtual)</span></span><br><span class="line"><span class="keyword">enum</span> GoodsPhysicalType &#123;</span><br><span class="line">  physical, <span class="comment">// å®ä½“å•†å“</span></span><br><span class="line">  virtual, <span class="comment">// è™šæ‹Ÿç‰©å“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åœ¨iOSä¸­"><a href="#åœ¨iOSä¸­" class="headerlink" title="åœ¨iOSä¸­"></a>åœ¨iOSä¸­</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åè®®å®šä¹‰</span></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">GoodsPriceProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> marketPrice: <span class="type">Int</span>? &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> salePrice: <span class="type">Int</span>? &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">GoodsBrandProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> brandName: <span class="type">String</span>? &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> brandId: <span class="type">String</span>? &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»å®ç°åè®®</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseGoodsBean</span>: <span class="title">GoodsPriceProtocol</span>, <span class="title">GoodsBrandProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> marketPrice: <span class="type">Int</span>?</span><br><span class="line">    <span class="keyword">var</span> salePrice: <span class="type">Int</span>?</span><br><span class="line">    <span class="keyword">var</span> brandName: <span class="type">String</span>?</span><br><span class="line">    <span class="keyword">var</span> brandId: <span class="type">String</span>?</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç±»çš„å…¶ä»–å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="åœ¨Flutterä¸­"><a href="#åœ¨Flutterä¸­" class="headerlink" title="åœ¨Flutterä¸­"></a>åœ¨Flutterä¸­</h3><p><code>packages/app_models/lib/goods/base_goods_bean.dart</code></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å•†å“ä»·æ ¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'base_goods_enum.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodsPriceModel</span> </span>&#123;</span><br><span class="line">  <span class="built_in">int</span>? marketPrice; <span class="comment">// å¸‚åœºä»·æ ¼</span></span><br><span class="line">  <span class="built_in">int</span>? salePrice; <span class="comment">// é”€å”®ä»·æ ¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•†å“å“ç‰Œ</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodsBrandModel</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span>? brandId; <span class="comment">// å“ç‰Œid</span></span><br><span class="line">  <span class="built_in">String</span>? brandName; <span class="comment">// å“ç‰Œåç§°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•†å“é—¨åº—</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">GoodsShopModel</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span>? shopId; <span class="comment">// é—¨åº—id</span></span><br><span class="line">  <span class="built_in">String</span>? shopName; <span class="comment">// é—¨åº—åç§°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å•†å“åŸºç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseGoodsBean</span> <span class="keyword">implements</span> <span class="title">GoodsPriceModel</span>, <span class="title">GoodsBrandModel</span>, <span class="title">GoodsShopModel</span> </span>&#123;</span><br><span class="line">  <span class="comment">// å•†å“å¿…å¤‡å±æ€§</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> id; <span class="comment">// å•†å“id</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> name; <span class="comment">// å•†å“åç§°</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> imageOrVideoUrl; <span class="comment">// å•†å“ä¸»å›¾å›¾ç‰‡/è§†é¢‘</span></span><br><span class="line">  <span class="keyword">final</span> GoodsSaleState goodsSaleState; <span class="comment">// å•†å“å”®å–çŠ¶æ€(ä¸Šæ¶up; ä¸‹æ¶down)</span></span><br><span class="line">  <span class="keyword">final</span> GoodsPhysicalType physicalType; <span class="comment">// å•†å“ç‰©å“ç±»å‹(å®ä½“å•†å“:physical; è™šæ‹Ÿç‰©å“:virtual)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// å•†å“ä»·æ ¼</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">int</span>? marketPrice;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">int</span>? salePrice;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å•†å“å“ç‰Œ</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span>? brandId;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span>? brandName;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å•†å“é—¨åº—</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span>? shopId;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="built_in">String</span>? shopName;</span><br><span class="line"></span><br><span class="line">  BaseGoodsBean(&#123;</span><br><span class="line">    required <span class="keyword">this</span>.id,</span><br><span class="line">    required <span class="keyword">this</span>.name,</span><br><span class="line">    required <span class="keyword">this</span>.imageOrVideoUrl,</span><br><span class="line">    required <span class="keyword">this</span>.goodsSaleState,</span><br><span class="line">    required <span class="keyword">this</span>.physicalType,</span><br><span class="line">    <span class="keyword">this</span>.marketPrice,</span><br><span class="line">    <span class="keyword">this</span>.salePrice,</span><br><span class="line">    <span class="keyword">this</span>.brandId,</span><br><span class="line">    <span class="keyword">this</span>.brandName,</span><br><span class="line">    <span class="keyword">this</span>.shopId,</span><br><span class="line">    <span class="keyword">this</span>.shopName,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å±•ç¤ºçš„å•†å“</p>
<p>é€‰ä¸­çš„å•†å“</p>
<p><code>packages/app_models/lib/goods/selected_goods_bean.dart</code></p>
<pre><code>
</code></pre><h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Architectureæ¶æ„/åŸºç¡€æ•°æ®åŸºç±»/åŸºç¡€æ•°æ®åŸºç±»â€”å•†å“/" data-id="cls1nx62600b86er4mze7khlp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Architecture/">Architecture</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Architectureæ¶æ„/æ—¥å¿—/æ—¥å¿—ç³»ç»Ÿ" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Architectureæ¶æ„/æ—¥å¿—/æ—¥å¿—ç³»ç»Ÿ/" class="article-date">
  <time datetime="2018-03-21T09:08:41.000Z" itemprop="datePublished">2018-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Architectureæ¶æ„/æ—¥å¿—/æ—¥å¿—ç³»ç»Ÿ/">æ—¥å¿—ç³»ç»Ÿ</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="æ—¥å¿—ç³»ç»Ÿ"><a href="#æ—¥å¿—ç³»ç»Ÿ" class="headerlink" title="æ—¥å¿—ç³»ç»Ÿ"></a>æ—¥å¿—ç³»ç»Ÿ</h1><h2 id="ä¸»è¦äº‹é¡¹"><a href="#ä¸»è¦äº‹é¡¹" class="headerlink" title="ä¸»è¦äº‹é¡¹"></a>ä¸»è¦äº‹é¡¹</h2><p>1ã€å¼‚å¸¸æ•°æ®çš„å‘ç°åŠè¡¥å……ã€æ—¥å¿—åˆ†ç±»ä¼˜åŒ–<br>2ã€æ—¥å¿—æ•°æ®çš„æ–‡ä»¶ä¿å­˜ã€æ»šåŠ¨å­˜å‚¨<br>3ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ <br>4ã€æ—¥å¿—å›æ</p>
<h2 id="ä¸€ã€æ—¥å¿—æ”¶é›†"><a href="#ä¸€ã€æ—¥å¿—æ”¶é›†" class="headerlink" title="ä¸€ã€æ—¥å¿—æ”¶é›†"></a>ä¸€ã€æ—¥å¿—æ”¶é›†</h2><h3 id="1ã€æ—¥å¿—åˆ†ç±»"><a href="#1ã€æ—¥å¿—åˆ†ç±»" class="headerlink" title="1ã€æ—¥å¿—åˆ†ç±»"></a>1ã€æ—¥å¿—åˆ†ç±»</h3><h4 id="1-1ã€æ—¥å¿—ç›®æ ‡"><a href="#1-1ã€æ—¥å¿—ç›®æ ‡" class="headerlink" title="1.1ã€æ—¥å¿—ç›®æ ‡"></a>1.1ã€æ—¥å¿—ç›®æ ‡</h4><table>
<thead>
<tr>
<th>åºå·</th>
<th>ç›®æ ‡(Target)</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>app</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>sdk</td>
<td>ä¸‰æ–¹åº“</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>h5</td>
<td>ç½‘é¡µ</td>
</tr>
</tbody>
</table>
<h4 id="1-2ã€æ—¥å¿—ç±»å‹"><a href="#1-2ã€æ—¥å¿—ç±»å‹" class="headerlink" title="1.2ã€æ—¥å¿—ç±»å‹"></a>1.2ã€æ—¥å¿—ç±»å‹</h4><table>
<thead>
<tr>
<th>åºå·</th>
<th>ç±»å‹</th>
<th>æè¿°</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>api_app</td>
<td>appä¸­çš„ç½‘ç»œè¯·æ±‚</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>api_app_cache</td>
<td>appä¸­çš„ç½‘ç»œè¯·æ±‚çš„ç½‘ç»œç¼“å­˜è¯·æ±‚</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>api_buriedPoint</td>
<td>åŸ‹ç‚¹çš„ç½‘ç»œè¯·æ±‚</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>sdk_other</td>
<td>sdkçš„å„ç§äº‹ä»¶(åˆå§‹åŒ–ç­‰)</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>sdk_api</td>
<td>sdkä¸­çš„ç½‘ç»œè¯·æ±‚</td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>dart</td>
<td>è¯­æ³•</td>
<td></td>
</tr>
<tr>
<td>7</td>
<td>widget</td>
<td>è§†å›¾(å¸ƒå±€åƒç´ è¶Šç•Œç­‰)</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>click_other</td>
<td>ç‚¹å‡»ã€</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>click_share</td>
<td>åˆ†äº«</td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>native_route</td>
<td>è·¯ç”±/è·³è½¬</td>
<td></td>
</tr>
<tr>
<td>11</td>
<td>h5_route</td>
<td>ä¸ç½‘é¡µè·³è½¬æœ‰å…³</td>
<td></td>
</tr>
<tr>
<td>12</td>
<td>h5_js</td>
<td>jsäº¤äº’</td>
<td></td>
</tr>
<tr>
<td>13</td>
<td>monitor_network</td>
<td>ç›‘æ§ï¼šç½‘ç»œç±»å‹å˜åŒ–</td>
<td></td>
</tr>
<tr>
<td>14</td>
<td>monitor_lifecycle</td>
<td>ç›‘æ§ï¼šç”Ÿå‘½å‘¨æœŸå˜åŒ–</td>
<td></td>
</tr>
<tr>
<td>15</td>
<td>buriedPoint_other</td>
<td>åŸ‹ç‚¹æ•°æ®ç”Ÿæˆç­‰</td>
<td></td>
</tr>
<tr>
<td>16</td>
<td>im</td>
<td>IM</td>
<td></td>
</tr>
<tr>
<td>17</td>
<td>heartbeat</td>
<td>å¿ƒè·³</td>
<td></td>
</tr>
<tr>
<td>18</td>
<td>other</td>
<td>å…¶ä»–</td>
</tr>
</tbody>
</table>
<h3 id="2ã€æ—¥å¿—ç­‰çº§"><a href="#2ã€æ—¥å¿—ç­‰çº§" class="headerlink" title="2ã€æ—¥å¿—ç­‰çº§"></a>2ã€æ—¥å¿—ç­‰çº§</h3><table>
<thead>
<tr>
<th>åºå·</th>
<th>ç›®æ ‡(Level)</th>
<th>æè¿°</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Normal</td>
<td>æ­£å¸¸ä¿¡æ¯(ç›®å‰ç”¨äºè¯·æ±‚å¼€å§‹)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>Success</td>
<td>æˆåŠŸä¿¡æ¯(ç›®å‰ç”¨äºè¯·æ±‚ç»“æŸï¼šæˆåŠŸ)</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>Warning</td>
<td>è­¦å‘Šä¿¡æ¯(ç›®å‰ç”¨äºè¯·æ±‚ç»“æŸï¼šæŠ¥é”™)</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>Error</td>
<td>é”™è¯¯æ—¥å¿—(ç›®å‰ç”¨äºè¯·æ±‚ç»“æŸï¼šå¤±è´¥)</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>Dangerous</td>
<td>å±é™©(å¤„ç†ç™½å±ç­‰)</td>
<td>ä¸€èˆ¬ä¼š<strong>è¿›è¡Œé¢å¤–çš„åŸ‹ç‚¹</strong></td>
</tr>
</tbody>
</table>
<h3 id="3ã€æ—¥å¿—æ•´åˆå½’ç±»"><a href="#3ã€æ—¥å¿—æ•´åˆå½’ç±»" class="headerlink" title="3ã€æ—¥å¿—æ•´åˆå½’ç±»"></a>3ã€æ—¥å¿—æ•´åˆå½’ç±»</h3><table>
<thead>
<tr>
<th>åºå·</th>
<th>åˆ—è¡¨</th>
<th>æ ‡å¿—</th>
<th>åŒ…å«</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>å…¨éƒ¨</td>
<td>all</td>
<td>æ‰€æœ‰</td>
</tr>
<tr>
<td>2</td>
<td>è­¦å‘Š</td>
<td>warning</td>
<td>æ‰€æœ‰çš„è­¦å‘Š</td>
</tr>
<tr>
<td>3</td>
<td>é”™è¯¯</td>
<td>error</td>
<td>æ‰€æœ‰çš„é”™è¯¯</td>
</tr>
<tr>
<td>4</td>
<td>æ¥å£</td>
<td>api</td>
<td>api_appã€api_cache(ä¸åŒ…æ‹¬sdk_apiã€api_buriedPoint)</td>
</tr>
<tr>
<td>5</td>
<td>ç‚¹å‡»</td>
<td>click</td>
<td>click_shareã€click_otherã€h5_js</td>
</tr>
<tr>
<td>6</td>
<td>è·¯ç”±</td>
<td>route</td>
<td>navite_routeã€h5_route</td>
</tr>
<tr>
<td>7</td>
<td>ç½‘é¡µ</td>
<td>H5</td>
<td>h5_routeã€h5_js</td>
</tr>
<tr>
<td>8</td>
<td>sdk</td>
<td>sdk</td>
<td>sdk_apiã€sdk_other</td>
</tr>
<tr>
<td>9</td>
<td>code</td>
<td>code</td>
<td>dartã€widget</td>
</tr>
<tr>
<td>10</td>
<td>åŸ‹ç‚¹</td>
<td>buriedPoint</td>
<td>api_buriedPointã€buriedPoint_other</td>
</tr>
<tr>
<td>11</td>
<td>ç›‘æ§</td>
<td>monitor</td>
<td>monitor_lifecycleã€monitor_network</td>
</tr>
<tr>
<td>12</td>
<td>å…¶ä»–</td>
<td>other</td>
<td>other</td>
</tr>
<tr>
<td>13</td>
<td>apiç»“æœ</td>
<td>api_result</td>
<td>type=api_app &amp; level != Normal</td>
</tr>
<tr>
<td>14</td>
<td>im</td>
<td>im</td>
<td>æœ¬åœ°ç¼“å­˜æ¶ˆæ¯ã€å†å²æ¶ˆæ¯ã€æ”¶åˆ°çš„æ¶ˆæ¯ç­‰</td>
</tr>
<tr>
<td>15</td>
<td>å¿ƒè·³</td>
<td>heartbeat</td>
</tr>
</tbody>
</table>
<h3 id="4ã€æ—¥å¿—çš„è¡¥å……æ”¶é›†åŠå…¶ç­–ç•¥"><a href="#4ã€æ—¥å¿—çš„è¡¥å……æ”¶é›†åŠå…¶ç­–ç•¥" class="headerlink" title="4ã€æ—¥å¿—çš„è¡¥å……æ”¶é›†åŠå…¶ç­–ç•¥"></a>4ã€æ—¥å¿—çš„è¡¥å……æ”¶é›†åŠå…¶ç­–ç•¥</h3><p>è¦æ”¶é›†çš„æ•°æ®å·²åœ¨ä¸Šè¿°ã€Š1.2ã€æ—¥å¿—ç±»å‹ã€‹ä¸­è¯´æ˜ã€‚</p>
<h4 id="4-1ã€é¡µé¢è·³è½¬"><a href="#4-1ã€é¡µé¢è·³è½¬" class="headerlink" title="4.1ã€é¡µé¢è·³è½¬"></a>4.1ã€é¡µé¢è·³è½¬</h4><p>è¯¦è§ä¸Šè¿° ã€Š3ã€æ—¥å¿—æ•´åˆå½’ç±»ã€‹ä¸­çš„â€è·¯ç”±â€</p>
<h4 id="4-2ã€æˆªæ–­çš„æ”¶é›†"><a href="#4-2ã€æˆªæ–­çš„æ”¶é›†" class="headerlink" title="4.2ã€æˆªæ–­çš„æ”¶é›†"></a>4.2ã€æˆªæ–­çš„æ”¶é›†</h4><table>
<thead>
<tr>
<th>åºå·</th>
<th>å…³é”®å­—</th>
<th>åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>break</td>
<td>for ã€ swtich</td>
</tr>
<tr>
<td>2</td>
<td>return</td>
</tr>
</tbody>
</table>
<h4 id="4-3ã€ç”¨æˆ·å…³é”®è¡Œä¸º"><a href="#4-3ã€ç”¨æˆ·å…³é”®è¡Œä¸º" class="headerlink" title="4.3ã€ç”¨æˆ·å…³é”®è¡Œä¸º"></a>4.3ã€ç”¨æˆ·å…³é”®è¡Œä¸º</h4><table>
<thead>
<tr>
<th>åºå·</th>
<th>è¡Œä¸º</th>
<th>ç”¨é€”çš„åœºæ™¯è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ç”¨æˆ·çš„èµ„æºé€‰æ‹©</td>
<td>åˆ¤æ–­é€‰æ‹©çš„æœ¬åœ°èµ„æºæ˜¯å¦ä¸Šä¼ åˆ°é”™è¯¯çš„å­˜å‚¨æ¡¶</td>
</tr>
</tbody>
</table>
<h2 id="äºŒã€æ—¥å¿—æ•°æ®çš„æ–‡ä»¶ä¿å­˜ã€æ»šåŠ¨å­˜å‚¨"><a href="#äºŒã€æ—¥å¿—æ•°æ®çš„æ–‡ä»¶ä¿å­˜ã€æ»šåŠ¨å­˜å‚¨" class="headerlink" title="äºŒã€æ—¥å¿—æ•°æ®çš„æ–‡ä»¶ä¿å­˜ã€æ»šåŠ¨å­˜å‚¨"></a>äºŒã€æ—¥å¿—æ•°æ®çš„æ–‡ä»¶ä¿å­˜ã€æ»šåŠ¨å­˜å‚¨</h2><h3 id="1ã€æ•°æ®çš„æ–‡ä»¶ä¿å­˜"><a href="#1ã€æ•°æ®çš„æ–‡ä»¶ä¿å­˜" class="headerlink" title="1ã€æ•°æ®çš„æ–‡ä»¶ä¿å­˜"></a>1ã€æ•°æ®çš„æ–‡ä»¶ä¿å­˜</h3><p>å†™å…¥xlogæ–‡ä»¶ä¸­ã€‚</p>
<h3 id="2ã€æ•°æ®çš„æ–‡ä»¶æ»šåŠ¨å­˜å‚¨"><a href="#2ã€æ•°æ®çš„æ–‡ä»¶æ»šåŠ¨å­˜å‚¨" class="headerlink" title="2ã€æ•°æ®çš„æ–‡ä»¶æ»šåŠ¨å­˜å‚¨"></a>2ã€æ•°æ®çš„æ–‡ä»¶æ»šåŠ¨å­˜å‚¨</h3><h4 id="2-1ã€æ—¥å¿—çš„è¿‡æœŸæ¸…ç†"><a href="#2-1ã€æ—¥å¿—çš„è¿‡æœŸæ¸…ç†" class="headerlink" title="2.1ã€æ—¥å¿—çš„è¿‡æœŸæ¸…ç†"></a>2.1ã€æ—¥å¿—çš„è¿‡æœŸæ¸…ç†</h4><p>1ã€æœ¬åœ°æ—¥å¿—æ–‡ä»¶ç»“æ„</p>
<blockquote>
<p>â€“ Document</p>
<p>â€‹     â€“ log</p>
<p>â€‹         â€“ 2020-10-01</p>
<p>â€‹                â€“ xlog_2020-10-01_1.xlog</p>
<p>â€‹                â€“ xlog_2020-10-01_2.xlog</p>
<p>â€‹         â€“ 2020-10-18</p>
<p>â€‹                â€“ xlog_2020-10-18_1.xlog</p>
</blockquote>
<p>2ã€æ—¥å¿—ä¿ç•™æ¸…ç†çš„é…ç½®ä¿¡æ¯(æ‘˜è‡ª/åŒ ä¸‹æ–‡çš„æ—¥å¿—æ¥å£ä¸­çš„ã€Šæ—¥å¿—æ–‡ä»¶é…ç½®ä¿¡æ¯ã€‹)</p>
<blockquote>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è¯´æ˜</th>
<th>å­—æ®µ</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ¥å£å›å€¼1</td>
<td>æœ€å¤šä¿ç•™å‡ ä¸ªå¤©çš„æ—¥å¿—ç›®å½•</td>
<td>maxDayDirCount</td>
<td>7</td>
</tr>
<tr>
<td>æ¥å£å›å€¼2</td>
<td>æœ€å¤šæ¯å¤©ä¿ç•™å‡ ä¸ªæ–‡ä»¶</td>
<td>maxDayFileCount</td>
<td>10</td>
</tr>
<tr>
<td>æ¥å£å›å€¼3</td>
<td>æ¯ä¸ªæ—¥å¿—æ–‡ä»¶è¶…è¿‡å¤šå°‘ååˆ›å»ºæ–°æ–‡ä»¶</td>
<td>perFileMaxMB</td>
<td>5</td>
</tr>
</tbody>
</table>
</blockquote>
<p>3ã€æ¸…ç†æ–¹æ¡ˆ</p>
<p>åœ¨åˆ‡æ¢å‰åå°çš„æ—¶å€™ï¼Œ</p>
<ul>
<li>æ—¥å¿—é…ç½®ä¿¡æ¯çš„æ›´æ–°</li>
<li>æ ¹æ®æœ€æ–°çš„æ—¥å¿—é…ç½®ä¿¡æ¯ï¼Œå»¶è¿Ÿ10så(é¿å…å½±å“å¯åŠ¨)ï¼Œè¿›è¡Œæ¸…ç†åˆ¤æ–­åŠæ¸…ç†<ul>
<li>éå†æ€»æ—¥å¿—ç›®å½• Document/log ä¸‹çš„æ‰€æœ‰æ—¥å¿—æ–‡ä»¶å¤¹</li>
<li>å¦‚æœå¤©æ—¥å¿—æ–‡ä»¶å¤¹<strong>ä¸ªæ•°</strong>è¶…è¿‡ä¿ç•™ä¸ªæ•°ï¼ˆé¿å…æ˜¯ç”¨ä¿ç•™æ—¶é—´ï¼Œå¯¼è‡´ä¿ç•™æ—¶é—´å†…åªæœ‰ä¸€ä¸ªæ—¥å¿—ï¼Œä¹Ÿè¢«åˆ æ‰ï¼‰ï¼Œåˆ™æŒ‰é¡ºåºåˆ é™¤æ—©æœŸæ—¥å¿—<ul>
<li>éå†å¤©æ—¥å¿—ç›®å½• Document/log/yyyy-MM-dd ä¸‹çš„æ‰€æœ‰æ—¥å¿—æ–‡ä»¶å¤¹</li>
<li>å¦‚æœå¤©æ—¥å¿—æ–‡ä»¶å¤¹<strong>ä¸ªæ•°</strong>è¶…è¿‡ä¿ç•™ä¸ªæ•°ï¼ˆé¿å…æ˜¯ç”¨ä¿ç•™æ—¶é—´ï¼Œå¯¼è‡´ä¿ç•™æ—¶é—´å†…åªæœ‰ä¸€ä¸ªæ—¥å¿—ï¼Œä¹Ÿè¢«åˆ æ‰ï¼‰ï¼Œåˆ™æŒ‰é¡ºåºåˆ é™¤æ—©æœŸæ—¥å¿—</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="2-2ã€æ—¥å¿—æ–‡ä»¶çš„æ»šåŠ¨å†™å…¥"><a href="#2-2ã€æ—¥å¿—æ–‡ä»¶çš„æ»šåŠ¨å†™å…¥" class="headerlink" title="2.2ã€æ—¥å¿—æ–‡ä»¶çš„æ»šåŠ¨å†™å…¥"></a>2.2ã€æ—¥å¿—æ–‡ä»¶çš„æ»šåŠ¨å†™å…¥</h4><p>è¦å¢åŠ çš„æ—¥å¿—è®°å½•ï¼Œå¦‚æœæ·»åŠ åä¼šè¶…è¿‡æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼Œåˆ™ä½¿ç”¨æ–°æ–‡ä»¶å†™å…¥ã€‚</p>
<p>ç»†èŠ‚ç‚¹ï¼š</p>
<blockquote>
<p>1ã€æ—¥å¿—æ–‡ä»¶çš„å¤§å°åˆ¤æ–­ï¼Œä¸è¦æ¯æ¬¡éƒ½å»è¯»å–æ–‡ä»¶ï¼Œè€Œæ˜¯è®°å½•ä½å¤§å°å˜åŒ–</p>
<p>2ã€æ—¥å¿—ä¸è¦æœ‰ä¸€æ¡å†™ä¸€æ¡ï¼Œè€Œæ˜¯ä½¿ç”¨å†™å…¥ç¼“å†²åŒº+å®šæ—¶å™¨ï¼Œ5så°è¯•å†™å…¥ä¸€æ¬¡</p>
</blockquote>
<h3 id="3ã€æ•°æ®çš„åŠ å¯†ã€è§£å¯†"><a href="#3ã€æ•°æ®çš„åŠ å¯†ã€è§£å¯†" class="headerlink" title="3ã€æ•°æ®çš„åŠ å¯†ã€è§£å¯†"></a>3ã€æ•°æ®çš„åŠ å¯†ã€è§£å¯†</h3><p>1ã€åŠ å¯†ï¼š</p>
<p>å†™å…¥æ—¥å¿—å­—ç¬¦ä¸²æ—¶å€™ï¼Œå¯¹ç¼–ç åçš„å­—èŠ‚æ•°æ®ï¼Œé¢å¤–å¢åŠ ä¸€ä¸ªä¸‰ä½éšæœºå€¼ã€‚</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="markdown">/// ä½¿ç”¨ GZip å‹ç¼©ç®—æ³•å°†å­—ç¬¦ä¸²è¿›è¡Œå‹ç¼©ï¼Œå¹¶è¿”å›å‹ç¼©åçš„å­—èŠ‚æ•°æ®ï¼ˆList&lt;int&gt; ç±»å‹ï¼‰ã€‚</span></span></span><br><span class="line"><span class="built_in">List</span>&lt;<span class="built_in">int</span>&gt; _gzipCompressString(<span class="built_in">String</span> inputString) &#123;</span><br><span class="line">  <span class="keyword">final</span> codec = GZipCodec();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å°†è¾“å…¥å­—ç¬¦ä¸² inputString ç¼–ç ä¸º UTF-8 æ ¼å¼çš„å­—èŠ‚æ•°æ®</span></span><br><span class="line">  <span class="keyword">final</span> encoded = utf8.encode(inputString);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å¯¹ç¼–ç åçš„å­—èŠ‚æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œå¹¶è¿”å›å‹ç¼©åçš„å­—èŠ‚æ•°æ®ã€‚</span></span><br><span class="line">  <span class="keyword">final</span> compressedData = codec.encode(encoded);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> compressedData;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="markdown">/// åŠ å¯†æ—¥å¿—å­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="built_in">String</span> _encryptLogString(<span class="built_in">String</span> logString) &#123;</span><br><span class="line">  <span class="keyword">final</span> compressedData = _gzipCompressString(logString); <span class="comment">// å‹ç¼©å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å‹ç¼©åçš„å­—èŠ‚æ•°æ®ï¼ˆList&lt;int&gt; ç±»å‹ï¼‰</span></span><br><span class="line">  <span class="keyword">final</span> randomNumber = Random().nextInt(<span class="number">800</span>) + <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">final</span> confound = compressedData.toString().substring(<span class="number">0</span>, compressedData.toString().length - <span class="number">1</span>) + <span class="string">", <span class="subst">$randomNumber</span>]"</span>; <span class="comment">// åœ¨å‹ç¼©åçš„å­—ç¬¦ä¸²å°¾éƒ¨åŠ ä¸Šä¸€ä¸ªéšæœºå­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> confound;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2ã€è§£å¯†ï¼š</p>
<p>ä½¿ç”¨pythonè„šæœ¬å¯¹logæ–‡ä»¶è¿›è¡Œè§£å¯†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> gzip</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–.clogæ–‡ä»¶å¹¶è§£ææ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_clog_file</span><span class="params">(input_file)</span>:</span></span><br><span class="line">    parsed_data = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> open(input_file, <span class="string">'r'</span>) <span class="keyword">as</span> clog_file:</span><br><span class="line">        current_data = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> clog_file:</span><br><span class="line">            <span class="keyword">if</span> current_data:</span><br><span class="line">                parsed_data.append(current_data)</span><br><span class="line">            binary_data = line[:<span class="number">-6</span>] + <span class="string">']'</span> <span class="comment"># å»é™¤åŠ å¯†æ—¶å€™é¢å¤–æ·»åŠ çš„ä¸‰ä½éšæœºæ•°</span></span><br><span class="line">            byte_data = bytes(eval(binary_data))</span><br><span class="line">            decompressed_data = gzip.decompress(byte_data)</span><br><span class="line">            <span class="comment"># current_data = byte_data.decode('utf-8')</span></span><br><span class="line">            print(decompressed_data)</span><br><span class="line">            current_data = decompressed_data.decode(<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ·»åŠ æœ€åä¸€ä¸ªæ•°æ®æ¡ç›®</span></span><br><span class="line">        <span class="keyword">if</span> current_data:</span><br><span class="line">            parsed_data.append(current_data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> parsed_data</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†è§£æåçš„æ•°æ®å†™å…¥ä¸è¾“å…¥æ–‡ä»¶åŒåçš„.logæ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_to_log_file</span><span class="params">(parsed_data, input_file)</span>:</span></span><br><span class="line">    base_name = os.path.splitext(input_file)[<span class="number">0</span>]</span><br><span class="line">    output_file = base_name + <span class="string">".log"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> open(output_file, <span class="string">'w'</span>) <span class="keyword">as</span> log_file:</span><br><span class="line">        <span class="keyword">for</span> data <span class="keyword">in</span> parsed_data:</span><br><span class="line">            log_file.write(data + <span class="string">"\n"</span>)</span><br><span class="line">            log_file.write(<span class="string">"\n"</span>)</span><br><span class="line">            log_file.write(<span class="string">"================================================================================================="</span> + <span class="string">"\n"</span>)</span><br><span class="line">            log_file.write(<span class="string">"\n"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    <span class="keyword">if</span> len(sys.argv) != <span class="number">2</span>:</span><br><span class="line">        print(<span class="string">"Usage: python script.py &lt;clogFileName&gt;"</span>)</span><br><span class="line">        sys.exit(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    input_clog_file = sys.argv[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è§£æ.clogæ–‡ä»¶</span></span><br><span class="line">    parsed_data = parse_clog_file(input_clog_file)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†è§£æåçš„æ•°æ®å†™å…¥ä¸è¾“å…¥æ–‡ä»¶åŒåçš„.logæ–‡ä»¶</span></span><br><span class="line">    write_to_log_file(parsed_data, input_clog_file)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">f"Log data parsed from <span class="subst">&#123;input_clog_file&#125;</span> and written to <span class="subst">&#123;input_clog_file&#125;</span>.log."</span>)</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ "><a href="#ä¸‰ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="ä¸‰ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ "></a>ä¸‰ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ </h2><h3 id="1ã€æ—¥å¿—æ–‡ä»¶å‘½ååŠç›®å½•è§„èŒƒ"><a href="#1ã€æ—¥å¿—æ–‡ä»¶å‘½ååŠç›®å½•è§„èŒƒ" class="headerlink" title="1ã€æ—¥å¿—æ–‡ä»¶å‘½ååŠç›®å½•è§„èŒƒ"></a>1ã€æ—¥å¿—æ–‡ä»¶å‘½ååŠç›®å½•è§„èŒƒ</h3><p>ä»¥ç”¨æˆ·<code>1000001</code>åœ¨<code>2020-01</code>æ—¶å€™ä¸Šä¼ <code>å£°éŸ³æ–‡ä»¶ beautiful_scenery.aac</code>ä¸ºä¾‹ï¼Œå…¶è·¯å¾„å®Œæ•´ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">https://media.xxx.com/app1_test1/audio/1/1000001/2020-01/beautiful_scenery.aac</span></span><br></pre></td></tr></table></figure>
<p>è¦ä¸Šä¼ çš„å­˜å‚¨æ¡¶ï¼š</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è¯´æ˜</th>
<th>å‚æ•°</th>
<th>çº¦å®šå€¼ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>å­˜å‚¨æ¡¶region<br>regionGetFunction</td>
<td>ç½‘ç»œç¯å¢ƒ</td>
<td>ap-shanghai</td>
</tr>
<tr>
<td>2</td>
<td>å­˜å‚¨æ¡¶bucket<br>bucketGetFunction</td>
<td>ç½‘ç»œç¯å¢ƒ</td>
<td>xxx-pro-image-1302324914</td>
</tr>
<tr>
<td>3</td>
<td>ä¸Šä¼ æˆåŠŸåï¼Œæ¡¶çš„æ˜ å°„è·¯å¾„å€¼<br>cosFileUrlPrefixGetFunction</td>
<td></td>
<td>1ã€å›¾ç‰‡æ¡¶ï¼š<a href="https://images.xxx.com/" target="_blank" rel="noopener">https://images.xxx.com/</a><br>2ã€åª’ä½“æ¡¶ï¼š<a href="https://media.xxx.com/" target="_blank" rel="noopener">https://media.xxx.com/</a><br>3ã€æ—¥å¿—æ¡¶ï¼š<a href="https://static.xxx.com/" target="_blank" rel="noopener">https://static.xxx.com/</a></td>
</tr>
<tr>
<td>4</td>
<td>è¦ä¸Šä¼ åˆ°æ¡¶çš„å“ªä¸ªç›¸å¯¹è·¯å¾„ä¸‹<br>cosFileRelativePathGetFunction<br>ä¸Šä¼ æˆåŠŸåå®Œæ•´è·¯å¾„=ä»¥ä¸Šæ¡¶å€¼+æ­¤ç›¸å¯¹è·¯å¾„<br></td>
<td>è§ä¸‹æ–‡</td>
<td>è§ä¸‹æ–‡<br>egï¼šapp1_test1/audio/1/1000001/2020-01/beautiful_scenery.aac</td>
</tr>
</tbody>
</table>
<p>ã€Šè¦ä¸Šä¼ åˆ°æ¡¶çš„å“ªä¸ªç›¸å¯¹è·¯å¾„ä¸‹ <strong>cosFileRelativePathGetFunction</strong> ã€‹çš„æ–‡ä»¶è·¯å¾„åˆ†æ‰¹è¯´æ˜ï¼š</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>å±‚æ¬¡è¯´æ˜</th>
<th>å±‚æ¬¡å€¼ç®—æ³•</th>
<th>å±‚æ¬¡å€¼æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.1</td>
<td>å­˜å‚¨æ¡¶é‡Œç›¸å¯¹è·¯å¾„çš„å‰ç¼€</td>
<td>appæ ‡å¿—_ç¯å¢ƒæ ‡å¿—<br>egï¼šapp1_proã€app1_test1ã€app1_dev1</td>
<td>æ–‡ä»¶åŒºåˆ†</td>
</tr>
<tr>
<td>1.2</td>
<td>æ˜¯å¦åœ¨å­˜å‚¨æ¡¶é‡Œè¿›è¡Œè¿›ä¸€æ­¥è·¯å¾„åŒºåˆ†(å¯é€‰)</td>
<td>æ ¹æ®åœºæ™¯å†³å®šæ˜¯å¦å¯¹æ¡¶è¿›è¡Œè¿›ä¸€æ­¥åˆ†ç±»ã€‚<br>if ( mediaType == xxx ) {<br>     if(mediaScene == yyy) {<br>     <br>     }<br>}</td>
<td>å¦‚<br>1ã€éƒ½æ˜¯å›¾ç‰‡ï¼Œä½†è‡ªæ‹å›¾ç‰‡è¦æ±‚ç‹¬ç«‹å‡ºæ¥<br>2ã€éƒ½æ˜¯å¤šåª’ä½“ï¼Œä½†éŸ³è§†é¢‘è¦åŒºåˆ†å¼€</td>
</tr>
<tr>
<td>2.1</td>
<td>ç”¨æˆ·1çº§</td>
<td>int.parse(uid) % 1000; // å–ä½™æ•°</td>
<td>ç”¨æˆ·åå–ä½™ï¼Œæœ‰æ•ˆå‡å°‘åŒå±‚ä¸Šæ–‡ä»¶å¤¹ä¸ªæ•°</td>
</tr>
<tr>
<td>2.2</td>
<td>ç”¨æˆ·2çº§</td>
<td>uid</td>
<td>ç”¨æˆ·å</td>
</tr>
<tr>
<td>3</td>
<td>å¹´æœˆ</td>
<td>DateTime.now().toString().substring(0, 7);</td>
<td>å¹´-æœˆ</td>
</tr>
<tr>
<td>4</td>
<td>æ–‡ä»¶å</td>
<td>${fileOriginName}_<br>${DateTime.now().microsecondsSinceEpoch}<br>.$fileExtensionType</td>
<td>æ–‡ä»¶å</td>
</tr>
</tbody>
</table>
<p>é™„1ï¼šMediaType åª’ä½“ç±»å‹</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>UploadMediaType åª’ä½“ç±»å‹</th>
<th>æè¿°</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>unkonw</td>
<td>æœªçŸ¥ï¼ˆé»˜è®¤å€¼ï¼‰</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>image</td>
<td>å›¾ç‰‡</td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>audio</td>
<td>éŸ³é¢‘</td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>video</td>
<td>è§†é¢‘</td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>xlog</td>
<td>æ—¥å¿—æ–‡ä»¶</td>
</tr>
</tbody>
</table>
<p>é™„2ï¼šMediaSceneåœºæ™¯ è¯´æ˜</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>UploadMediaSceneåœºæ™¯</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>unkonw</td>
<td>æœªçŸ¥ï¼ˆé»˜è®¤å€¼ï¼‰</td>
</tr>
<tr>
<td>2</td>
<td>selfie</td>
<td>è‡ªæ‹ï¼ˆå®‰å…¨ç­‰çº§è¾ƒå¤šï¼‰</td>
</tr>
<tr>
<td>3</td>
<td>im</td>
<td>ä¼šè¯èŠå¤©</td>
</tr>
<tr>
<td>4</td>
<td>live</td>
<td>ç›´æ’­</td>
</tr>
</tbody>
</table>
<h2 id="å››ã€æ—¥å¿—æ¥å£"><a href="#å››ã€æ—¥å¿—æ¥å£" class="headerlink" title="å››ã€æ—¥å¿—æ¥å£"></a>å››ã€æ—¥å¿—æ¥å£</h2><h3 id="1ã€æ—¥å¿—è®°å½•æ¥å£ï¼ˆåŒºåˆ«äºå›ææ¥å£ï¼Œéœ€è¦åœ¨å›æå‰å°±æœ‰æ—¥å¿—ä¿¡æ¯ï¼‰"><a href="#1ã€æ—¥å¿—è®°å½•æ¥å£ï¼ˆåŒºåˆ«äºå›ææ¥å£ï¼Œéœ€è¦åœ¨å›æå‰å°±æœ‰æ—¥å¿—ä¿¡æ¯ï¼‰" class="headerlink" title="1ã€æ—¥å¿—è®°å½•æ¥å£ï¼ˆåŒºåˆ«äºå›ææ¥å£ï¼Œéœ€è¦åœ¨å›æå‰å°±æœ‰æ—¥å¿—ä¿¡æ¯ï¼‰"></a>1ã€æ—¥å¿—è®°å½•æ¥å£ï¼ˆåŒºåˆ«äºå›ææ¥å£ï¼Œéœ€è¦åœ¨å›æå‰å°±æœ‰æ—¥å¿—ä¿¡æ¯ï¼‰</h3><p>1ã€æ˜¯å¦è®°å½•æ—¥å¿—çš„å¼€å…³åŠå…¶é…ç½®ä¿¡æ¯</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è¯´æ˜</th>
<th>å­—æ®µ</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç½‘é¡µé…ç½®1</td>
<td>æ˜¯å¦å¼€å¯æ—¥å¿—è®°å½•</td>
<td>isLogOn</td>
<td>1:å¼€å¯ã€å…¶ä»–:å…³</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®2</td>
<td>è¦å¼€å¯æ—¥å¿—çš„ç”¨æˆ·(ç°åº¦ä¸Šçº¿)<br>(å½“ä¸”ä»…å½“å¼€å¯ä¸Šè¿°æ—¥å¿—è®°å½•æ—¶æœ‰æ•ˆ)<br>ğŸ“¢ï¼šæœªé…ç½®ä½†å¼€å…³ä¸ºå¼€æ—¶ä¸ºå…¨è®°å½•</td>
<td>logUserids</td>
<td>[â€œ101â€, â€œ102â€]</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®3</td>
<td>è¦å¼€å¯æ—¥å¿—çš„è®¾å¤‡(ç°åº¦ä¸Šçº¿)<br>(å½“ä¸”ä»…å½“å¼€å¯ä¸Šè¿°æ—¥å¿—è®°å½•æ—¶æœ‰æ•ˆ)<br>ğŸ“¢ï¼šæœªé…ç½®ä½†å¼€å…³ä¸ºå¼€æ—¶ä¸ºå…¨è®°å½•</td>
<td>logDeviceIds</td>
<td>[â€œudid001â€, â€œudid002â€]</td>
</tr>
<tr>
<td>æ¥å£å›å€¼1</td>
<td>æ˜¯å¦è¿›è¡Œæ—¥å¿—è®°å½•(ç°åº¦ä¸Šçº¿)</td>
<td>needLog</td>
<td>1:è®°å½•ã€å…¶ä»–:ä¸è®°å½•</td>
</tr>
</tbody>
</table>
<p>2ã€ä¸éœ€è¦è®°å½•ä»€ä¹ˆæ—¥å¿—ä¿¡æ¯</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è¯´æ˜</th>
<th>å­—æ®µ</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ¥å£å›å€¼1</td>
<td>ä¸éœ€è¦è®°å½•çš„æ—¥å¿—ç±»å‹</td>
<td>ignoreLogLevel</td>
<td>[â€œNormalâ€, â€œSuccessâ€]</td>
</tr>
<tr>
<td>æ¥å£å›å€¼2</td>
<td>ä¸éœ€è¦è®°å½•çš„æ—¥å¿—ç­‰çº§</td>
<td>ignoreLogType</td>
<td>[â€œapi_buriedPointâ€, â€œburiedPoint_otherâ€]</td>
</tr>
</tbody>
</table>
<p>3ã€æ—¥å¿—æ–‡ä»¶é…ç½®ä¿¡æ¯</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è¯´æ˜</th>
<th>å­—æ®µ</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ¥å£å›å€¼1</td>
<td>æœ€å¤šä¿ç•™å‡ ä¸ªå¤©çš„æ—¥å¿—ç›®å½•</td>
<td>maxDayDirCount</td>
<td>7</td>
</tr>
<tr>
<td>æ¥å£å›å€¼2</td>
<td>æœ€å¤šæ¯å¤©ä¿ç•™å‡ ä¸ªæ–‡ä»¶</td>
<td>maxDayFileCount</td>
<td>10</td>
</tr>
<tr>
<td>æ¥å£å›å€¼3</td>
<td>æ¯ä¸ªæ—¥å¿—æ–‡ä»¶è¶…è¿‡å¤šå°‘ååˆ›å»ºæ–°æ–‡ä»¶</td>
<td>perFileMaxMB</td>
<td>5</td>
</tr>
</tbody>
</table>
<p>4ã€æ—¥å¿—æ–‡ä»¶é—®é¢˜å›æ»š</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è¯´æ˜</th>
<th>å­—æ®µ</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç½‘é¡µé…ç½®1</td>
<td>å¼ºåˆ¶åˆ é™¤ä»€ä¹ˆæ—¶é—´å‰çš„æ—¥å¿—</td>
<td>removeLogBeforeDate</td>
<td>2020-12-31</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®2</td>
<td>å¼ºåˆ¶åˆ é™¤å“ªä¸ªç”¨æˆ·çš„æ—¥å¿—</td>
<td>removeUserids</td>
<td>[â€œ101â€, â€œ102â€]</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®2</td>
<td>å¼ºåˆ¶åˆ é™¤å“ªä¸ªè®¾å¤‡çš„æ—¥å¿—</td>
<td>logDeviceIds</td>
<td>[â€œudid001â€, â€œudid002â€]</td>
</tr>
<tr>
<td>æ¥å£å›å€¼1</td>
<td>å¼ºåˆ¶åˆ é™¤ä»€ä¹ˆæ—¶é—´å‰çš„æ—¥å¿—(ä¸åˆ é™¤æ—¶ç©º)</td>
<td>removeLogBeforeDate</td>
<td>2020-12-31 æˆ– ç©ºå€¼</td>
</tr>
</tbody>
</table>
<p>æ¥å£åå®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function getLoggerConfig(userid, deviceId)</span><br></pre></td></tr></table></figure>
<p>æ¥å£ç»“æœçš„jsonç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">"logConfig"</span>: &#123;</span><br><span class="line">		<span class="attr">"needLog"</span>: <span class="number">1</span>,</span><br><span class="line">		<span class="attr">"ignoreLogLevel"</span>: [<span class="string">"Normal"</span>, <span class="string">"Success"</span>],</span><br><span class="line">		<span class="attr">"ignoreLogType"</span>: [<span class="string">"api_buriedPoint"</span>, <span class="string">"buriedPoint_other"</span>],</span><br><span class="line">		<span class="attr">"maxDayDirCount"</span>: <span class="number">7</span>,</span><br><span class="line">		<span class="attr">"maxDayFileCount"</span>: <span class="number">10</span>,</span><br><span class="line">		<span class="attr">"perFileMaxMB"</span>: <span class="number">5</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">"logRevert"</span>: &#123;</span><br><span class="line">		<span class="attr">"removeLogBeforeDate"</span>: <span class="string">"2020-12-31"</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2ã€æ—¥å¿—å›æåŠé—®é¢˜å›æ»šæ¥å£"><a href="#2ã€æ—¥å¿—å›æåŠé—®é¢˜å›æ»šæ¥å£" class="headerlink" title="2ã€æ—¥å¿—å›æåŠé—®é¢˜å›æ»šæ¥å£"></a>2ã€æ—¥å¿—å›æåŠé—®é¢˜å›æ»šæ¥å£</h3><p>1ã€æ—¥å¿—å›æ</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è¯´æ˜</th>
<th>å­—æ®µ</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç½‘é¡µé…ç½®1</td>
<td>è¦å›ææ—¥å¿—çš„ç”¨æˆ·</td>
<td>salvageUserids</td>
<td>[â€œ101â€, â€œ102â€]</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®2</td>
<td>è¦å›ææ—¥å¿—çš„è®¾å¤‡</td>
<td>salvageDeviceIds</td>
<td>[â€œudid001â€, â€œudid002â€]</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®3</td>
<td>æ—¥å¿—å›æçš„å¼€å§‹æ—¶é—´</td>
<td>salvageStartDate</td>
<td>2020-01-01</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®4</td>
<td>æ—¥å¿—å›æçš„ç»“æŸæ—¶é—´</td>
<td>salvageEndDate</td>
<td>2020-01-07</td>
</tr>
<tr>
<td>æ¥å£å›å€¼1</td>
<td>æ­¤ç”¨æˆ·æ­¤è®¾å¤‡æ—¥å¿—å›æçš„å¼€å§‹æ—¶é—´</td>
<td>salvageStartDate</td>
<td>2020-01-01</td>
</tr>
<tr>
<td>æ¥å£å›å€¼1</td>
<td>æ­¤ç”¨æˆ·æ­¤è®¾å¤‡æ—¥å¿—å›æçš„ç»“æŸæ—¶é—´</td>
<td>salvageEndDate</td>
<td>2020-01-07</td>
</tr>
</tbody>
</table>
<p>2ã€æ—¥å¿—æ–‡ä»¶é—®é¢˜å›æ»š</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>è¯´æ˜</th>
<th>å­—æ®µ</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç½‘é¡µé…ç½®1</td>
<td>å¼ºåˆ¶åˆ é™¤ä»€ä¹ˆæ—¶é—´å‰çš„æ—¥å¿—</td>
<td>removeLogBeforeDate</td>
<td>2020-12-31</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®2</td>
<td>å¼ºåˆ¶åˆ é™¤å“ªä¸ªç”¨æˆ·çš„æ—¥å¿—</td>
<td>removeUserids</td>
<td>[â€œ101â€, â€œ102â€]</td>
</tr>
<tr>
<td>ç½‘é¡µé…ç½®2</td>
<td>å¼ºåˆ¶åˆ é™¤å“ªä¸ªè®¾å¤‡çš„æ—¥å¿—</td>
<td>logDeviceIds</td>
<td>[â€œudid001â€, â€œudid002â€]</td>
</tr>
<tr>
<td>æ¥å£å›å€¼1</td>
<td>å¼ºåˆ¶åˆ é™¤ä»€ä¹ˆæ—¶é—´å‰çš„æ—¥å¿—(ä¸åˆ é™¤æ—¶ç©º)</td>
<td>removeLogBeforeDate</td>
<td>2020-12-31 æˆ– ç©ºå€¼</td>
</tr>
</tbody>
</table>
<p>æ¥å£åå®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function getLoggerSalvageAndRevert(salvageUserids, salvageDeviceIds)</span><br></pre></td></tr></table></figure>
<p>æ¥å£ç»“æœçš„jsonç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"salvageId"</span>: <span class="string">"1001"</span>, </span><br><span class="line">	<span class="attr">"salvageStartDate"</span>: <span class="string">"2020-01-01"</span>,</span><br><span class="line">  <span class="attr">"salvageEndDate"</span>: <span class="string">"2020-01-07"</span>,</span><br><span class="line">	<span class="attr">"removeLogBeforeDate"</span>: <span class="string">"2020-12-31"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ åˆ°cosååŒæ­¥ç»™åå°"><a href="#3ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ åˆ°cosååŒæ­¥ç»™åå°" class="headerlink" title="3ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ åˆ°cosååŒæ­¥ç»™åå°"></a>3ã€æ—¥å¿—æ–‡ä»¶ä¸Šä¼ åˆ°cosååŒæ­¥ç»™åå°</h3><p>ç”¨é€”ï¼šæ—¥å¿—æ–‡ä»¶ä¸Šä¼ åˆ°cosååŒæ­¥ç»™åå°ï¼Œåå°æ•°æ®åº“è®°å½•æ¯ä¸ªç”¨æˆ·ï¼Œæ¯ä¸ªè®¾å¤‡éƒ½æåˆ°äº†ä»€ä¹ˆæ•°æ®ã€‚</p>
<p>æ¥å£åå®šä¹‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function addLoggerFile(userid, deviceId)</span><br></pre></td></tr></table></figure>
<p>æ¥å£ç»“æœçš„jsonç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å››ã€æ—¥å¿—å›æ"><a href="#å››ã€æ—¥å¿—å›æ" class="headerlink" title="å››ã€æ—¥å¿—å›æ"></a>å››ã€æ—¥å¿—å›æ</h2><p>1ã€åå°é€šè¿‡æ¥å£è¿”å›è¦å›æçš„ä¿¡æ¯ã€‚</p>
<p>2ã€å‰ç«¯ç”¨æˆ·åœ¨ä¸‹æ¬¡ä½¿ç”¨ï¼Œæ”¶åˆ°åå°ä¿¡æ¯æ—¶å€™ï¼Œè¿›è¡Œæœ¬åœ°æ—¥å¿—çš„ä¸Šä¼ ã€‚åœ¨è…¾äº‘å­˜å‚¨æ¡¶èƒ½æ”¶åˆ°å¯¹åº”æ—¥å¿—ï¼Œå³ä»£è¡¨æˆåŠŸã€‚</p>
<h2 id="äº”ã€æ–¹æ¡ˆå®æ–½"><a href="#äº”ã€æ–¹æ¡ˆå®æ–½" class="headerlink" title="äº”ã€æ–¹æ¡ˆå®æ–½"></a>äº”ã€æ–¹æ¡ˆå®æ–½</h2><p>ç°åº¦æ–¹æ¡ˆï¼šè¯·å‚ç…§ <a href="../ç°åº¦/ç°åº¦ç³»ç»Ÿ">ç°åº¦ç³»ç»Ÿ </a> ã€‚ï¼ˆé™„ï¼šæ—¥å¿—è®°å½•å¼€å…³é‡Œç›®å‰å·²æœ‰ç°åº¦ç­–ç•¥ã€‚ï¼‰</p>
<p>ç›®çš„ï¼šé¿å…åŠŸèƒ½å¼‚å¸¸ï¼Œå‡ºç°é›†ä½“æ€§é—®é¢˜ã€‚</p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Architectureæ¶æ„/æ—¥å¿—/æ—¥å¿—ç³»ç»Ÿ/" data-id="cls1nx64000bz6er4ng656ugf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Architecture/">Architecture</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Architectureæ¶æ„/ç™½å±/ç™½å±é¢„é˜²ç›‘æµ‹" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Architectureæ¶æ„/ç™½å±/ç™½å±é¢„é˜²ç›‘æµ‹/" class="article-date">
  <time datetime="2018-03-21T09:08:41.000Z" itemprop="datePublished">2018-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Architectureæ¶æ„/ç™½å±/ç™½å±é¢„é˜²ç›‘æµ‹/">ç™½å±é¢„é˜²ç›‘æµ‹</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<p>ã€æŠ€æœ¯ä¾§ã€‘é¢„åŠ è½½ä¼˜åŒ–â€“æ„¿æœ›å•é¦–é¡µ(ç»§ç»­å®Œå–„)</p>
<p>é¢„åŠ è½½ä¸‹é¡µæ•°æ®æ—¶åŒ…å«é¢„åŠ è½½å›¾ç‰‡</p>
<p>æ— è¶Šæ»‘è¶Šå¡å’Œå‘çƒ­ç­‰ç°è±¡</p>
<p>ä¼˜åŒ–æ„¿æœ›å•è½®æ’­å›¾å¹³æ»‘åº¦ã€æ„¿æœ›å•è¯¦æƒ…è¿”å›ä¼˜åŒ–</p>
<p>appæç¤ºè¯­æ—¶æœºä¼˜åŒ–(æ¸¸æˆå†…ä¸æ˜¾ç¤º)</p>
<p>è¿›å…¥æ¸¸æˆåï¼Œappå†…çš„å› è¯·æ±‚æ…¢è€Œæ™šå‡ºç°çš„æç¤ºè¯­ä¸åœ¨æ¸¸æˆå†…æ˜¾ç¤º</p>
<p>æ—¥å¿—ä¼˜åŒ–</p>
<p>1ã€èƒ½çœ‹åˆ°é¡µé¢å‡†ç¡®çš„è·³è½¬ä¿¡æ¯(ä¸­æ–‡)<br>2ã€æ—¥å¿—è¯»å†™æ€§èƒ½ä¼˜åŒ–<br>3ã€æ—¥å¿—å›æä½¿ç”¨å¾…æ–°å¼€å‘çš„åå°æ¥å£ï¼Œå‡å°‘å‰ç«¯åˆ¤æ–­</p>
<p>å»ºç«‹APPæœ¬åœ°å­˜å‚¨ç©ºé—´è‡ªç®¡ç†</p>
<p>1ã€æ–°å¢åˆ é™¤å›¾ç‰‡ç¼“å­˜</p>
<p>2ã€æ–°å¢åˆ é™¤è§†é¢‘ç¼“å­˜</p>
<p>æ¸¸æˆè·¯ç”±è·³è½¬é€»è¾‘ä¼˜åŒ–</p>
<p>ä»¥è¿›å…¥æ¸¸æˆæ—¶çš„é¡µé¢ä¸ºèµ·ç‚¹ï¼Œå…³é—­æ¸¸æˆæ—¶å›åˆ°èµ·ç‚¹ï¼Œæ¸¸æˆå†…ä¸å¯è¿”å›appé¡µé¢</p>
<p>é¡µé¢åŠ è½½æ—¶é•¿TTI</p>
<p>ç«å±±å¼•æ“ä¸Šå¯ä»¥æŸ¥çœ‹æ¯ä¸ªé¡µé¢çš„åŠ è½½æ—¶é•¿</p>
<p>é¡µé¢èƒ½å¯¹ä¸Šå…·ä½“çš„ä¸­æ–‡</p>
<h1 id="ç™½å±é¢„é˜²ç›‘æµ‹"><a href="#ç™½å±é¢„é˜²ç›‘æµ‹" class="headerlink" title="ç™½å±é¢„é˜²ç›‘æµ‹"></a>ç™½å±é¢„é˜²ç›‘æµ‹</h1><h2 id="ä¸€ã€ç™½å±å‡ºç°åœºæ™¯"><a href="#ä¸€ã€ç™½å±å‡ºç°åœºæ™¯" class="headerlink" title="ä¸€ã€ç™½å±å‡ºç°åœºæ™¯"></a>ä¸€ã€ç™½å±å‡ºç°åœºæ™¯</h2><table>
<thead>
<tr>
<th>åºå·</th>
<th>å‡ºç°åœºæ™¯</th>
<th>ç”¨æˆ·è¡Œä¸º</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>é¡µé¢è¿”å›</td>
<td>ç‚¹å‡»</td>
</tr>
<tr>
<td>2</td>
<td>é¡µé¢è¿›å…¥</td>
<td>ç‚¹å‡»</td>
</tr>
<tr>
<td>3</td>
<td>åå°è¿”å›</td>
<td>ç‚¹å‡»</td>
</tr>
</tbody>
</table>
<h2 id="äºŒã€å„å‡ºç°åœºæ™¯å¯èƒ½åŸå› åˆ†æ"><a href="#äºŒã€å„å‡ºç°åœºæ™¯å¯èƒ½åŸå› åˆ†æ" class="headerlink" title="äºŒã€å„å‡ºç°åœºæ™¯å¯èƒ½åŸå› åˆ†æ"></a>äºŒã€å„å‡ºç°åœºæ™¯å¯èƒ½åŸå› åˆ†æ</h2><h3 id="1ã€é¡µé¢è¿”å›"><a href="#1ã€é¡µé¢è¿”å›" class="headerlink" title="1ã€é¡µé¢è¿”å›"></a>1ã€é¡µé¢è¿”å›</h3><table>
<thead>
<tr>
<th>åºå·</th>
<th>è¿”å›è§¦å‘åœºæ™¯</th>
<th>ä¼˜åŒ–</th>
<th>æ—¥å¿—</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ç”¨æˆ·ç‚¹å‡»é¡µé¢è¿”å›</td>
<td>é¡µé¢è¿”å›ç»Ÿä¸€å°è£…åŠè°ƒç”¨</td>
<td>å¹¶ç›‘æµ‹è¿”å›æ—¥å¿—</td>
</tr>
<tr>
<td></td>
<td>H5è°ƒç”¨JSå…³é—­ç½‘é¡µ</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>ç”¨æˆ·å¼¹çª—å…³é—­(Flutter)</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2ã€é¡µé¢è¿›å…¥"><a href="#2ã€é¡µé¢è¿›å…¥" class="headerlink" title="2ã€é¡µé¢è¿›å…¥"></a>2ã€é¡µé¢è¿›å…¥</h3><h2 id="ä¸‰ã€ç™½å±å‡ºç°æ—¶æœºæ—¥å¿—æ•è·"><a href="#ä¸‰ã€ç™½å±å‡ºç°æ—¶æœºæ—¥å¿—æ•è·" class="headerlink" title="ä¸‰ã€ç™½å±å‡ºç°æ—¶æœºæ—¥å¿—æ•è·"></a>ä¸‰ã€ç™½å±å‡ºç°æ—¶æœºæ—¥å¿—æ•è·</h2><h3 id="1ã€è¡Œä¸ºæ—¥å¿—"><a href="#1ã€è¡Œä¸ºæ—¥å¿—" class="headerlink" title="1ã€è¡Œä¸ºæ—¥å¿—"></a>1ã€è¡Œä¸ºæ—¥å¿—</h3><h3 id="2ã€å‡ºç°æ—¥å¿—"><a href="#2ã€å‡ºç°æ—¥å¿—" class="headerlink" title="2ã€å‡ºç°æ—¥å¿—"></a>2ã€å‡ºç°æ—¥å¿—</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Architectureæ¶æ„/ç™½å±/ç™½å±é¢„é˜²ç›‘æµ‹/" data-id="cls1nx65l00cn6er4rldw4v89" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Architecture/">Architecture</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-1éœ€æ±‚è§„åˆ’" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-1éœ€æ±‚è§„åˆ’/" class="article-date">
  <time datetime="2018-03-21T09:08:41.000Z" itemprop="datePublished">2018-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-1éœ€æ±‚è§„åˆ’/">é¡µé¢åŠ è½½æ—¶é•¿-1éœ€æ±‚è§„åˆ’</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="é¡µé¢åŠ è½½æ—¶é•¿-1éœ€æ±‚è§„åˆ’"><a href="#é¡µé¢åŠ è½½æ—¶é•¿-1éœ€æ±‚è§„åˆ’" class="headerlink" title="é¡µé¢åŠ è½½æ—¶é•¿-1éœ€æ±‚è§„åˆ’"></a>é¡µé¢åŠ è½½æ—¶é•¿-1éœ€æ±‚è§„åˆ’</h1><h2 id="ä¸€ã€éœ€æ±‚ä¸€æœŸ"><a href="#ä¸€ã€éœ€æ±‚ä¸€æœŸ" class="headerlink" title="ä¸€ã€éœ€æ±‚ä¸€æœŸ"></a>ä¸€ã€éœ€æ±‚ä¸€æœŸ</h2><h3 id="1ã€æ–°å¢åŸç”Ÿé¡µé¢çš„-å¼‚å¸¸Typeã€TTI"><a href="#1ã€æ–°å¢åŸç”Ÿé¡µé¢çš„-å¼‚å¸¸Typeã€TTI" class="headerlink" title="1ã€æ–°å¢åŸç”Ÿé¡µé¢çš„ å¼‚å¸¸Typeã€TTI"></a>1ã€æ–°å¢åŸç”Ÿé¡µé¢çš„ å¼‚å¸¸Typeã€TTI</h3><p>1ã€æ”¹é€ ç«å±±æ·»åŠ <strong>FPã€FCPã€FMP</strong>ä¸»è¦çš„æ—¶é•¿æ•°æ®ã€‚</p>
<p>â‘ ï¼Ÿï¼Ÿï¼Ÿé¡µé¢æ—¶é•¿æ”¯æŒä» <strong>è·³è½¬</strong> æˆ– <strong>init</strong> å¼€å§‹ï¼›</p>
<p>â‘¡æ–°å¢ <strong>FMP_TYPE</strong> ç±»å‹ï¼Œå½“ç±»å‹å¼‚å¸¸æ—¶å€™ï¼Œä¸è¿›è¡Œæ—¶é•¿ä¸ŠæŠ¥ï¼Œé¿å…å¼±ç½‘ç­‰å¼‚å¸¸ç¯å¢ƒä¸‹å¯¹ä¸»æ•°æ®çš„å¹³å‡ç»Ÿè®¡çš„å¹²æ‰°ã€‚</p>
<p>Typeç±»å‹çš„è¯´æ˜å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>æ ‡è¯†</th>
<th>æè¿°</th>
<th>åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Success</td>
<td>æˆåŠŸ</td>
<td>ç”¨æˆ·è¿›æ¥æ”¾ç€ç­‰å¾…åˆ°å®ŒæˆåŠ è½½å®Œï¼Œæ•°æ®é‡å°‘ï¼Œä½†æ˜¯æ˜¯å‡†ç¡®çš„æ—¶é•¿</td>
</tr>
<tr>
<td>2</td>
<td>PointDown</td>
<td>ç”¨æˆ·ç‚¹å‡»</td>
<td>ç”¨æˆ·è¿›æ¥å¯èƒ½é©¬ä¸Šæ»‘åŠ¨æˆ–è·³è½¬åˆ°ä¸‹ä¸€é¡µï¼Œæ—¶é—´å¿«</td>
</tr>
<tr>
<td>3</td>
<td>TimeOut</td>
<td>è¶…æ—¶</td>
<td>å¼±ç½‘è¶…æ—¶ç­‰ï¼Œæ—¶é—´é•¿</td>
</tr>
</tbody>
</table>
<p>å¤„ç†åï¼Œæä¾›çš„æ•°æ®è¡¨ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>é¡µé¢æè¿°</th>
<th>FP</th>
<th>FCP</th>
<th>FMP</th>
<th>FMP_TYPE</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ä½œå“é¦–é¡µ</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>2</td>
<td>å•†åŸé¦–é¡µ</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>3</td>
<td>å‘å¸ƒé¡µé¢</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>4</td>
<td>æ¶ˆæ¯é¦–é¡µ</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>5</td>
<td>æˆ‘çš„é¦–é¡µ</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
</tbody>
</table>
<p>2ã€è®¾è®¡å¹¶æ–°å¢<strong>TTI</strong>åŠŸèƒ½ï¼ŒåŠå…¶æ•°æ®ç±»å‹ã€‚</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>é¡µé¢æè¿°</th>
<th>FP</th>
<th>FCP</th>
<th>FMP</th>
<th>TTI</th>
<th>FMP_TYPE</th>
<th>TTI_TYPE</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ä½œå“é¦–é¡µ</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td>â€”-</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>2</td>
<td>å•†åŸé¦–é¡µ</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td>â€”-</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>3</td>
<td>å‘å¸ƒé¡µé¢</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td>â€”-</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>4</td>
<td>æ¶ˆæ¯é¦–é¡µ</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td>â€”-</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>5</td>
<td>æˆ‘çš„é¦–é¡µ</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td>â€”-</td>
<td>ğŸ†•</td>
</tr>
</tbody>
</table>
<h2 id="äºŒã€éœ€æ±‚äºŒæœŸ"><a href="#äºŒã€éœ€æ±‚äºŒæœŸ" class="headerlink" title="äºŒã€éœ€æ±‚äºŒæœŸ"></a>äºŒã€éœ€æ±‚äºŒæœŸ</h2><h3 id="1ã€åŸç”Ÿè§†å›¾â€“è·¯ç”±é¡µå†…çš„æ ‡ç­¾é¡µ"><a href="#1ã€åŸç”Ÿè§†å›¾â€“è·¯ç”±é¡µå†…çš„æ ‡ç­¾é¡µ" class="headerlink" title="1ã€åŸç”Ÿè§†å›¾â€“è·¯ç”±é¡µå†…çš„æ ‡ç­¾é¡µ"></a>1ã€åŸç”Ÿè§†å›¾â€“è·¯ç”±é¡µå†…çš„æ ‡ç­¾é¡µ</h3><p>è·¯ç”±é¡µå†…çš„æ ‡ç­¾é¡µï¼Œéœ€è¦é›†æˆåŸºç±»ï¼Œç»Ÿä¸€åœ¨åŸºç±»çš„<code>init</code>ä¸­å¼€å¯è®°å½•ï¼Œ<code>dispose</code>çš„æ—¶å€™ç»“æŸè®°å½•ã€‚</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>é¡µé¢æè¿°</th>
<th>FP</th>
<th>FCP</th>
<th>FMP</th>
<th>TTI</th>
<th>FMP_TYPE</th>
<th>TTI_TYPE</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ğŸ†•ä½œå“â€“æ¨è</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
<tr>
<td>2</td>
<td>ğŸ†•ä½œå“â€“åŒåŸ</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
<tr>
<td>3</td>
<td>ğŸ†•ä½œå“â€“çƒ­å•</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
<tr>
<td>4</td>
<td>ğŸ†•ä½œå“â€“å…³æ³¨</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
</tbody>
</table>
<h3 id="2ã€éåŸç”Ÿé¡µé¢â€“H5"><a href="#2ã€éåŸç”Ÿé¡µé¢â€“H5" class="headerlink" title="2ã€éåŸç”Ÿé¡µé¢â€“H5"></a>2ã€éåŸç”Ÿé¡µé¢â€“H5</h3><p>æ–°å¢æ¸¸æˆç­‰H5ï¼ˆéåŸç”Ÿé¡µé¢ï¼‰çš„æ—¶é•¿æ•°æ®</p>
<table>
<thead>
<tr>
<th>æè¿°</th>
<th>FP</th>
<th>FCP</th>
<th>FMP</th>
<th>TTI</th>
<th>FMP_TYPE</th>
<th>TTI_TYPE</th>
</tr>
</thead>
<tbody>
<tr>
<td>ğŸ†•H5-æ¸¸æˆ</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
<tr>
<td>ğŸ†•H5-ç”¨æˆ·åè®®</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
<tr>
<td>ğŸ†•H5-éšç§æ”¿ç­–</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
<tr>
<td>ğŸ†•H5-è¯ä»¶ä¿¡æ¯</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
<tr>
<td>ğŸ†•H5-æ´»åŠ¨é¡µ</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
</tr>
</tbody>
</table>
<h2 id="ä¸‰ã€éœ€æ±‚ä¸‰æœŸ"><a href="#ä¸‰ã€éœ€æ±‚ä¸‰æœŸ" class="headerlink" title="ä¸‰ã€éœ€æ±‚ä¸‰æœŸ"></a>ä¸‰ã€éœ€æ±‚ä¸‰æœŸ</h2><h3 id="1ã€æ–°å¢ç½‘ç»œåŠ è½½æ—¶é•¿æ•°æ®ã€‚"><a href="#1ã€æ–°å¢ç½‘ç»œåŠ è½½æ—¶é•¿æ•°æ®ã€‚" class="headerlink" title="1ã€æ–°å¢ç½‘ç»œåŠ è½½æ—¶é•¿æ•°æ®ã€‚"></a>1ã€æ–°å¢ç½‘ç»œåŠ è½½æ—¶é•¿æ•°æ®ã€‚</h3><p>ä½œç”¨ï¼šå½“ç½‘ç»œåŠ è½½æ—¶é•¿å¼‚å¸¸æ—¶ï¼ŒæŸ¥çœ‹æ•´ä¸ªé¡µé¢å®Œæ•´æ˜¾ç¤ºå‰çš„æ•´æ¡ç½‘ç»œé“¾è·¯çš„è€—æ—¶ã€‚</p>
<p>é™„ï¼šå› ä¸ºå¿…é¡»æ¯ä¸ªé¡µé¢æ”¹åŠ¨åˆ°ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œæ‰€ä»¥å¯¹æ”¹åŠ¨é¡ºåºåšä»¥ä¸‹ä¼˜å…ˆçº§æ’åºã€‚</p>
<p>â‘ ä¼˜å…ˆä»¥éä¸»è¦é¡µé¢åˆ‡å…¥ï¼Œå½“ç³»ç»Ÿç¨³å®šå†è¿›è¡Œåç»­æ ¸å¿ƒé¡µé¢çš„å¤„ç†ï¼›</p>
<p>â‘¡åœ¨ç½‘ç»œè€—æ—¶åŠŸèƒ½æµ‹è¯•ç¨³å®šåï¼Œä¼˜å…ˆè¦†ç›–ä¸€çº§å’ŒäºŒçº§çš„ä¸»è¦é¡µé¢ï¼Œç»§è€Œå†å¤„ç†å…¶ä»–é¡µé¢ï¼›</p>
<p>â‘¢å¤„ç†å…¶ä»–é¡µé¢ï¼›</p>
<table>
<thead>
<tr>
<th>æè¿°</th>
<th>FP</th>
<th>FCP</th>
<th>FMP</th>
<th>ç½‘ç»œåŠ è½½æ—¶é•¿</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸€çº§é¡µé¢</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td></td>
</tr>
<tr>
<td>äºŒçº§é¡µé¢</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
</tr>
</tbody>
</table>
<h2 id="å››ã€éœ€æ±‚å››æœŸ-å•æ¡è®°å½•è¡¨"><a href="#å››ã€éœ€æ±‚å››æœŸ-å•æ¡è®°å½•è¡¨" class="headerlink" title="å››ã€éœ€æ±‚å››æœŸ(å•æ¡è®°å½•è¡¨)"></a>å››ã€éœ€æ±‚å››æœŸ(å•æ¡è®°å½•è¡¨)</h2><h3 id="1ã€æ–°å¢å¼‚å¸¸çš„çš„èµ„æºé“¾æ¥æ”¶é›†"><a href="#1ã€æ–°å¢å¼‚å¸¸çš„çš„èµ„æºé“¾æ¥æ”¶é›†" class="headerlink" title="1ã€æ–°å¢å¼‚å¸¸çš„çš„èµ„æºé“¾æ¥æ”¶é›†"></a>1ã€æ–°å¢<strong>å¼‚å¸¸çš„çš„èµ„æºé“¾æ¥</strong>æ”¶é›†</h3><p>æ–°å¢<strong>å¼‚å¸¸çš„çš„èµ„æºé“¾æ¥</strong>æ”¶é›†ï¼Œå¹¶ä¸ŠæŠ¥åˆ°æˆ‘ä»¬è‡ªå·±çš„åå°ã€‚</p>
<p>ä½œç”¨ï¼šå½“ç½‘ç»œåŠ è½½æ—¶é•¿å¼‚å¸¸æ—¶ï¼Œé€šè¿‡ä¸ŠæŠ¥çš„åå°æ•°æ®ï¼ŒæŸ¥çœ‹å¹¶åˆ†æå¼‚å¸¸åŸå› ï¼Œ</p>
<p>ä»¥ã€Šå•†å“è¯¦æƒ…çš„FMPæ—¶é•¿ã€‹å¼‚å¸¸ä¸ºä¾‹ï¼š</p>
<p>1ã€ç­›é€‰åå°æ•°æ®åº“ï¼ŒæŸ¥çœ‹ </p>
<p>â‘ page == å•†å“è¯¦æƒ…é¡µ</p>
<p>â‘¡type != success</p>
<p>å¾—åˆ° å•†å“è¯¦æƒ…çš„FMPæ—¶é•¿ å¼‚å¸¸çš„æ‰€æœ‰æ•°æ®è®°å½•</p>
<table>
<thead>
<tr>
<th>æè¿°</th>
<th>FP</th>
<th>FCP</th>
<th>FMP</th>
<th>ç½‘ç»œåŠ è½½æ—¶é•¿</th>
<th>å¤±è´¥çš„å›¾ç‰‡/è§†é¢‘é“¾æ¥</th>
<th>è¶…æ—¶çš„å›¾ç‰‡/è§†é¢‘é“¾æ¥</th>
</tr>
</thead>
<tbody>
<tr>
<td>H5-æ¸¸æˆ</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>H5-ç”¨æˆ·åè®®</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>H5-å…¶ä»–</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>â€”-</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="äº”ã€éœ€æ±‚äº”æœŸï¼ˆç½‘ç»œè€—æ—¶"><a href="#äº”ã€éœ€æ±‚äº”æœŸï¼ˆç½‘ç»œè€—æ—¶" class="headerlink" title="äº”ã€éœ€æ±‚äº”æœŸï¼ˆç½‘ç»œè€—æ—¶)"></a>äº”ã€éœ€æ±‚äº”æœŸï¼ˆç½‘ç»œè€—æ—¶)</h2><p>æœ¬éœ€æ±‚å·²ç‹¬ç«‹ä¸º<a href="./é¡µé¢åŠ è½½-2ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’">ã€Šé¡µé¢åŠ è½½-2ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’ã€‹</a></p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-1éœ€æ±‚è§„åˆ’/" data-id="cls1nx66u00d86er4s5yqf4fp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Architecture/">Architecture</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ/" class="article-date">
  <time datetime="2018-03-21T09:08:41.000Z" itemprop="datePublished">2018-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ/">é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ"><a href="#é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ" class="headerlink" title="é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ"></a>é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ</h1><h2 id="äº”ã€æ•°æ®åˆ†æ"><a href="#äº”ã€æ•°æ®åˆ†æ" class="headerlink" title="äº”ã€æ•°æ®åˆ†æ"></a>äº”ã€æ•°æ®åˆ†æ</h2><p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<ul>
<li><a href="https://docs.qq.com/sheet/DTk56aUVXckRCT2VV?tab=BB08J2" target="_blank" rel="noopener">é¡µé¢å„æ—¶é•¿æ•°æ®.excel</a></li>
</ul>
<h3 id="1ã€éœ€æ±‚ä¸€æœŸ"><a href="#1ã€éœ€æ±‚ä¸€æœŸ" class="headerlink" title="1ã€éœ€æ±‚ä¸€æœŸ"></a>1ã€éœ€æ±‚ä¸€æœŸ</h3><h4 id="1ã€åŸå§‹æ•°æ®æ•´ç†"><a href="#1ã€åŸå§‹æ•°æ®æ•´ç†" class="headerlink" title="1ã€åŸå§‹æ•°æ®æ•´ç†"></a>1ã€åŸå§‹æ•°æ®æ•´ç†</h4><p>æŒ‰ç‰ˆæœ¬æ•´ç†æ•°æ®ï¼Œæ•´ç†é¢‘ç‡ä¸ºå¸¸æ€ä¸‹çš„ä¸‹ä¸ªç‰ˆæœ¬æå®¡æ—¶ï¼Œç»Ÿè®¡ä¸Šä¸ªç‰ˆæœ¬ã€‚</p>
<p><img src="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ/page_load_data_ori1.png" alt="page_load_data_ori1" style="zoom: 40%;"></p>
<h4 id="2ã€åŸå§‹æ•°æ®åˆ†æ1â€“å¼‚å¸¸æ•°æ®"><a href="#2ã€åŸå§‹æ•°æ®åˆ†æ1â€“å¼‚å¸¸æ•°æ®" class="headerlink" title="2ã€åŸå§‹æ•°æ®åˆ†æ1â€“å¼‚å¸¸æ•°æ®"></a>2ã€åŸå§‹æ•°æ®åˆ†æ1â€“å¼‚å¸¸æ•°æ®</h4><p>1ã€åˆ¶å®šæ—¶é•¿å¼‚å¸¸çš„å‚è€ƒæ ‡å‡†ã€‚</p>
<p><img src="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ/page_load_ref1.png" alt="image-20231102162146321" style="zoom:50%;"></p>
<p>2ã€å•ç‹¬çœ‹æ¯æ¡è®°å½•ï¼ŒæŒ‰å¼‚å¸¸ç¨‹åº¦ï¼Œåˆ—å‡ºâ€è¶…æ ‡â€æ•°æ®ï¼Œå¹¶åˆ†æå¼‚å¸¸åŸå› ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<p><img src="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ/page_load_oversize1.png" alt="image-20231102161544919" style="zoom: 40%;"></p>
<p>3ã€åˆå¹¶çœ‹å‰åç‰ˆæœ¬è®°å½•ï¼Œæ¯”è¾ƒç‰ˆæœ¬å·®å¼‚æ•°æ®</p>
<p><img src="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ/page_load_data_ver1.png" alt="image-20231102162759893" style="zoom:40%;"></p>
<h3 id="2ã€éœ€æ±‚äºŒæœŸ"><a href="#2ã€éœ€æ±‚äºŒæœŸ" class="headerlink" title="2ã€éœ€æ±‚äºŒæœŸ"></a>2ã€éœ€æ±‚äºŒæœŸ</h3><p>éœ€æ±‚ï¼šé¡µé¢æ—¶é•¿å˜åŒ–è¶‹åŠ¿ï¼Œä¸åŒºåˆ†ç‰ˆæœ¬ã€‚ç»˜åˆ¶excelå˜åŒ–æ›²çº¿å›¾ã€‚</p>
<h2 id="äº”ã€æ•°æ®åˆ†æ-1"><a href="#äº”ã€æ•°æ®åˆ†æ-1" class="headerlink" title="äº”ã€æ•°æ®åˆ†æ"></a>äº”ã€æ•°æ®åˆ†æ</h2><p>å‰ç«¯APP/æ¸¸æˆï¼Œæ ¸å¿ƒé¡µé¢ã€æ ¸å¿ƒæ¥å£çš„ï¼ˆé¦–é¡µ4ä¸ªtabï¼Œå†…å®¹è¯¦æƒ…ï¼Œå•†å“è¯¦æƒ…ï¼Œå•†åŸï¼Œè®¢å•ï¼Œæˆ‘çš„ï¼›ä¸»æ€å†œåœºï¼Œå®¢æ€å†œåœºã€ä¸‹ä¸€å®¶ï¼Œæ’è¡Œæ¦œï¼Œæ¶ˆæ¯ï¼Œæ”¶è±†ï¼ŒæŠ¢ç¾Šï¼Œç¦åˆ©æ¦œï¼‰ã€‚ TTIæ—¶é—´ï¼Œæ¸¸æˆçš„åŠ è½½æ—¶é•¿ï¼ŒæŒ‰ç…§TP90/95ç»Ÿè®¡æ•°æ®ï¼ŒæŒ‰å¤©å‡ºæ•°æ®ã€‚å¦‚ä½•ä»å¤§æ•°æ®æ—¥å¿—é‡ŒæŠ“æ•°æ®ï¼Œåšæˆgrafanaç›‘æ§å¤§ç›˜</p>
<p>æ ¸å¿ƒé¡µé¢æ•°æ®åˆ†æï¼ŒæŒ‰å‘¨</p>
<p>æ ¸å¿ƒé¡µé¢æ§åˆ¶åœ¨1så†…ï¼ŒæŒ‰90åˆ†ä½æ•´ç†</p>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-1æ•´ä½“æ—¶é•¿-2æ•°æ®åˆ†æ/" data-id="cls1nx67300dc6er44pp2d4dx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Architecture/">Architecture</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-2ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-2ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’/" class="article-date">
  <time datetime="2018-03-21T09:08:41.000Z" itemprop="datePublished">2018-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-2ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’/">é¡µé¢åŠ è½½ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="é¡µé¢åŠ è½½ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’"><a href="#é¡µé¢åŠ è½½ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’" class="headerlink" title="é¡µé¢åŠ è½½ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’"></a>é¡µé¢åŠ è½½ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’</h1><h2 id="ä¸€ã€éœ€æ±‚ä¸€æœŸ"><a href="#ä¸€ã€éœ€æ±‚ä¸€æœŸ" class="headerlink" title="ä¸€ã€éœ€æ±‚ä¸€æœŸ"></a>ä¸€ã€éœ€æ±‚ä¸€æœŸ</h2><p>éœ€æ±‚ï¼šæ ¸å¿ƒé¡µé¢çš„ç½‘ç»œè€—æ—¶ç»Ÿè®¡</p>
<p>æè¿°ï¼šç»Ÿè®¡æ‰€æœ‰å½±å“é¡µé¢åŠ è½½çš„ç½‘ç»œæ¥å£çš„è®¿é—®æ—¶é•¿ï¼Œå…³è”åˆ°é¡µé¢æ•°æ®ä¸Šï¼Œå¹¶ä¸ŠæŠ¥åˆ°åå°ï¼›</p>
<p>ç›®çš„ï¼šåˆ†æç½‘ç»œè®¿é—®åœ¨é¡µé¢åŠ è½½æ—¶é•¿ä¸­çš„å æ¯”ã€‚</p>
<p>èƒŒæ™¯ï¼šä¸ºäº†åˆ†æé¡µé¢åŠ è½½æ—¶é•¿ä¸­å„ç§äº‹ä»¶ï¼ˆå½“å‰éœ€æ±‚é‡Œä»…æŒ‡ç½‘ç»œè¯·æ±‚è€—æ—¶ï¼‰çš„æ—¶é—´åˆ†å¸ƒã€‚</p>
<p>ç»“æœç¤ºä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th>æè¿°</th>
<th>æ¥å£åŠ è½½æ—¶é•¿</th>
<th>æ¥å£åŠ è½½ã€åˆšå¼€å§‹ã€‘æ—¶åˆ»</th>
<th>æ¥å£åŠ è½½ã€éƒ½ç»“æŸã€‘æ—¶åˆ»</th>
</tr>
</thead>
<tbody>
<tr>
<td>å†…å®¹é¦–é¡µï¼ˆæ¨èã€åŒåŸã€å…³æ³¨ã€çƒ­å•ï¼‰</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>å†…å®¹è¯¦æƒ…ï¼ˆå›¾æ–‡ã€è§†é¢‘ï¼‰</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>å•†åŸé¦–é¡µ</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>å•†å“è¯¦æƒ…</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>è®¢å•é¦–é¡µï¼ˆæˆ‘æ”¶åˆ°çš„ã€æˆ‘é€å‡ºçš„ï¼‰</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>è®¢å•è¯¦æƒ…</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
<tr>
<td>æˆ‘çš„é¦–é¡µ</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
<td>ğŸ†•</td>
</tr>
</tbody>
</table>
<p>æ–¹æ¡ˆï¼šéœ€è¦å¢åŠ é¡µé¢åŠ è½½è¿‡ç¨‹å¿…é¡»è¿›è¡Œçš„æ‰€æœ‰ç½‘ç»œè¯·æ±‚çš„æ€»è€—æ—¶ã€‚</p>
<p>é¢„ç®—ç»“æœï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"page_duration"</span>: <span class="number">8000</span>,</span><br><span class="line">	<span class="attr">"api"</span>: &#123;</span><br><span class="line">    	<span class="attr">"total_duration"</span>: &#123;</span><br><span class="line">        <span class="attr">"start"</span>: <span class="number">1000</span>,</span><br><span class="line">        <span class="attr">"end"</span>: <span class="number">5000</span>,</span><br><span class="line">        <span class="attr">"duration"</span>: <span class="number">4000</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    	<span class="attr">"apis"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"url"</span>: <span class="string">"api1"</span>,</span><br><span class="line">          <span class="attr">"start"</span>: <span class="number">1000</span>,</span><br><span class="line">          <span class="attr">"end"</span>: <span class="number">5000</span>,</span><br><span class="line">          <span class="attr">"duration"</span>: <span class="number">4000</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">"url"</span>: <span class="string">"api2"</span>,</span><br><span class="line">          <span class="attr">"start"</span>: <span class="number">1000</span>,</span><br><span class="line">          <span class="attr">"end"</span>: <span class="number">5000</span>,</span><br><span class="line">          <span class="attr">"duration"</span>: <span class="number">4000</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­¥éª¤ï¼š</p>
<table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>é—®é¢˜</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>ä¸€ä¸ªé¡µé¢åŠ è½½è¿‡ç¨‹å¿…é¡»è¿›è¡Œçš„æ‰€æœ‰ç½‘ç»œè¯·æ±‚æœ‰å“ªäº›</td>
<td>8</td>
<td>æ¢³ç†é¡µé¢æ¥å£ï¼Œå»ºç«‹å¹¶ç®¡ç†ã€é¡µé¢(å«é¡µé¢ç±»å‹)â€“åˆ°â€“é¡µé¢åŠ è½½è¿‡ç¨‹å¿…é¡»è¿›è¡Œçš„æ‰€æœ‰ç½‘ç»œè¯·æ±‚ã€‘çš„å…³è”è¡¨</td>
</tr>
<tr>
<td></td>
<td>è¯·æ±‚ä¸é¡µé¢åŠ è½½çš„ç»‘å®šï¼šè¯·æ±‚æ˜¯å“ªä¸ªé¡µé¢å“ªæ¬¡è¿›å…¥å‘èµ·çš„</td>
<td></td>
<td>åŸºäºæ¢³ç†çš„é¡µé¢æ¥å£ï¼Œåœ¨è¯·æ±‚æ—¶å€™</td>
</tr>
<tr>
<td></td>
<td>è¯·æ±‚æ¥å£çš„å¼€å§‹å’Œç»“æŸçš„è®°å½•åŠç½‘ç»œåº“å¯¹è¯¥æ•°æ®çš„å¯¹å¤–æä¾›å¤„ç†</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>è¯·æ±‚æ¥å£çš„å¼€å§‹å’Œç»“æŸçš„æ—¥å¿—è®°å½•åŠå±•ç¤ºå¤„ç†</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>é¡µé¢è¯·æ±‚ç®¡ç†å™¨ï¼ˆUnfinishPageApiManagerï¼‰ï¼šè®¡ç®—ä¸€ä¸ªé¡µé¢åŠ è½½è¿‡ç¨‹æ‰§è¡Œå®Œæ‰€æœ‰å¿…é¡»çš„ç½‘ç»œè¯·æ±‚çš„è€—æ—¶</td>
<td>4</td>
<td></td>
</tr>
<tr>
<td></td>
<td>é¡µé¢ç»˜åˆ¶æ‰€éœ€è¯·æ±‚è€—æ—¶ä¿¡æ¯çš„ç®¡ç†(AllPageTimeManager)</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>é¡µé¢ç»˜åˆ¶å„è€—æ—¶ä¿¡æ¯æ€»ç®¡ç†å™¨ï¼ˆäº‹ä»¶é—´ç­‰å¾…ï¼Œæ€»å®Œæˆçš„ä¸ŠæŠ¥æ—¶æœºä¼˜åŒ–ï¼‰</td>
<td>8</td>
</tr>
</tbody>
</table>
<p>1ã€æ¢³ç†é¡µé¢æ¥å£ï¼Œå»ºç«‹ã€é¡µé¢(å«é¡µé¢ç±»å‹)â€“åˆ°â€“é¡µé¢åŠ è½½è¿‡ç¨‹å¿…é¡»è¿›è¡Œçš„æ‰€æœ‰ç½‘ç»œè¯·æ±‚ã€‘çš„å…³è”è¡¨ç®¡ç†å™¨ï¼ˆé™æ€ã€å˜æ›´æ—¶éœ€è‡ªå·±æ›´æ–°ç»´æŠ¤)</p>
<p>â‘ æ¢³ç†ä¼˜å…ˆå¤„ç†çš„æ ¸å¿ƒé¡µé¢</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// allneedPage_ApiManager.dart</span><br><span class="line">class AllNeedPageApiManager &#123;</span><br><span class="line">  static Map&lt;String, dynamic&gt; allNeedPageApiMaps =</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"ContentHomePage"</span>: [api1, api2],</span><br><span class="line">    <span class="attr">"ContentDetailPage"</span>: [api1, api2],</span><br><span class="line">    <span class="attr">"MallHomePage"</span>: [api1, api2],</span><br><span class="line">    <span class="attr">"MallDetailPage"</span>: [api1, api2],</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¢åŠ Typeï¼ŒåŒºåˆ†ä¸€ä¸ªé¡µé¢ä¸åŒä¸šåŠ¡ä½¿ç”¨ã€‚å¦‚è®¢å•åˆ—è¡¨ä¸­ï¼Œæˆ‘é€å‡ºçš„å’Œæˆ‘æ”¶åˆ°çš„ï¼ŒåŒå±äºä¸€ä¸ªé¡µé¢ã€‚</p>
<p>å´é€šè¿‡type</p>
<p>2ã€ç½‘ç»œåº“æ¥å£ä¸­ï¼Œ</p>
<ul>
<li><p>è¯·æ±‚æ˜¯å“ªä¸ªé¡µé¢å“ªæ¬¡è¿›å…¥å‘èµ·çš„ï¼š</p>
<p>ä¸ºè¯·æ±‚åˆ›å»ºé¡µé¢keyï¼šæ¯æ¬¡è¿›å…¥é¡µé¢ï¼Œåˆ›å»ºé¡µé¢å”¯ä¸€keyï¼Œé¿å…ç­‰ä¸‹ç½‘ç»œè¯·æ±‚æ—¶å€™ï¼Œä¸æ™“å¾—æ˜¯å“ªä¸ªé¡µé¢å“ªä¸ªè¿›å…¥å‘èµ·çš„ã€‚</p>
</li>
<li><p>è®°å½•è¯·æ±‚è¿›è¡Œè¡¨</p>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// unfinishPage_ApiManager.dart</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnfinishPageApiManager</span> </span>&#123;</span><br><span class="line">  <span class="comment">// æ‰€æœ‰é¡µé¢çš„æ‰€æœ‰è¯·æ±‚</span></span><br><span class="line">	<span class="keyword">static</span> <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; unfinishPageApiMaps = &#123;&#125;; </span><br><span class="line">  <span class="comment">// ç¤ºä¾‹</span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; unfinishPageApiMaps =</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"ContentHomePage"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        apiUrl: api1,</span><br><span class="line">        apiStart: apiStart,</span><br><span class="line">        apiEnd: apiEnd,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        apiUrl: api2,</span><br><span class="line">        apiStart: apiStart,</span><br><span class="line">        apiEnd: apiEnd,</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">"ContentDetailPage"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        apiUrl: api1,</span><br><span class="line">        apiStart: apiStart,</span><br><span class="line">        apiEnd: apiEnd,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        apiUrl: api2,</span><br><span class="line">        apiStart: apiStart,</span><br><span class="line">        apiEnd: apiEnd,</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é¡µé¢è¯·æ±‚å¼€å§‹</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> startApi(&#123;required <span class="built_in">String</span> api, required <span class="built_in">String</span> pageKey&#125;) &#123;</span><br><span class="line">    <span class="comment">// åŠ é”ğŸ”</span></span><br><span class="line">    <span class="comment">// è·å–æŒ‡å®šé¡µé¢å·²æœ‰çš„è¯·æ±‚åˆ—è¡¨</span></span><br><span class="line">    <span class="built_in">List</span>&lt;<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt;&gt; pageRequestingApiMaps = unfinishPageApiMaps[pageKey] ?? [];</span><br><span class="line">    <span class="comment">// æ·»åŠ æ–°è¯·æ±‚</span></span><br><span class="line">    <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; newApiInfoMap = &#123;</span><br><span class="line">      apiUrl: api,</span><br><span class="line">      apiStart: apiStart,</span><br><span class="line">    &#125;;</span><br><span class="line">    pageRequestingApiMaps.add(newApiInfoMap);</span><br><span class="line">    <span class="comment">// è§£é”ğŸ”</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é¡µé¢è¯·æ±‚ç»“æŸ</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> finishApi(&#123;required <span class="built_in">String</span> api, required <span class="built_in">String</span> pageKey&#125;) &#123;</span><br><span class="line">    <span class="comment">// åŠ é”ğŸ”</span></span><br><span class="line">    <span class="comment">// è·å–æŒ‡å®šé¡µé¢å·²æœ‰çš„è¯·æ±‚åˆ—è¡¨,åŠå…¶ä¸ªæ•°</span></span><br><span class="line">    <span class="built_in">List</span>&lt;<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt;&gt; pageRequestingApiMaps = unfinishPageApiMaps[pageKey] ?? [];</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°æ­¤è¯·æ±‚çš„å¼€å§‹ä¿¡æ¯,å¹¶è¡¥å……ä¸Šæ­¤è¯·æ±‚çš„ç»“æŸä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; item <span class="keyword">in</span> pageRequestingApiMaps) &#123;</span><br><span class="line">      item.addAll(&#123;<span class="string">"apiEnd"</span>: apiEnd&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">int</span> hasFinishCount = pageRequestingApiMaps.length;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–æŒ‡å®šé¡µé¢åŸæœ¬åº”è¯¥æœ‰å‡ ä¸ªè¯·æ±‚</span></span><br><span class="line">    <span class="built_in">List</span>&lt;<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt;&gt; pageNeedApiMaps = PageApiManager.allNeedPageApiMaps[pageKey] ?? [];</span><br><span class="line">    <span class="built_in">int</span> needCount = pageNeedApiMaps.length;</span><br><span class="line">   	</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦æ˜¯æœ€åä¸€ä¸ªè¯·æ±‚ï¼Œæ˜¯çš„è¯ä¸ŠæŠ¥æœ¬æ¬¡é¡µé¢çš„æ‰€æœ‰æ‰€éœ€ç»“æŸ</span></span><br><span class="line">    <span class="keyword">if</span> (hasFinishCount &gt;= needCount) &#123;</span><br><span class="line">      _notifyToPage(pageRequestingApiMaps);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è§£é”ğŸ”</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é€šçŸ¥é¡µé¢è¯·æ±‚å®Œæˆ</span></span><br><span class="line">  <span class="keyword">static</span> _notifyToPage(<span class="built_in">List</span>&lt;<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt;&gt; pageRequestingApiMaps) &#123;</span><br><span class="line">    <span class="built_in">int</span> minStart;</span><br><span class="line">    <span class="built_in">int</span> maxEnd;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; item <span class="keyword">in</span> pageRequestingApiMaps) &#123;</span><br><span class="line">      <span class="built_in">int</span> itemStart = item[<span class="string">"apiStart"</span>];</span><br><span class="line">      <span class="built_in">int</span> itemEnd = item[<span class="string">"apiEnd"</span>];</span><br><span class="line">      <span class="keyword">if</span> (minStart == <span class="keyword">null</span>) &#123;</span><br><span class="line">        minStart = itemStart;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        minStart = min(minStart, itemStart);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (maxEnd == <span class="keyword">null</span>) &#123;</span><br><span class="line">        maxEnd = itemEnd;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        maxEnd = max(maxEnd, itemEnd);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (minStart == <span class="keyword">null</span> || maxEnd == <span class="keyword">null</span>) &#123;</span><br><span class="line">      debugPrint(<span class="string">"å‘ç”Ÿé”™è¯¯äº†"</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">int</span> pageApiTotalDuration = maxEnd - minStart;</span><br><span class="line">    <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; pageApiMap = &#123;</span><br><span class="line">      <span class="string">"page_duration"</span>: pageApiTotalDuration,</span><br><span class="line">      <span class="string">"api"</span>: &#123;</span><br><span class="line">        <span class="string">"total_duration"</span>: &#123;</span><br><span class="line">          <span class="string">"start"</span>: <span class="number">1000</span>,</span><br><span class="line">          <span class="string">"end"</span>: <span class="number">5000</span>,</span><br><span class="line">          <span class="string">"duration"</span>: <span class="number">4000</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">"apis"</span>: pageRequestingApiMaps</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    eventBus.fire(PageFinishLoadRequest(pageApiMap: pageApiMap));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é¡µé¢æ¥æ”¶</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AllPageTimeManager</span> </span>&#123;</span><br><span class="line">		pageRequestEvent = eventBus.on&lt;PageFinishLoadRequest&gt;().listen((event) &#123;</span><br><span class="line">      <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; pageApiMap = event.pageApiMap;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    _uploadToSevice(&#123;required <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="keyword">dynamic</span>&gt; uploadPageInfo&#125;) &#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Architectureæ¶æ„/é¡µé¢çš„å„ç§æ—¶é•¿/é¡µé¢åŠ è½½-2ç½‘ç»œæ—¶é•¿-1éœ€æ±‚è§„åˆ’/" data-id="cls1nx67b00df6er4zc2893f3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Architecture/">Architecture</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iOS/3å¿…å¤‡çŸ¥è¯†æ¶æ„/2å†…å­˜/é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/iOS/3å¿…å¤‡çŸ¥è¯†æ¶æ„/2å†…å­˜/é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–/" class="article-date">
  <time datetime="2018-03-21T09:08:41.000Z" itemprop="datePublished">2018-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/iOS/3å¿…å¤‡çŸ¥è¯†æ¶æ„/2å†…å­˜/é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–/">é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–"><a href="#é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–" class="headerlink" title="é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–"></a>é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–</h1><h2 id="ä¸€ã€ç£ç›˜å¯¹åº”ç”¨æ€§èƒ½çš„å½±å“"><a href="#ä¸€ã€ç£ç›˜å¯¹åº”ç”¨æ€§èƒ½çš„å½±å“" class="headerlink" title="ä¸€ã€ç£ç›˜å¯¹åº”ç”¨æ€§èƒ½çš„å½±å“"></a>ä¸€ã€ç£ç›˜å¯¹åº”ç”¨æ€§èƒ½çš„å½±å“</h2><h3 id="1ã€åŸå› çŒœæµ‹"><a href="#1ã€åŸå› çŒœæµ‹" class="headerlink" title="1ã€åŸå› çŒœæµ‹"></a>1ã€åŸå› çŒœæµ‹</h3><p>å¯èƒ½åŸå› ï¼šåº”ç”¨ä½¿ç”¨è¿‡ç¨‹æ—¶å€™ï¼Œå­˜åœ¨å¯¹ç£ç›˜ä¸­çš„æŸä¸ªæ–‡ä»¶çš„æ“ä½œï¼Œä»è€Œå¯¼è‡´åº”ç”¨æ€§èƒ½é—®é¢˜ã€‚æ“ä½œçš„å¯èƒ½æ€§å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>åºå·</th>
<th>é˜¶æ®µ</th>
<th>å¦‚æœ</th>
<th>åæœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>è®¿é—®</td>
<td>æ–‡ä»¶é‡å¤ªå¤§</td>
<td>è®¿é—®æ•ˆç‡é—®é¢˜</td>
</tr>
<tr>
<td>2</td>
<td>è¯»å†™</td>
<td>æ–‡ä»¶å¤§å°å¤ªå¤§</td>
<td>è¯»å†™é—®é¢˜</td>
</tr>
</tbody>
</table>
<h3 id="2ã€æ’æŸ¥æ–¹æ¡ˆ"><a href="#2ã€æ’æŸ¥æ–¹æ¡ˆ" class="headerlink" title="2ã€æ’æŸ¥æ–¹æ¡ˆ"></a>2ã€æ’æŸ¥æ–¹æ¡ˆ</h3><p><img src="/iOS/3å¿…å¤‡çŸ¥è¯†æ¶æ„/2å†…å­˜/é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–/é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–.png" alt="é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–" style="zoom: 67%;"></p>
<h2 id="äºŒã€é«˜ç£ç›˜å ç”¨ç¯å¢ƒæ¨¡æ‹Ÿ"><a href="#äºŒã€é«˜ç£ç›˜å ç”¨ç¯å¢ƒæ¨¡æ‹Ÿ" class="headerlink" title="äºŒã€é«˜ç£ç›˜å ç”¨ç¯å¢ƒæ¨¡æ‹Ÿ"></a>äºŒã€é«˜ç£ç›˜å ç”¨ç¯å¢ƒæ¨¡æ‹Ÿ</h2><table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>é˜¶æ®µ</th>
<th>æ“ä½œ</th>
<th>ç›®çš„</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>èµ„æºå‡†å¤‡1</td>
<td>æä¾›å›¾ç‰‡çš„ä¸‡è±¡æ¥å£ï¼Œä»¥é€šè¿‡ä¸‡è±¡èƒ½è·å–åˆ°å„ç§å›¾ç‰‡åœ°å€</td>
<td>é¿å…å¾—å»æ‰¾éå¸¸å¤šçš„å›¾ç‰‡æ•°æ®æº</td>
</tr>
<tr>
<td>2</td>
<td>èµ„æºå‡†å¤‡2</td>
<td>æä¾›ä¸‹è½½ä¸‡è±¡å›¾ç‰‡çš„æ¥å£(æŒ‡å®šå®½èŒƒå›´)ï¼Œä»¥é€šè¿‡ä¸‡è±¡å›¾ç‰‡èƒ½ä¸‹è½½åˆ°å¾ˆå¤šå›¾ç‰‡</td>
<td>é¿å…å¾—å»æ‰¾éå¸¸å¤šçš„å›¾ç‰‡æ•°æ®æº</td>
</tr>
<tr>
<td>3</td>
<td>èµ„æºä¸‹è½½</td>
<td>ä¸‹è½½æŒ‡å®šå®½èŒƒå›´çš„ä¸‡è±¡å›¾ç‰‡ï¼Œå¾—åˆ°å„ç§å›¾ç‰‡<br>æ¯æ¬¡åªæ·»åŠ  100 å¼ ï¼Œé¿å…æ¨¡æ‹ŸåŠŸèƒ½åœ¨åŒæ­¥çŠ¶æ€ä¸‹æ‰§è¡Œå‡ºé”™ï¼›</td>
<td>é€šè¿‡ä¸‹è½½å æ®ç£ç›˜ç©ºé—´</td>
</tr>
<tr>
<td>4</td>
<td>æ•°æ®éªŒè¯1</td>
<td>æ‰“å°ç£ç›˜(æ²™ç›’)ç›®å½•ï¼ŒéªŒè¯ä¸‹è½½<br><a href="../../../iOS/ç§»åŠ¨åˆ†æ/æ²™ç›’æ•°æ®æŸ¥çœ‹">iOS-æŸ¥çœ‹æ²™ç›’æ–‡ä»¶(çœŸæœº+æ¨¡æ‹Ÿå™¨)</a></td>
<td>éªŒè¯ç¡®å®ç£ç›˜ç©ºé—´è¢«å¢åŠ </td>
</tr>
<tr>
<td>5</td>
<td>æ•°æ®éªŒè¯2</td>
<td>è®¡ç®—ç£ç›˜å¤§å°</td>
<td>éªŒè¯ç¡®å®ç£ç›˜ç©ºé—´è¢«å¢åŠ </td>
</tr>
</tbody>
</table>
<h2 id="ä¸‰ã€é«˜ç£ç›˜å ç”¨ç¯å¢ƒä¼˜åŒ–"><a href="#ä¸‰ã€é«˜ç£ç›˜å ç”¨ç¯å¢ƒä¼˜åŒ–" class="headerlink" title="ä¸‰ã€é«˜ç£ç›˜å ç”¨ç¯å¢ƒä¼˜åŒ–"></a>ä¸‰ã€é«˜ç£ç›˜å ç”¨ç¯å¢ƒä¼˜åŒ–</h2><table>
<thead>
<tr>
<th>åºå·</th>
<th>è§£å†³</th>
<th>æ–¹æ¡ˆ</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>é¿å…å•æ–‡ä»¶å¤¹å¤ªå¤§</td>
<td>å­˜å‚¨åˆ†åŒºå¤„ç†</td>
</tr>
<tr>
<td>2</td>
<td>å•æ–‡ä»¶å¤¹å·²ç»å¤ªå¤§</td>
<td>å­˜å‚¨ç©ºé—´æ¸…ç†</td>
</tr>
</tbody>
</table>
<h3 id="1ã€é¿å…å•æ–‡ä»¶å¤¹å¤ªå¤§â€”-å­˜å‚¨åˆ†åŒºå¤„ç†"><a href="#1ã€é¿å…å•æ–‡ä»¶å¤¹å¤ªå¤§â€”-å­˜å‚¨åˆ†åŒºå¤„ç†" class="headerlink" title="1ã€é¿å…å•æ–‡ä»¶å¤¹å¤ªå¤§â€”-å­˜å‚¨åˆ†åŒºå¤„ç†"></a>1ã€é¿å…å•æ–‡ä»¶å¤¹å¤ªå¤§â€”-å­˜å‚¨åˆ†åŒºå¤„ç†</h3><p>1ã€èƒŒæ™¯ï¼šå›¾ç‰‡æ–‡ä»¶ä¸‹æ–‡ä»¶æ•°é‡å¤ªå¤šï¼Œå¯¼è‡´æœç´¢æ•ˆç‡ä¸‹é™</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> Directory _cacheImagesDirectory = Directory(</span><br><span class="line">    join((<span class="keyword">await</span> getTemporaryDirectory()).path, cacheImageFolderName));</span><br><span class="line"></span><br><span class="line"><span class="comment">// exist, try to find cache image file</span></span><br><span class="line"><span class="keyword">if</span> (_cacheImagesDirectory.existsSync()) &#123; <span class="comment"><span class="markdown">/// existsSyncæ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œç”¨äºæ£€æŸ¥å…·æœ‰è¯¥è·¯å¾„çš„æ–‡ä»¶ç³»ç»Ÿå®ä½“æ˜¯å¦å­˜åœ¨ã€‚</span></span></span><br><span class="line">  <span class="keyword">final</span> File cacheFlie = File(join(_cacheImagesDirectory.path, md5Key));</span><br><span class="line">  <span class="keyword">if</span> (cacheFlie.existsSync()) &#123;  <span class="comment"><span class="markdown">/// existsSyncæ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œç”¨äºæ£€æŸ¥å…·æœ‰è¯¥è·¯å¾„çš„æ–‡ä»¶ç³»ç»Ÿå®ä½“æ˜¯å¦å­˜åœ¨ã€‚</span></span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2ã€ä¼˜åŒ–æ–¹æ¡ˆï¼šå¯¹å›¾ç‰‡å­˜å‚¨ï¼Œè¿›è¡Œåˆ†åŒºå­˜å‚¨ã€‚è·å–æ–¹å¼åŒç†ã€‚</p>
<p>3ã€ä¼˜åŒ–æ­¥éª¤å¦‚ä¸‹</p>
<p>å¯¹ url è¿›è¡Œ md5 å–å€¼</p>
<p>å¯¹ md5 å–é¦–å­—æ¯ä¸ºæ–°æ–‡ä»¶å¤¹</p>
<p>å°†è¯¥urlæ‰€å¯¹åº”çš„å›¾ç‰‡å­˜å‚¨åœ¨å›¾ç‰‡å­˜å‚¨ç›®å½•ä¸‹çš„å­ç›®å½•</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="markdown">/// get md5 from key</span></span></span><br><span class="line"><span class="keyword">static</span> <span class="built_in">String</span> keyToMd5(<span class="built_in">String</span> key) =&gt; md5.convert(utf8.encode(key)).toString();</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="markdown">/// è·å–ç½‘ç»œå›¾ç‰‡æœ€åçš„æœ¬åœ°å­˜å‚¨æ–‡ä»¶å¤¹è·¯å¾„</span></span></span><br><span class="line"><span class="keyword">static</span> Future&lt;<span class="built_in">String</span>&gt; getLastDirPath(<span class="built_in">String</span> imageUrl, &#123;<span class="built_in">bool</span>? useSubDir&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  Directory cacheDir = <span class="keyword">await</span> getTemporaryDirectory();</span><br><span class="line">  <span class="built_in">String</span> imageCacheHomeDirPath = join(cacheDir.path, cacheImageFolderName);</span><br><span class="line">  <span class="keyword">if</span> (useSubDir != <span class="keyword">true</span>) &#123; <span class="comment">// ä¸ä½¿ç”¨å­ç›®å½•ï¼Œç›´æ¥ä¸€ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾</span></span><br><span class="line">    <span class="keyword">return</span> imageCacheHomeDirPath;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> subDirHome = keyToMd5(imageUrl);</span><br><span class="line">  <span class="built_in">String</span> imageCacheSubDirName = subDirHome.substring(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">String</span> lastDirPath = <span class="string">"<span class="subst">$imageCacheHomeDirPath</span>/<span class="subst">$imageCacheSubDirName<span class="string">";</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  return lastDirPath;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">&#125;</span></span></span></span><br></pre></td></tr></table></figure>
<p>4ã€ä¼˜åŒ–éªŒè¯</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="markdown">/// è®¡ç®—å›¾ç‰‡æ–‡ä»¶çš„æŸ¥æ‰¾è€—æ—¶(æŸ¥æ‰¾å¤±è´¥è¿”å›-1)</span></span></span><br><span class="line"><span class="keyword">static</span> Future&lt;<span class="built_in">int</span>&gt; calculateFindDuration(<span class="built_in">String</span> imageUrl, &#123;<span class="built_in">bool</span>? useSubDir&#125;) <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="built_in">String</span> md5Key = keyToMd5(imageUrl);</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> lastDirPath = <span class="keyword">await</span> getLastDirPath(imageUrl, useSubDir: useSubDir);</span><br><span class="line">  <span class="keyword">final</span> Directory cacheImagesDirectory = Directory(lastDirPath);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">int</span> foundStartTime = <span class="built_in">DateTime</span>.now().millisecondsSinceEpoch;</span><br><span class="line">  <span class="comment">// exist, try to find cache image file</span></span><br><span class="line">  <span class="keyword">if</span> (cacheImagesDirectory.existsSync()) &#123; <span class="comment"><span class="markdown">/// existsSyncåŒæ­¥æ–¹æ³•ï¼Œæ£€æŸ¥è¯¥è·¯å¾„çš„æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨</span></span></span><br><span class="line">    <span class="keyword">final</span> File cacheFlie = File(join(cacheImagesDirectory.path, md5Key));</span><br><span class="line">    <span class="keyword">if</span> (cacheFlie.existsSync()) &#123; <span class="comment"><span class="markdown">/// existsSyncåŒæ­¥æ–¹æ³•ï¼Œæ£€æŸ¥è¯¥è·¯å¾„çš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span></span><br><span class="line">      <span class="built_in">int</span> foundEndTime = <span class="built_in">DateTime</span>.now().millisecondsSinceEpoch;</span><br><span class="line">      <span class="built_in">int</span> foundDuration = foundEndTime - foundStartTime;</span><br><span class="line">      <span class="keyword">return</span> foundDuration;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2ã€å•æ–‡ä»¶å¤¹å·²ç»å¤ªå¤§â€”-å­˜å‚¨ç©ºé—´æ¸…ç†"><a href="#2ã€å•æ–‡ä»¶å¤¹å·²ç»å¤ªå¤§â€”-å­˜å‚¨ç©ºé—´æ¸…ç†" class="headerlink" title="2ã€å•æ–‡ä»¶å¤¹å·²ç»å¤ªå¤§â€”-å­˜å‚¨ç©ºé—´æ¸…ç†"></a>2ã€å•æ–‡ä»¶å¤¹å·²ç»å¤ªå¤§â€”-å­˜å‚¨ç©ºé—´æ¸…ç†</h3><p>æ–‡ä»¶çš„å±æ€§æœ‰åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´</p>
<p>åŸç†ï¼šå˜åŒ–è¿‡æœŸæ—¶é—´ï¼Œéå†æ–‡ä»¶å±æ€§ï¼Œåˆ é™¤ä¿®æ”¹æ—¶é—´å¤§äºè¯¥è¿‡æœŸæ—¶é—´çš„æ–‡ä»¶</p>
<p>1ã€è®¾ç½®è¿‡æœŸæ—¶é—´çš„åˆå§‹å€¼ï¼Œéå†æ–‡ä»¶å±æ€§ï¼Œåˆ é™¤ä¿®æ”¹æ—¶é—´å¤§äºè¯¥è¿‡æœŸæ—¶é—´çš„æ–‡ä»¶ï¼›</p>
<p>2ã€æ£€æŸ¥æ¸…ç†åçš„å¤§å°ï¼Œå¦‚æœå¤§å°è¿˜ä¸åœ¨è§„å®šå¤§å°å†…ï¼Œåˆ™ç»§ç»­æ¸…ç†ï¼›</p>
<p>3ã€ç»§ç»­æ¸…ç†ï¼šè®¾ç½®æ¯æ¬¡æ¸…ç†çš„è¿‡æœŸæ—¶é—´å¢åŠ å€¼ï¼Œå¯¹è¿‡æœŸæ—¶é—´çš„åˆå§‹å€¼å¢åŠ ï¼Œå¹¶é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼›</p>
<h2 id="å››ã€ä¼˜åŒ–æ–¹æ¡ˆçš„å®æ–½"><a href="#å››ã€ä¼˜åŒ–æ–¹æ¡ˆçš„å®æ–½" class="headerlink" title="å››ã€ä¼˜åŒ–æ–¹æ¡ˆçš„å®æ–½"></a>å››ã€ä¼˜åŒ–æ–¹æ¡ˆçš„å®æ–½</h2><p>ç›®çš„ï¼šé¿å…åŠŸèƒ½å¼‚å¸¸ï¼Œå‡ºç°é›†ä½“æ€§é—®é¢˜ã€‚</p>
<p>ç°åº¦æ–¹æ¡ˆï¼šè¯·å‚ç…§ <a href="../../../Architectureæ¶æ„/ç°åº¦/ç°åº¦ç³»ç»Ÿ">ç°åº¦ç³»ç»Ÿ</a></p>
<h2 id="äº”ã€å»¶ä¼¸"><a href="#äº”ã€å»¶ä¼¸" class="headerlink" title="äº”ã€å»¶ä¼¸"></a>äº”ã€å»¶ä¼¸</h2><p>é—®é¢˜ï¼šä¸€æ—¦ä¿®æ”¹åˆ†åŒºè§„åˆ™ï¼ˆå¦‚åŸæœ¬ä½¿ç”¨urlè¿›è¡Œmd5åçš„é¦–ä½å€¼ï¼Œåé¢æ”¹æˆmd5åçš„ä¸¤ä½å€¼ï¼‰ï¼Œæ—§æ–‡ä»¶å°±å¾—é‡æ–°ä¸‹è½½ã€‚</p>
<p>è§£å†³ï¼šä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•ã€‚<a href="https://developer.huawei.com/consumer/cn/forum/topic/0203810951415790238" target="_blank" rel="noopener">16 å¼ å›¾è§£å¸¦ä½ æŒæ¡ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•</a></p>
<p>1ã€å¯¹å­˜å‚¨èŠ‚ç‚¹è¿›è¡Œhashï¼Œåˆ›å»ºèŠ‚ç‚¹å’Œhashå€¼çš„å“ˆå¸Œæ˜ å°„ï¼Œå¦‚ {100001: â€œaâ€, 300001: â€œaâ€, 400001: â€œaâ€}</p>
<p>2ã€å¯¹æ•°æ®urlè¿›è¡Œhashå¯»å€</p>
<ul>
<li>é¦–å…ˆï¼Œå¯¹ key è¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼Œç¡®å®šæ­¤ key åœ¨ç¯ä¸Šçš„ä½ç½®ï¼›</li>
<li>ç„¶åï¼Œä»è¿™ä¸ªä½ç½®æ²¿ç€é¡ºæ—¶é’ˆæ–¹å‘èµ°ï¼Œé‡åˆ°çš„ç¬¬ä¸€èŠ‚ç‚¹å°±æ˜¯å­˜å‚¨ key çš„èŠ‚ç‚¹ã€‚</li>
</ul>
<p>ç»“æœï¼š<strong>åœ¨ä¸€è‡´å“ˆå¸Œç®—æ³•ä¸­ï¼Œå¦‚æœå¢åŠ æˆ–è€…ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»…å½±å“è¯¥èŠ‚ç‚¹åœ¨å“ˆå¸Œç¯ä¸Šé¡ºæ—¶é’ˆç›¸é‚»çš„åç»§èŠ‚ç‚¹ï¼Œå…¶å®ƒæ•°æ®ä¹Ÿä¸ä¼šå—åˆ°å½±å“</strong>ã€‚</p>
<blockquote>
<p>å‡è®¾èŠ‚ç‚¹æ•°é‡ä» 3 å‡å°‘åˆ°äº† 2ï¼Œæ¯”å¦‚å°†èŠ‚ç‚¹ A ç§»é™¤ï¼šä½ å¯ä»¥çœ‹åˆ°ï¼Œkey-02 å’Œ key-03 ä¸ä¼šå—åˆ°å½±å“ï¼Œåªæœ‰ key-01 éœ€è¦è¢«è¿ç§»èŠ‚ç‚¹ Bã€‚</p>
</blockquote>
<p><img src="/iOS/3å¿…å¤‡çŸ¥è¯†æ¶æ„/2å†…å­˜/é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–/%E9%AB%98%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E7%9A%84%E6%8E%92%E6%9F%A5%E4%B8%8E%E4%BC%98%E5%8C%96/HashRing_02.png" alt="image-20231008173625108" style="zoom:25%;"></p>
<p>éšæ‚£ï¼š<strong>ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•è™½ç„¶å‡å°‘äº†æ•°æ®è¿ç§»é‡ï¼Œä½†æ˜¯å­˜åœ¨èŠ‚ç‚¹åˆ†å¸ƒä¸å‡åŒ€çš„é—®é¢˜</strong>ã€‚å¦‚ä¸‹ï¼š</p>
<p><img src="/iOS/3å¿…å¤‡çŸ¥è¯†æ¶æ„/2å†…å­˜/é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–/%E9%AB%98%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E7%9A%84%E6%8E%92%E6%9F%A5%E4%B8%8E%E4%BC%98%E5%8C%96/HashRing_03.png" alt="image-20231008173700010" style="zoom:25%;"></p>
<p>è¯´æ˜ï¼šä¸€è‡´å“ˆå¸Œç®—æ³•ä¹Ÿç”¨äº†å–æ¨¡è¿ç®—ï¼Œä½†ä¸å“ˆå¸Œç®—æ³•ä¸åŒçš„æ˜¯ï¼Œå“ˆå¸Œç®—æ³•æ˜¯å¯¹èŠ‚ç‚¹çš„æ•°é‡è¿›è¡Œå–æ¨¡è¿ç®—ï¼Œè€Œ<strong>ä¸€è‡´å“ˆå¸Œç®—æ³•æ˜¯å¯¹ 2^32 è¿›è¡Œå–æ¨¡è¿ç®—ï¼Œæ˜¯ä¸€ä¸ªå›ºå®šçš„å€¼</strong>ã€‚</p>
<p>é™„ï¼šhashç®—æ³•</p>
<blockquote>
<p> ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œï¼ˆConsistent Hashingï¼‰å¯ä»¥å¸®åŠ©æ‚¨å°†å¤§æ‰¹å›¾ç‰‡æ–‡ä»¶åˆ†æ•£å­˜å‚¨åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ï¼Œå…¶ä¸­æ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—ã€‚ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•èƒ½å¤Ÿæä¾›é«˜æ•ˆçš„æ•°æ®åˆ†å¸ƒå’Œè´Ÿè½½å‡è¡¡ï¼ŒåŒæ—¶å…è®¸åŠ¨æ€æ·»åŠ æˆ–åˆ é™¤æ–‡ä»¶èŠ‚ç‚¹ã€‚</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:convert'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:crypto/crypto.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsistentHashing</span> </span>&#123;</span><br><span class="line">  <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; nodes;</span><br><span class="line">  <span class="built_in">Map</span>&lt;<span class="built_in">int</span>, <span class="built_in">String</span>&gt; ring;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„é€ hashç¯</span></span><br><span class="line">  ConsistentHashing(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; nodes) &#123;</span><br><span class="line">    <span class="keyword">this</span>.nodes = nodes;</span><br><span class="line">    <span class="keyword">this</span>.ring = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">String</span> node <span class="keyword">in</span> nodes) &#123;</span><br><span class="line">      addNode(node);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> addNode(<span class="built_in">String</span> node) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> n = <span class="number">0</span>; n &lt; <span class="number">3</span>; n++) &#123; <span class="comment">// æ¯ä¸ªèŠ‚ç‚¹æœ‰3ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼ˆa0ã€a1ã€a2ã€b0ã€b1ã€b2...ï¼‰</span></span><br><span class="line">      <span class="built_in">String</span> virtualNode = node + n.toString();</span><br><span class="line">      <span class="built_in">int</span> hashValue = _hash(virtualNode);</span><br><span class="line">      ring[hashValue] = node;  <span class="comment">// &#123;100001: "a", 300001: "a", 400001: "a"&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> removeNode(<span class="built_in">String</span> node) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> n = <span class="number">0</span>; n &lt; <span class="number">3</span>; n++) &#123; <span class="comment">// æ¯ä¸ªèŠ‚ç‚¹æœ‰3ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼ˆa0ã€a1ã€a2ã€b0ã€b1ã€b2...ï¼‰</span></span><br><span class="line">      <span class="built_in">String</span> virtualNode = node + n.toString();</span><br><span class="line">      <span class="built_in">int</span> hashValue = _hash(virtualNode);</span><br><span class="line">      ring.remove(hashValue);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆ¤æ–­å€¼åº”è¯¥å­˜å‚¨çš„èŠ‚ç‚¹</span></span><br><span class="line">  <span class="built_in">String</span> getNode(<span class="built_in">String</span> key) &#123;</span><br><span class="line">    <span class="keyword">if</span> (ring.isEmpty) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">int</span> hashValue = _hash(key);</span><br><span class="line">    <span class="built_in">List</span>&lt;<span class="built_in">int</span>&gt; sortedKeys = ring.keys.toList()..sort(); <span class="comment">// [10001, 10002, 300001, 40001]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">int</span> ringKey <span class="keyword">in</span> sortedKeys) &#123;</span><br><span class="line">      <span class="keyword">if</span> (hashValue &lt;= ringKey) &#123;</span><br><span class="line">        <span class="keyword">return</span> ring[ringKey]; <span class="comment">// ring[30001] = "a"</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ring[sortedKeys[<span class="number">0</span>]];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">int</span> _hash(<span class="built_in">String</span> key) &#123;</span><br><span class="line">    Digest hash = md5.convert(utf8.encode(key));</span><br><span class="line">    <span class="built_in">int</span> hashValue = <span class="built_in">int</span>.parse(hash.toString(), radix: <span class="number">16</span>);</span><br><span class="line">    <span class="keyword">return</span> hashValue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»º36ä¸ªæ–‡ä»¶èŠ‚ç‚¹ï¼Œæ¯ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªå­—æ¯æˆ–æ•°å­—</span></span><br><span class="line">  <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; nodes = <span class="built_in">List</span>.generate(<span class="number">26</span>, (index) =&gt; <span class="built_in">String</span>.fromCharCode(<span class="number">97</span> + index))</span><br><span class="line">      ..addAll(<span class="built_in">List</span>.generate(<span class="number">10</span>, (index) =&gt; index.toString()));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–ä¸€è‡´æ€§å“ˆå¸Œç¯</span></span><br><span class="line">  ConsistentHashing ring = ConsistentHashing(nodes);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å‡è®¾æœ‰ä¸€æ‰¹å›¾ç‰‡æ–‡ä»¶éœ€è¦å­˜å‚¨</span></span><br><span class="line">  <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; imageFiles = [<span class="string">'image1.jpg'</span>, <span class="string">'image2.jpg'</span>, <span class="string">'image3.jpg'</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="built_in">String</span> imageFile <span class="keyword">in</span> imageFiles) &#123;</span><br><span class="line">    <span class="comment">// æ ¹æ®æ–‡ä»¶åè·å–å¯¹åº”çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="built_in">String</span> node = ring.getNode(imageFile);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†æ–‡ä»¶å­˜å‚¨åˆ°å¯¹åº”çš„èŠ‚ç‚¹ä¸­</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªè¡Œå®ç°æ–‡ä»¶å­˜å‚¨é€»è¾‘</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'Storing <span class="subst">$imageFile</span> to node <span class="subst">$node<span class="string">');</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">&#125;</span></span></span></span><br></pre></td></tr></table></figure>
<h2 id="é™„ï¼š-ç›¸å…³ä»£ç "><a href="#é™„ï¼š-ç›¸å…³ä»£ç " class="headerlink" title="é™„ï¼š(ç›¸å…³ä»£ç )"></a>é™„ï¼š(ç›¸å…³ä»£ç )</h2><p>1ã€<code>ts_toomany_image_data_vientiane.dart</code></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="markdown">/// [<span class="string">å›¾ç‰‡å¤„ç†æ–¹å¼:å¿«é€Ÿç¼©ç•¥æ¨¡æ¿</span>](<span class="link">https://cloud.tencent.com/document/product/460/6929</span>)</span></span></span><br><span class="line"><span class="comment"><span class="markdown">/// [<span class="string">å›¾ç‰‡å¤„ç†æ–¹å¼:æ•°æ®ä¸‡è±¡-ç¼©æ”¾thumbnail</span>](<span class="link">https://cloud.tencent.com/document/product/460/36540</span>)</span></span></span><br><span class="line"><span class="comment"><span class="markdown">/// [<span class="string">å›¾ç‰‡å¤„ç†æ–¹å¼:æ•°æ®ä¸‡è±¡-æ—‹è½¬rotate</span>](<span class="link">https://cloud.tencent.com/document/product/460/36542</span>)</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TSTooManyImageDataVientiane</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">String</span> newImageUrl(<span class="built_in">String</span> imageUrl, &#123;required <span class="built_in">int</span> width&#125;) &#123;</span><br><span class="line">    <span class="built_in">String</span> thumbnail = <span class="string">'?imageMogr2/thumbnail/'</span>;</span><br><span class="line">    thumbnail += <span class="string">'<span class="subst">$&#123;width&#125;</span>x/'</span>;</span><br><span class="line">    thumbnail += <span class="string">'format/webp/auto-orient/quality/100'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">String</span> newImageUrl = <span class="string">"<span class="subst">$imageUrl</span><span class="subst">$thumbnail<span class="string">";</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">    // debugPrint('newImageUrl = <span class="subst">$newImageUrl<span class="string">');</span></span></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"><span class="subst"><span class="string">    return newImageUrl;</span></span></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"><span class="subst"><span class="string">  &#125;</span></span></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string"><span class="subst"><span class="string">&#125;</span></span></span></span></span></span><br></pre></td></tr></table></figure>
<p>2ã€<code>ts_toomany_image_download_util.dart</code></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:io'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:extended_image/extended_image.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'ts_toomany_image_data_vientiane.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TSTooManyImageDownloadUtil</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">String</span> vientianeImageUrl = <span class="string">"https://images.xihuanwu.com/mcms/uploads/1647604960983901.jpg"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> simulate_download_too_many(<span class="built_in">int</span> imageWidthStart, <span class="built_in">int</span> imageWidthEnd) &#123;</span><br><span class="line">    <span class="built_in">int</span> imageCount = imageWidthEnd - imageWidthStart;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; imageCount; i++) &#123;</span><br><span class="line">      <span class="built_in">int</span> iImageWidth = imageWidthStart + i;</span><br><span class="line">      <span class="built_in">String</span> iImageUrl = TSTooManyImageDataVientiane.newImageUrl(vientianeImageUrl, width: iImageWidth);</span><br><span class="line">      getNetworkImageData(iImageUrl);</span><br><span class="line">      sleep(<span class="keyword">const</span> <span class="built_in">Duration</span>(milliseconds: <span class="number">10</span>)); <span class="comment">// å»¶è¿Ÿ10msï¼Œé¿å…ä¸‹è½½å¤ªå¤šè®¡ç®—é—®é¢˜</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3ã€<code>ts_toomany_image_optimize_check_util.dart</code></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:convert'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'dart:io'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:crypto/crypto.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/foundation.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:path/path.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:path_provider/path_provider.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:extended_image_library/extended_image_library.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'ts_toomany_image_data_vientiane.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'ts_toomany_image_download_util.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TSTooManyImageOptimizeCheckUtil</span> </span>&#123;</span><br><span class="line">  <span class="comment"><span class="markdown">/// è®¡ç®—å›¾ç‰‡çš„æŸ¥æ‰¾æ—¶é•¿</span></span></span><br><span class="line">  <span class="keyword">static</span> checkImageFindDuration() <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="built_in">String</span> foundImageUrl = TSTooManyImageDataVientiane.newImageUrl(TSTooManyImageDownloadUtil.vientianeImageUrl,</span><br><span class="line">        width: <span class="number">6600</span>);</span><br><span class="line">    getNetworkImageData(foundImageUrl);</span><br><span class="line">    <span class="built_in">int</span> foundDuration = <span class="keyword">await</span> TSTooManyImageOptimizeCheckUtil.calculateFindDuration(foundImageUrl);</span><br><span class="line">    debugPrint(<span class="string">"<span class="subst">$foundImageUrl</span> çš„æŸ¥æ‰¾æ—¶é—´ä¸º:<span class="subst">$foundDuration<span class="string">");</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">  &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">&#125;</span></span></span></span><br></pre></td></tr></table></figure>
<h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/iOS/3å¿…å¤‡çŸ¥è¯†æ¶æ„/2å†…å­˜/é«˜ç£ç›˜å ç”¨çš„æ’æŸ¥ä¸ä¼˜åŒ–/" data-id="cls1nx8gm016h6er4yx4z2uu7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Architecture/">Architecture</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ç”µè„‘ä½¿ç”¨/Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/ç”µè„‘ä½¿ç”¨/Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹/" class="article-date">
  <time datetime="2018-03-20T12:45:10.000Z" itemprop="datePublished">2018-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/ç”µè„‘ä½¿ç”¨/Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹/">Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹"><a href="#Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹" class="headerlink" title="Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹"></a>Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹</h2><h3 id="1ã€Macç³»ç»Ÿè‡ªå¸¦çš„æ¡Œé¢å£çº¸åœ¨å“ªä¸ªæ–‡ä»¶å¤¹"><a href="#1ã€Macç³»ç»Ÿè‡ªå¸¦çš„æ¡Œé¢å£çº¸åœ¨å“ªä¸ªæ–‡ä»¶å¤¹" class="headerlink" title="1ã€Macç³»ç»Ÿè‡ªå¸¦çš„æ¡Œé¢å£çº¸åœ¨å“ªä¸ªæ–‡ä»¶å¤¹"></a>1ã€Macç³»ç»Ÿè‡ªå¸¦çš„æ¡Œé¢å£çº¸åœ¨å“ªä¸ªæ–‡ä»¶å¤¹</h3><p><img src="/ç”µè„‘ä½¿ç”¨/Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹/image-20210123223301377.png" alt="image-20210123223301377"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/ç”µè„‘ä½¿ç”¨/Macä¸­ä¸ªå„ç§æ–‡ä»¶å¤¹/" data-id="cls1nx4r100736er42qczgh1x" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-å®ç”¨å·¥å…·/Terminal/1ç»ˆç«¯å¸¸ç”¨å‘½ä»¤" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/å®ç”¨å·¥å…·/Terminal/1ç»ˆç«¯å¸¸ç”¨å‘½ä»¤/" class="article-date">
  <time datetime="2018-03-05T08:07:12.000Z" itemprop="datePublished">2018-03-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/å®ç”¨å·¥å…·/Terminal/1ç»ˆç«¯å¸¸ç”¨å‘½ä»¤/">ç»ˆç«¯å¸¸ç”¨å‘½ä»¤</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ä¸€ã€brew-å®‰è£…"><a href="#ä¸€ã€brew-å®‰è£…" class="headerlink" title="ä¸€ã€brew å®‰è£…"></a>ä¸€ã€brew å®‰è£…</h2><p>Macç³»ç»Ÿæ˜¯ä½¿ç”¨brewå‘½ä»¤installï¼Œè€Œbrewçš„å®‰è£…éœ€è¦é€šè¿‡rubyå®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å®‰è£…ruby</span></span><br><span class="line">/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span><br></pre></td></tr></table></figure>
<p>å…¶ä»–ï¼š</p>
<p>brew update -ã€‹æ›´æ–°homebrewåˆ°æœ€æ–°ç‰ˆæœ¬</p>
<p>brew doctor -ã€‹æ£€æŸ¥homebrewçŠ¶æ€</p>
<h1 id="äºŒã€brew-ä½¿ç”¨"><a href="#äºŒã€brew-ä½¿ç”¨" class="headerlink" title="äºŒã€brew ä½¿ç”¨"></a>äºŒã€brew ä½¿ç”¨</h1><p>å»ºè®®å®‰è£…å‰ï¼Œå…ˆæ‰§è¡Œé<code>brew update</code></p>
<h3 id="1ã€ä½¿ç”¨-brew-å®‰è£…-å¸è½½-nodeã€npm"><a href="#1ã€ä½¿ç”¨-brew-å®‰è£…-å¸è½½-nodeã€npm" class="headerlink" title="1ã€ä½¿ç”¨ brew å®‰è£…/å¸è½½ nodeã€npm"></a>1ã€ä½¿ç”¨ brew å®‰è£…/å¸è½½ nodeã€npm</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br><span class="line">brew uninstall node</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ <code>brew install node</code> å®‰è£…å³å¯ã€‚(å¦‚æœå·²å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨<code>brew upgrade node</code>)</p>
<p>å®‰è£…å®Œæˆnpmå°±okå•¦ï½</p>
<p>å¯ä»¥ä½¿ç”¨ <code>npm -v</code> çœ‹ä¸‹æ•ˆæœ</p>
<h3 id="2ã€ä½¿ç”¨brewå®‰è£…nvm"><a href="#2ã€ä½¿ç”¨brewå®‰è£…nvm" class="headerlink" title="2ã€ä½¿ç”¨brewå®‰è£…nvm"></a>2ã€ä½¿ç”¨brewå®‰è£…nvm</h3><p>brew update<br>brew install nvm</p>
<p>npm install npm@latest -g</p>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><h3 id="1ã€ç‰ˆæœ¬ç›¸å…³å‘½ä»¤"><a href="#1ã€ç‰ˆæœ¬ç›¸å…³å‘½ä»¤" class="headerlink" title="1ã€ç‰ˆæœ¬ç›¸å…³å‘½ä»¤"></a>1ã€ç‰ˆæœ¬ç›¸å…³å‘½ä»¤</h3><table>
<thead>
<tr>
<th>å‘½ä»¤æè¿°</th>
<th>å‘½ä»¤ä¸¾ä¾‹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>æŸ¥çœ‹nodeç‰ˆæœ¬</td>
<td>node â€“v</td>
<td></td>
</tr>
<tr>
<td>æŸ¥çœ‹ç‰ˆæœ¬è¯¦æƒ…</td>
<td>npm version</td>
<td></td>
</tr>
<tr>
<td>æŸ¥çœ‹npmæœ€æ–°ç‰ˆæœ¬å·</td>
<td>npm view npm version</td>
<td></td>
</tr>
<tr>
<td>æŸ¥çœ‹npmæ‰€æœ‰çš„ç‰ˆæœ¬å·</td>
<td>npm view npm versions</td>
</tr>
</tbody>
</table>
<h3 id="2ã€å‡çº§ç›¸å…³å‘½ä»¤"><a href="#2ã€å‡çº§ç›¸å…³å‘½ä»¤" class="headerlink" title="2ã€å‡çº§ç›¸å…³å‘½ä»¤"></a>2ã€å‡çº§ç›¸å…³å‘½ä»¤</h3><table>
<thead>
<tr>
<th>å‘½ä»¤æè¿°</th>
<th>å‘½ä»¤ä¸¾ä¾‹</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>å®‰è£…æœ€æ–°ç¨³å®šç‰ˆ</td>
<td>nvm install stable</td>
<td></td>
</tr>
<tr>
<td>å‡çº§åˆ°æœ€æ–°ç‰ˆ</td>
<td>npm install npm@latest -g</td>
<td></td>
</tr>
<tr>
<td>å‡çº§åˆ°æŒ‡å®šç‰ˆæœ¬</td>
<td>npm install npm@xx -g</td>
</tr>
</tbody>
</table>
<p><img src="/å®ç”¨å·¥å…·/Terminal/1ç»ˆç«¯å¸¸ç”¨å‘½ä»¤/1%E7%BB%88%E7%AB%AF%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/image-20230420193528874.png" alt="image-20230420193528874"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/å®ç”¨å·¥å…·/Terminal/1ç»ˆç«¯å¸¸ç”¨å‘½ä»¤/" data-id="cls1nx6na00va6er41jknqewp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Architectureæ¶æ„/foundation/foundation" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Architectureæ¶æ„/foundation/foundation/" class="article-date">
  <time datetime="2018-01-21T09:08:41.000Z" itemprop="datePublished">2018-01-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Architectureæ¶æ„/foundation/foundation/">foundation</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[toc]</p>
<h1 id="foundation"><a href="#foundation" class="headerlink" title="foundation"></a>foundation</h1><h2 id="ä¸€ã€Urlå¤„ç†"><a href="#ä¸€ã€Urlå¤„ç†" class="headerlink" title="ä¸€ã€Urlå¤„ç†"></a>ä¸€ã€Urlå¤„ç†</h2><table>
<thead>
<tr>
<th>åºå·</th>
<th>å…³é”®å­—</th>
<th>åœºæ™¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>WebUrlUtil</td>
<td>for ã€ swtich</td>
</tr>
<tr>
<td>2</td>
<td>ApiUrlUtil</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Architectureæ¶æ„/foundation/foundation/" data-id="cls1nx5vn008k6er4ms3sllnz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Architecture/">Architecture</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/44/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/43/">43</a><a class="page-number" href="/page/44/">44</a><span class="page-number current">45</span><a class="page-number" href="/page/46/">46</a><a class="extend next" rel="next" href="/page/46/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/">Architecture</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/åŸ‹ç‚¹ç›¸å…³/">åŸ‹ç‚¹ç›¸å…³</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/æ‰“åŒ…/">æ‰“åŒ…</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/æœç´¢ç›¸å…³/">æœç´¢ç›¸å…³</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/æƒé™ç›¸å…³/">æƒé™ç›¸å…³</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬ä¸€ç« ï¼šJS/">ç¬¬ä¸€ç« ï¼šJS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬ä¸€ç« ï¼šä»£ç è§„èŒƒ/">ç¬¬ä¸€ç« ï¼šä»£ç è§„èŒƒ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬ä¸€ç« ï¼šä¾èµ–å…³ç³»å¯è§†åŒ–/">ç¬¬ä¸€ç« ï¼šä¾èµ–å…³ç³»å¯è§†åŒ–</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬ä¸€ç« ï¼šåŸ‹ç‚¹/">ç¬¬ä¸€ç« ï¼šåŸ‹ç‚¹</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬ä¸€ç« ï¼šåŸºç¡€è§„èŒƒ/">ç¬¬ä¸€ç« ï¼šåŸºç¡€è§„èŒƒ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬ä¸€ç« ï¼šæ¶æ„åˆ†å±‚/">ç¬¬ä¸€ç« ï¼šæ¶æ„åˆ†å±‚</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬ä¸€ç« ï¼šè¯·æ±‚/">ç¬¬ä¸€ç« ï¼šè¯·æ±‚</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬ä¸‰ç« ï¼šh5ä¸appäº¤äº’/">ç¬¬ä¸‰ç« ï¼šh5ä¸appäº¤äº’</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬äºŒç« ï¼šä½“éªŒä¼˜åŒ–/">ç¬¬äºŒç« ï¼šä½“éªŒä¼˜åŒ–</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/ç¬¬å››ç« ï¼šwebView/">ç¬¬å››ç« ï¼šwebView</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/è·¯ç”±åŠè·³è½¬/">è·¯ç”±åŠè·³è½¬</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/é€šç”¨ä¸šåŠ¡è§„èŒƒ/">é€šç”¨ä¸šåŠ¡è§„èŒƒ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/é£æ§ç›¸å…³/">é£æ§ç›¸å…³</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/æ— ç‘•ç–µçš„æ··ç¼–ç™»å½•é¡µ/">æ— ç‘•ç–µçš„æ··ç¼–ç™»å½•é¡µ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬ä¸€ç« ï¼šFlutterå…¥é—¨/">ç¬¬ä¸€ç« ï¼šFlutterå…¥é—¨</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬ä¸ƒç« ï¼šè§„èŒƒ/">ç¬¬ä¸ƒç« ï¼šè§„èŒƒ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬ä¸‰ç« ï¼šåŸç”Ÿé¡¹ç›®ä¸Flutterçš„äº¤äº’/">ç¬¬ä¸‰ç« ï¼šåŸç”Ÿé¡¹ç›®ä¸Flutterçš„äº¤äº’</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬ä¹ç« ï¼šæ¡†æ¶å‡çº§/">ç¬¬ä¹ç« ï¼šæ¡†æ¶å‡çº§</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬äºŒç« ï¼šé›†æˆFlutteråˆ°åŸç”Ÿé¡¹ç›®/">ç¬¬äºŒç« ï¼šé›†æˆFlutteråˆ°åŸç”Ÿé¡¹ç›®</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬äº”ç« ï¼šè¯¦è§£/">ç¬¬äº”ç« ï¼šè¯¦è§£</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬å…«ç« ï¼šçŠ¶æ€ç®¡ç†/">ç¬¬å…«ç« ï¼šçŠ¶æ€ç®¡ç†</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬å…­ç« ï¼šè¿›é˜¶/">ç¬¬å…­ç« ï¼šè¿›é˜¶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬å››ç« ï¼šFlutterç™»å½•é¡µå®æˆ˜/">ç¬¬å››ç« ï¼šFlutterç™»å½•é¡µå®æˆ˜</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/ç¬¬é›¶ç« ï¼šFlutteræºç /">ç¬¬é›¶ç« ï¼šFlutteræºç </a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/QA/">QA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/README/">README</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/React/ç¬¬ä¸€ç« ï¼šReactå…¥é—¨/">ç¬¬ä¸€ç« ï¼šReactå…¥é—¨</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/">ReactNative</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/ç¬¬ä¸€ç« ï¼šReactNativeå…¥é—¨/">ç¬¬ä¸€ç« ï¼šReactNativeå…¥é—¨</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/ç¬¬ä¸€ç« ï¼šReactå…¥é—¨/">ç¬¬ä¸€ç« ï¼šReactå…¥é—¨</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/ç¬¬äº”ç« ï¼šReactNativeè¯¦è§£/">ç¬¬äº”ç« ï¼šReactNativeè¯¦è§£</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/ç¬¬å…«ç« ï¼šReactNativeå®è·µ/">ç¬¬å…«ç« ï¼šReactNativeå®è·µ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/ç¬¬å…­ç« ï¼šReactNativeè¿›é˜¶/">ç¬¬å…­ç« ï¼šReactNativeè¿›é˜¶</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/">Script</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Script/JQuery/">JQuery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/Macå¿«é€Ÿæ“ä½œ/">Macå¿«é€Ÿæ“ä½œ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/Ruby/">Ruby</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/Shell/">Shell</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Weex/">Weex</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Weex/ç¬¬ä¸€ç« ï¼šWeexå…¥é—¨/">ç¬¬ä¸€ç« ï¼šWeexå…¥é—¨</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/Swift/">Swift</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/æ··ç¼–/">æ··ç¼–</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/ç§»åŠ¨åˆ†æ/">ç§»åŠ¨åˆ†æ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/è‡ªåŠ¨åŒ–/">è‡ªåŠ¨åŒ–</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/è¯ä¹¦å‘ç‰ˆ/">è¯ä¹¦å‘ç‰ˆ</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/npmjs/">npmjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ä¸Šæ¶ç›¸å…³/">ä¸Šæ¶ç›¸å…³</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ä»£ç ç®¡ç†/">ä»£ç ç®¡ç†</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®‰å…¨/">å®‰å…¨</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/å®‰å…¨/Androidåˆè§„å®‰å…¨/">Androidåˆè§„å®‰å…¨</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®‰å…¨/ç¬¬ä¸€ç« ï¼šé¡¹ç›®å®‰å…¨/">ç¬¬ä¸€ç« ï¼šé¡¹ç›®å®‰å…¨</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/">å®ç”¨å·¥å…·</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/ChatGPT/">ChatGPT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/GitBook/">GitBook</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/Jenkins/">Jenkins</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/XAMPP/">XAMPP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/Zentao/">Zentao</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/å®ç”¨å·¥å…·/å…¶ä»–å°å·¥å…·/">å…¶ä»–å°å·¥å…·</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/å·¥ä½œå¸¸è¯†/">å·¥ä½œå¸¸è¯†</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/æŠ€æœ¯å¸¸è¯†/">æŠ€æœ¯å¸¸è¯†</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/æŠ€æœ¯é€‰å‹/">æŠ€æœ¯é€‰å‹</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/æŠ€æœ¯é€‰å‹/ç¬¬ä¸€ç« ï¼šAPMè°ƒç ”/">ç¬¬ä¸€ç« ï¼šAPMè°ƒç ”</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/æŠ€æœ¯é€‰å‹/ç¬¬ä¸€ç« ï¼šäº§å“é€‰å‹çš„è€ƒè™‘å› ç´ /">ç¬¬ä¸€ç« ï¼šäº§å“é€‰å‹çš„è€ƒè™‘å› ç´ </a></li><li class="category-list-item"><a class="category-list-link" href="/categories/æŠ€æœ¯é€‰å‹/ç¬¬ä¸€ç« ï¼šåŠ å›ºé€‰å‹/">ç¬¬ä¸€ç« ï¼šåŠ å›ºé€‰å‹</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ç”Ÿæ´»å¸¸è¯†/">ç”Ÿæ´»å¸¸è¯†</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ç›®å‰ç—›ç‚¹/">ç›®å‰ç—›ç‚¹</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ç®¡ç†ç›¸å…³/">ç®¡ç†ç›¸å…³</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ç®¡ç†ç›¸å…³/ç¬¬ä¸€ç« ï¼šè´¦å·ç®¡ç†/">ç¬¬ä¸€ç« ï¼šè´¦å·ç®¡ç†</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ç¼–ç¨‹å·¥å…·/">ç¼–ç¨‹å·¥å…·</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/è·¨å¹³å°/">è·¨å¹³å°</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/è·¨å¹³å°/ç¬¬ä¸€ç« ï¼šæ··ç¼–äº‹é¡¹è¯´æ˜/">ç¬¬ä¸€ç« ï¼šæ··ç¼–äº‹é¡¹è¯´æ˜</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Architecture/">Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ChatGPT/">ChatGPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CocoaPods/">CocoaPods</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flutter/">Flutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JQuery/">JQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Macå¿«é€Ÿæ“ä½œ/">Macå¿«é€Ÿæ“ä½œ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QA/">QA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/README/">README</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactNative/">ReactNative</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ruby/">Ruby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Script/">Script</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Weex/">Weex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npmjs/">npmjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ä¸Šæ¶ç›¸å…³/">ä¸Šæ¶ç›¸å…³</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/äº¤äº’/">äº¤äº’</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å®ç”¨å·¥å…·/">å®ç”¨å·¥å…·</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å·¥ä½œå¸¸è¯†/">å·¥ä½œå¸¸è¯†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æŠ€æœ¯å¸¸è¯†/">æŠ€æœ¯å¸¸è¯†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æŠ“åŒ…/">æŠ“åŒ…</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/æ–‡æ¡£ç®¡ç†/">æ–‡æ¡£ç®¡ç†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ç¯å¢ƒæ­å»º/">ç¯å¢ƒæ­å»º</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ç”Ÿæ´»å¸¸è¯†/">ç”Ÿæ´»å¸¸è¯†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ç—›ç‚¹/">ç—›ç‚¹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ç™»å½•é¡µå®æˆ˜/">ç™»å½•é¡µå®æˆ˜</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ç§»åŠ¨åˆ†æ/">ç§»åŠ¨åˆ†æ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ç¼–ç¨‹å·¥å…·/">ç¼–ç¨‹å·¥å…·</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/è‡ªåŠ¨åŒ–/">è‡ªåŠ¨åŒ–</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/è·¨å¹³å°/">è·¨å¹³å°</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/é˜¿é‡Œäº‘/">é˜¿é‡Œäº‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/é˜¿é‡Œäº‘oss/">é˜¿é‡Œäº‘oss</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/é›†æˆ/">é›†æˆ</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Architecture/" style="font-size: 20px;">Architecture</a> <a href="/tags/ChatGPT/" style="font-size: 10px;">ChatGPT</a> <a href="/tags/CocoaPods/" style="font-size: 10px;">CocoaPods</a> <a href="/tags/Flutter/" style="font-size: 18.46px;">Flutter</a> <a href="/tags/Git/" style="font-size: 13.85px;">Git</a> <a href="/tags/JQuery/" style="font-size: 10px;">JQuery</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Jenkins/" style="font-size: 14.62px;">Jenkins</a> <a href="/tags/Macå¿«é€Ÿæ“ä½œ/" style="font-size: 10px;">Macå¿«é€Ÿæ“ä½œ</a> <a href="/tags/Python/" style="font-size: 11.54px;">Python</a> <a href="/tags/QA/" style="font-size: 10px;">QA</a> <a href="/tags/README/" style="font-size: 10px;">README</a> <a href="/tags/React/" style="font-size: 10.77px;">React</a> <a href="/tags/ReactNative/" style="font-size: 16.15px;">ReactNative</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Script/" style="font-size: 15.38px;">Script</a> <a href="/tags/Shell/" style="font-size: 11.54px;">Shell</a> <a href="/tags/Swift/" style="font-size: 12.31px;">Swift</a> <a href="/tags/Weex/" style="font-size: 10px;">Weex</a> <a href="/tags/iOS/" style="font-size: 17.69px;">iOS</a> <a href="/tags/npmjs/" style="font-size: 10.77px;">npmjs</a> <a href="/tags/ä¸Šæ¶ç›¸å…³/" style="font-size: 10px;">ä¸Šæ¶ç›¸å…³</a> <a href="/tags/äº¤äº’/" style="font-size: 12.31px;">äº¤äº’</a> <a href="/tags/å®ç”¨å·¥å…·/" style="font-size: 16.92px;">å®ç”¨å·¥å…·</a> <a href="/tags/å·¥ä½œå¸¸è¯†/" style="font-size: 10px;">å·¥ä½œå¸¸è¯†</a> <a href="/tags/æŠ€æœ¯å¸¸è¯†/" style="font-size: 13.08px;">æŠ€æœ¯å¸¸è¯†</a> <a href="/tags/æŠ“åŒ…/" style="font-size: 10px;">æŠ“åŒ…</a> <a href="/tags/æ–‡æ¡£ç®¡ç†/" style="font-size: 14.62px;">æ–‡æ¡£ç®¡ç†</a> <a href="/tags/ç¯å¢ƒæ­å»º/" style="font-size: 10.77px;">ç¯å¢ƒæ­å»º</a> <a href="/tags/ç”Ÿæ´»å¸¸è¯†/" style="font-size: 10px;">ç”Ÿæ´»å¸¸è¯†</a> <a href="/tags/ç—›ç‚¹/" style="font-size: 10px;">ç—›ç‚¹</a> <a href="/tags/ç™»å½•é¡µå®æˆ˜/" style="font-size: 12.31px;">ç™»å½•é¡µå®æˆ˜</a> <a href="/tags/ç§»åŠ¨åˆ†æ/" style="font-size: 11.54px;">ç§»åŠ¨åˆ†æ</a> <a href="/tags/ç¼–ç¨‹å·¥å…·/" style="font-size: 11.54px;">ç¼–ç¨‹å·¥å…·</a> <a href="/tags/è‡ªåŠ¨åŒ–/" style="font-size: 11.54px;">è‡ªåŠ¨åŒ–</a> <a href="/tags/è·¨å¹³å°/" style="font-size: 19.23px;">è·¨å¹³å°</a> <a href="/tags/é˜¿é‡Œäº‘/" style="font-size: 10px;">é˜¿é‡Œäº‘</a> <a href="/tags/é˜¿é‡Œäº‘oss/" style="font-size: 13.85px;">é˜¿é‡Œäº‘oss</a> <a href="/tags/é›†æˆ/" style="font-size: 11.54px;">é›†æˆ</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/Architectureæ¶æ„/h5_native_interacte/h5_open_app/dvlp_h5_open_app_app_route_url_demo/">(no title)</a>
          </li>
        
          <li>
            <a href="/Architectureæ¶æ„/h5_native_interacte/commonjs/element_value/">(no title)</a>
          </li>
        
          <li>
            <a href="/Architectureæ¶æ„/h5_native_interacte/commonjs/common_url_util/">(no title)</a>
          </li>
        
          <li>
            <a href="/Architectureæ¶æ„/h5_native_interacte/commonjs/common_url_update/">(no title)</a>
          </li>
        
          <li>
            <a href="/Architectureæ¶æ„/h5_native_interacte/commonjs/common_read_file/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 dvlproad<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">é¦–é¡µ</a>
  
    <a href="/archives" class="mobile-nav-link">å½’æ¡£</a>
  
    <a href="/about" class="mobile-nav-link">å…³äº</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>