<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>dvlproadの博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="学而时习之不亦说乎(dvlproad)">
<meta name="keywords" content="blog,IT,iOS,Flutter">
<meta property="og:type" content="website">
<meta property="og:title" content="dvlproadの博客">
<meta property="og:url" content="https://dvlproad.github.io/page/24/index.html">
<meta property="og:site_name" content="dvlproadの博客">
<meta property="og:description" content="学而时习之不亦说乎(dvlproad)">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dvlproadの博客">
<meta name="twitter:description" content="学而时习之不亦说乎(dvlproad)">
  
    <link rel="alternate" href="/atom.xml" title="dvlproadの博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">dvlproadの博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">整理及总结平时过程中的知识点</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dvlproad.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-ReactNative/ReactNative README" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/ReactNative/ReactNative README/" class="article-date">
  <time datetime="2019-05-17T08:05:16.000Z" itemprop="datePublished">2019-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ReactNative/">ReactNative</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/ReactNative/ReactNative README/">ReactNative</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ReactNative"><a href="#ReactNative" class="headerlink" title="ReactNative"></a>ReactNative</h1><p>重要参考：</p>
<ul>
<li><a href="https://www.jianshu.com/p/5b185df2d11a" target="_blank" rel="noopener">1) React Native 简介与入门</a></li>
<li><a href="https://www.jianshu.com/p/a85cba2efb7a" target="_blank" rel="noopener">2)React Native 环境搭建和创建项目(Mac)</a></li>
<li><a href="https://www.jianshu.com/p/dfec60a479ec" target="_blank" rel="noopener">3) React Native 开发之IDE</a></li>
<li><a href="https://www.jianshu.com/p/35c3e08bfddd" target="_blank" rel="noopener">4) React Native 入门项目与解析</a></li>
<li><a href="https://www.jianshu.com/p/61a5fdbc9b35" target="_blank" rel="noopener">5) React Native 相关JS和React基础</a></li>
<li><a href="https://www.jianshu.com/p/72f8c1da0b65" target="_blank" rel="noopener">6) React Native 组件生命周期(ES6)</a></li>
<li><a href="https://www.jianshu.com/p/3dc9d70a790f" target="_blank" rel="noopener">7) React Native 集成到原生项目(iOS)</a></li>
<li><a href="https://www.jianshu.com/p/9d7dbf17daa5" target="_blank" rel="noopener">8) React Native 与原生之间的通信(iOS)</a></li>
<li><a href="https://www.jianshu.com/p/e16c91acce03" target="_blank" rel="noopener">9) React Native 封装原生ＵI组件(iOS)</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/ReactNative/ReactNative README/" data-id="cm2nkn2ev0011bur48oeomjho" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactNative/">ReactNative</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/跨平台/">跨平台</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-React/React README" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/React/React README/" class="article-date">
  <time datetime="2019-05-17T08:05:16.000Z" itemprop="datePublished">2019-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ReactNative/">ReactNative</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/React/React README/">ReactNative</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ReactNative"><a href="#ReactNative" class="headerlink" title="ReactNative"></a>ReactNative</h1><p>重要参考：</p>
<ul>
<li><a href="https://www.jianshu.com/p/5b185df2d11a" target="_blank" rel="noopener">1) React Native 简介与入门</a></li>
<li><a href="https://www.jianshu.com/p/a85cba2efb7a" target="_blank" rel="noopener">2)React Native 环境搭建和创建项目(Mac)</a></li>
<li><a href="https://www.jianshu.com/p/dfec60a479ec" target="_blank" rel="noopener">3) React Native 开发之IDE</a></li>
<li><a href="https://www.jianshu.com/p/35c3e08bfddd" target="_blank" rel="noopener">4) React Native 入门项目与解析</a></li>
<li><a href="https://www.jianshu.com/p/61a5fdbc9b35" target="_blank" rel="noopener">5) React Native 相关JS和React基础</a></li>
<li><a href="https://www.jianshu.com/p/72f8c1da0b65" target="_blank" rel="noopener">6) React Native 组件生命周期(ES6)</a></li>
<li><a href="https://www.jianshu.com/p/3dc9d70a790f" target="_blank" rel="noopener">7) React Native 集成到原生项目(iOS)</a></li>
<li><a href="https://www.jianshu.com/p/9d7dbf17daa5" target="_blank" rel="noopener">8) React Native 与原生之间的通信(iOS)</a></li>
<li><a href="https://www.jianshu.com/p/e16c91acce03" target="_blank" rel="noopener">9) React Native 封装原生ＵI组件(iOS)</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/React/React README/" data-id="cm2nkn2ex0014bur4bo8hql70" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactNative/">ReactNative</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/跨平台/">跨平台</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ReactNative/1入门/ReactNative开发环境搭建与运行" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/ReactNative/1入门/ReactNative开发环境搭建与运行/" class="article-date">
  <time datetime="2019-05-17T08:05:16.000Z" itemprop="datePublished">2019-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ReactNative/">ReactNative</a>►<a class="article-category-link" href="/categories/ReactNative/第一章：ReactNative入门/">第一章：ReactNative入门</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/ReactNative/1入门/ReactNative开发环境搭建与运行/">第1节：ReactNative开发环境搭建与运行</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="ReactNative"><a href="#ReactNative" class="headerlink" title="ReactNative"></a>ReactNative</h1><ul>
<li><p><a href="https://juejin.im/post/5be68e3b51882516c94e6b9c" target="_blank" rel="noopener">一篇写得不错的RN入门教程</a></p>
</li>
<li><p><a href="https://reactnative.cn/docs/getting-started.html" target="_blank" rel="noopener">RN中文网搭建开发环境</a></p>
</li>
</ul>
<h2 id="一、检测您是否具备了ReactNative的开发环境"><a href="#一、检测您是否具备了ReactNative的开发环境" class="headerlink" title="一、检测您是否具备了ReactNative的开发环境"></a>一、检测您是否具备了ReactNative的开发环境</h2><h3 id="1、环境已完善时"><a href="#1、环境已完善时" class="headerlink" title="1、环境已完善时"></a>1、环境已完善时</h3><p>无</p>
<h3 id="2、环境未完善时"><a href="#2、环境未完善时" class="headerlink" title="2、环境未完善时"></a>2、环境未完善时</h3><h4 id="2-1、React-Native-环境搭建"><a href="#2-1、React-Native-环境搭建" class="headerlink" title="2.1、React Native 环境搭建"></a>2.1、React Native 环境搭建</h4><ul>
<li>1、按照<a href="https://www.jianshu.com/p/a85cba2efb7a" target="_blank" rel="noopener">React Native 环境搭建和创建项目(Mac)</a>进行环境搭建。</li>
</ul>
<h2 id="二、创建第一个ReactNative项目"><a href="#二、创建第一个ReactNative项目" class="headerlink" title="二、创建第一个ReactNative项目"></a>二、创建第一个ReactNative项目</h2><h3 id="1、创建项目"><a href="#1、创建项目" class="headerlink" title="1、创建项目"></a>1、创建项目</h3><p>方法一：执行<code>react-native init cj_rn_logindemo</code></p>
<blockquote>
<p>此步骤会生成<strong>React Native依赖包<code>node_modules</code></strong>文件夹。每个项目中都要有这部分内容。且该部分的内容可以直接被复制使用。所以，创建项目还有另一个方法。</p>
</blockquote>
<p>生成的<code>cj_rn_logindemo</code>工程详见<a href="https://github.com/dvlproad/DvlproadPlatformLoginCollect/RN/cj_rn_logindemo" target="_blank" rel="noopener">cj_rn_logindemo</a></p>
<p>方法二：原有iOS项目集成RN</p>
<blockquote>
<p>参考来源：<a href="https://www.jianshu.com/p/3dc9d70a790f" target="_blank" rel="noopener">React Native 集成到原生项目(iOS)</a></p>
</blockquote>
<p>react-native 指定版本创建项目</p>
<p>因为<code>react-native</code>更新太快，每次<code>react-native init</code>初始化项目的时候，都会安装最新的rn版本，导致之前的一些api不兼容等问题。<br>所以我们需要安装指定版本的rn来初始化项目：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">react-native</span> <span class="selector-tag">init</span> <span class="selector-tag">demo</span> <span class="selector-tag">--version</span> 0<span class="selector-class">.59</span><span class="selector-class">.8</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">react-native 安装指定的版本</span><br><span class="line"></span><br><span class="line">react-native init name --version 0.xx.xx</span><br><span class="line"></span><br><span class="line">react-native 降低版本</span><br><span class="line"></span><br><span class="line">react-native --save [react-native@0.xx.xx](mailto:react-native@0.xx.xx)</span><br></pre></td></tr></table></figure>
<h2 id="三、运行ReactNative项目"><a href="#三、运行ReactNative项目" class="headerlink" title="三、运行ReactNative项目"></a>三、运行ReactNative项目</h2><h3 id="1、运行方法"><a href="#1、运行方法" class="headerlink" title="1、运行方法"></a>1、运行方法</h3><h4 id="1-1、常见运行方法"><a href="#1-1、常见运行方法" class="headerlink" title="1.1、常见运行方法"></a>1.1、常见运行方法</h4><p>命令行运行项目</p>
<blockquote>
<p>进入项目根目录<code>cd TestRNProject</code></p>
<p>运行iOS项目<code>react-native run-ios</code></p>
</blockquote>
<h4 id="1-2、像iOS原生那样在Xcode中运行"><a href="#1-2、像iOS原生那样在Xcode中运行" class="headerlink" title="1.2、像iOS原生那样在Xcode中运行"></a>1.2、像iOS原生那样在Xcode中运行</h4><blockquote>
<p>双击ios/TestRNProject.xcodeproj文件然后在Xcode中点击Run按钮。（最常用，对iOS开发者）</p>
</blockquote>
<h4 id="1-3、在WebStorm中直接运行"><a href="#1-3、在WebStorm中直接运行" class="headerlink" title="1.3、在WebStorm中直接运行"></a>1.3、在WebStorm中直接运行</h4><p>详见本文中的<code>附一、进阶：为WebStorm搭建React Native开发环境</code></p>
<h4 id="1-4、Android中找不到devices的问题处理"><a href="#1-4、Android中找不到devices的问题处理" class="headerlink" title="1.4、Android中找不到devices的问题处理"></a>1.4、Android中找不到devices的问题处理</h4><p>错误提示：<code>error No Android devices connected.</code></p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_Android_device.png" alt="rn_Android_device"></p>
<p>此时需要：</p>
<p>①、<code>adb kill-server</code></p>
<p>②、<code>adb start-server</code></p>
<p>原因：模拟器在运行一段时间后，adb服务有可能会出现异常。这时需要重新对adb服务关闭和重启。</p>
<p>附：reload 命令<code>adb shell input keyevent 82</code></p>
<h3 id="2、运行项目的常见问题"><a href="#2、运行项目的常见问题" class="headerlink" title="2、运行项目的常见问题"></a>2、运行项目的常见问题</h3><h4 id="2-1、RN项目报错“RCTBundleURLProvider-h”-file-not-found"><a href="#2-1、RN项目报错“RCTBundleURLProvider-h”-file-not-found" class="headerlink" title="2.1、RN项目报错“RCTBundleURLProvider.h” file not found"></a>2.1、RN项目报错“RCTBundleURLProvider.h” file not found</h4><p>从网上下载别人的ReactNative项目，打开iOS项目的时候，xcode会报错，提示：“RCTBundleURLProvider.h” file not found</p>
<p>原因：node_modules文件夹不存在 或者 node_modules文件夹下的包和当前版本不匹配</p>
<p>解决方法：<br>1、打开Mac里面的终端，进入项目所在的文件夹目录；<br>2、把项目里面的 node_modules 文件夹删除掉，然后执行 npm install 命令<br>3、npm install安装完成后， 执行react-native upgrade命令<br>4、最后重新打开Xcode,clean一下，应该就没有问题了。</p>
<h2 id="附一、进阶：为WebStorm搭建React-Native开发环境"><a href="#附一、进阶：为WebStorm搭建React-Native开发环境" class="headerlink" title="附一、进阶：为WebStorm搭建React Native开发环境"></a>附一、进阶：为WebStorm搭建React Native开发环境</h2><p>PS：最近又回来搞RN了，以下虽然都是一些老知识了，但你也许有用</p>
<p><strong>问题背景：我不想在WebStorm/VSCode、终端、XCode中来回切换。我想在WebStorm直接运行ReactNative项目</strong><br><strong>问题背景：我不想在WebStorm/VSCode、终端、XCode中来回切换。我想在WebStorm直接运行ReactNative项目</strong><br><strong>问题背景：我不想在WebStorm/VSCode、终端、XCode中来回切换。我想在WebStorm直接运行ReactNative项目</strong></p>
<h3 id="1、为Run添加Add-New-Configuration"><a href="#1、为Run添加Add-New-Configuration" class="headerlink" title="1、为Run添加Add New Configuration"></a>1、为<strong>Run</strong>添加<code>Add New Configuration</code></h3><p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting1.png" alt="image-20190519205612140" style="zoom:50%;"></p>
<p>点击，<strong>Edit configurations…</strong>会进入如下界面</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting2.png" alt="image-20190519221955691"></p>
<p>点击 <strong>+</strong> ，选择<strong>npm</strong></p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting3.png" alt="image-20190519222125672"></p>
<h3 id="2、完善所添加的Configuration内容"><a href="#2、完善所添加的Configuration内容" class="headerlink" title="2、完善所添加的Configuration内容"></a>2、完善所添加的Configuration内容</h3><p>外层内容填写如下：</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting4.png" alt="image-20190519222852727"></p>
<p>External tool内容如下：</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting5.png" alt="image-20190519223454054"></p>
<p>上述步骤2中的各值分别为：</p>
<ul>
<li><p>①<strong>Program：</strong></p>
<p>从<code>which react-native</code>中获得的 <strong><code>/usr/local/bin/react-native</code></strong></p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting5_1.png" alt="image-20190519223703388"></p>
</li>
<li><p>②<strong>Arguments：</strong></p>
<p><strong><code>run-ios --simulator=&quot;iPhone Xʀ&quot;</code></strong></p>
<p><strong><code>run-ios --device=&quot;iPhone7_Qian&quot;</code></strong></p>
<p><strong><code>run-android --deviceId=&quot;emulator-5554&quot;</code></strong></p>
</li>
</ul>
<p>附：启动和关闭ADB服务（<code>adb start-server</code>和<code>adb kill-server</code>）</p>
<p>  iOS设备值来源：</p>
<p>  <img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/设备_iOS.png" alt="设备_iOS"></p>
<p>  安卓设备值来源：</p>
<p>  <img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/设备_adb devices.png" alt="设备_adb devices"></p>
<p>执行的命令有：</p>
<p>注：前提要cd到工程中后，执行<code>react-native run-android  --help</code>才有效。</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/设备_react-native run-android  --help.png" alt="设备_react-native run-android  --help"></p>
<ul>
<li><p>③<strong>Working directory：</strong></p>
<p>建议通过如下图添加宏的方式添加Working directory值。</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting5_2.png" alt="image-20190519224816841"></p>
</li>
</ul>
<p>添加完成后的图为：</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting6.png" alt="image-20190519225336448"></p>
<p>至此，配置结束。接下来我们试下效果。</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/分割图1.jpg" alt="恭喜，配置结束，休息一下吧"></p>
<h3 id="3、试下配置效果是否有效"><a href="#3、试下配置效果是否有效" class="headerlink" title="3、试下配置效果是否有效"></a>3、试下配置效果是否有效</h3><p>从<strong>Run</strong>菜单中选择刚才添加的执行项，其就会在执行我们所设置的选项，即执行<code>/usr/local/bin/react-native run-ios &quot;--simulator=iPhone Xʀ&quot;</code>。</p>
<p>执行结果如下：</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting7.png" alt="image-20190519225942964"></p>
<p>同样的其也会在终端中有如下显示：</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting8.png" alt="image-20190519231236234"></p>
<p>当然，如果你使用快捷键”Cmd+R”也能达到这个效果。</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_WebStorm_setting9.png" alt="image-20190519231502977"></p>
<p>经验证，配置无误，使用有效。</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/分割图1.jpg" alt="经验证，配置无误，使用有效，打工告成"></p>
<h2 id="四、Xcode11问题"><a href="#四、Xcode11问题" class="headerlink" title="四、Xcode11问题"></a>四、Xcode11问题</h2><p><strong>2019.10.27: Could not find iPhone 11 simulator. Run CLI with –verbose flag for more details.</strong></p>
<p>1、初步分析：</p>
<p>Xcode 11无法在模拟器上运行React-Native应用程序。看结论为没有你想运行的那个模拟器iPhone X。<br>2、判断分析正确否：</p>
<p>单独运行模拟器，在顶部菜单中，在“硬件，设备，iOS 13.0”下查看。</p>
<p><img src="/ReactNative/1入门/ReactNative开发环境搭建与运行/rn_Could not find simulator.png" alt="rn_Could not find simulator" style="zoom:50%;"></p>
<p>①当您执行run-ios时，react-native旨在匹配请求的设备。内部硬编码默认值为iPhoneX。</p>
<p>②尝试匹配请求的设备的函数在：</p>
<p>/node_modules/@react-native-community/cli-platform-ios/build/commands/runIOS/findMatchingSimulator.js</p>
<p>设计此功能是为了使您可以为其提供设备和可选的版本号。</p>
<p>③如果找不到给定的设备和版本，则默认情况下它将使用列表中的第一个设备返回匹配项。</p>
<p>3、解决：</p>
<p>如上所述，首先自己运行模拟器，并记下所需的iPhone或iPad。</p>
<p>然后将此名称作为可选参数传递给run-ios命令行命令，如下所示：</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/ReactNative/1入门/ReactNative开发环境搭建与运行/" data-id="cm2nkn44c00h4bur4j0mwjr07" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactNative/">ReactNative</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/跨平台/">跨平台</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-React/1入门/React开发环境搭建与运行" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/React/1入门/React开发环境搭建与运行/" class="article-date">
  <time datetime="2019-05-17T08:05:16.000Z" itemprop="datePublished">2019-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ReactNative/">ReactNative</a>►<a class="article-category-link" href="/categories/ReactNative/第一章：React入门/">第一章：React入门</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/React/1入门/React开发环境搭建与运行/">第1节：React开发环境搭建与运行</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="React"><a href="#React" class="headerlink" title="React"></a>React</h1><ul>
<li><p><a href="https://juejin.im/post/5be68e3b51882516c94e6b9c" target="_blank" rel="noopener">一篇写得不错的RN入门教程</a></p>
</li>
<li><p><a href="https://reactnative.cn/docs/getting-started.html" target="_blank" rel="noopener">RN中文网搭建开发环境</a></p>
</li>
</ul>
<h2 id="一、检测您是否具备了ReactNative的开发环境"><a href="#一、检测您是否具备了ReactNative的开发环境" class="headerlink" title="一、检测您是否具备了ReactNative的开发环境"></a>一、检测您是否具备了ReactNative的开发环境</h2><h3 id="1、环境已完善时"><a href="#1、环境已完善时" class="headerlink" title="1、环境已完善时"></a>1、环境已完善时</h3><p>无</p>
<h3 id="2、环境未完善时"><a href="#2、环境未完善时" class="headerlink" title="2、环境未完善时"></a>2、环境未完善时</h3><h4 id="2-1、React-Native-环境搭建"><a href="#2-1、React-Native-环境搭建" class="headerlink" title="2.1、React Native 环境搭建"></a>2.1、React Native 环境搭建</h4><ul>
<li><p>1、按照<a href="https://zh-hans.reactjs.org/docs/create-a-new-react-app.html" target="_blank" rel="noopener">创建新的 React 应用</a>进行环境搭建。</p>
</li>
<li><p>安装方法：<code>npm install create-react-app -g</code></p>
</li>
<li>创建一个应用：<code>create-react-app my-app</code></li>
</ul>
<h2 id="二、创建第一个ReactNative项目"><a href="#二、创建第一个ReactNative项目" class="headerlink" title="二、创建第一个ReactNative项目"></a>二、创建第一个ReactNative项目</h2><h3 id="1、创建项目"><a href="#1、创建项目" class="headerlink" title="1、创建项目"></a>1、创建项目</h3><p>方法一：执行<code>react-native init cj_rn_logindemo</code></p>
<blockquote>
<p>此步骤会生成<strong>React Native依赖包<code>node_modules</code></strong>文件夹。每个项目中都要有这部分内容。且该部分的内容可以直接被复制使用。所以，创建项目还有另一个方法。</p>
</blockquote>
<p>生成的<code>cj_rn_logindemo</code>工程详见<a href="https://github.com/dvlproad/DvlproadPlatformLoginCollect/RN/cj_rn_logindemo" target="_blank" rel="noopener">cj_rn_logindemo</a></p>
<p>方法二：原有iOS项目集成RN</p>
<blockquote>
<p>参考来源：<a href="https://www.jianshu.com/p/3dc9d70a790f" target="_blank" rel="noopener">React Native 集成到原生项目(iOS)</a></p>
</blockquote>
<p>react-native 指定版本创建项目</p>
<p>因为<code>react-native</code>更新太快，每次<code>react-native init</code>初始化项目的时候，都会安装最新的rn版本，导致之前的一些api不兼容等问题。<br>所以我们需要安装指定版本的rn来初始化项目：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">react-native</span> <span class="selector-tag">init</span> <span class="selector-tag">demo</span> <span class="selector-tag">--version</span> 0<span class="selector-class">.59</span><span class="selector-class">.8</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">react-native 安装指定的版本</span><br><span class="line"></span><br><span class="line">react-native init name --version 0.xx.xx</span><br><span class="line"></span><br><span class="line">react-native 降低版本</span><br><span class="line"></span><br><span class="line">react-native --save [react-native@0.xx.xx](mailto:react-native@0.xx.xx)</span><br></pre></td></tr></table></figure>
<h2 id="三、运行ReactNative项目"><a href="#三、运行ReactNative项目" class="headerlink" title="三、运行ReactNative项目"></a>三、运行ReactNative项目</h2><h3 id="1、运行方法"><a href="#1、运行方法" class="headerlink" title="1、运行方法"></a>1、运行方法</h3><h4 id="1-1、常见运行方法"><a href="#1-1、常见运行方法" class="headerlink" title="1.1、常见运行方法"></a>1.1、常见运行方法</h4><p>命令行运行项目</p>
<blockquote>
<p>进入项目根目录<code>cd TestRNProject</code></p>
<p>运行iOS项目<code>react-native run-ios</code></p>
</blockquote>
<h4 id="1-2、像iOS原生那样在Xcode中运行"><a href="#1-2、像iOS原生那样在Xcode中运行" class="headerlink" title="1.2、像iOS原生那样在Xcode中运行"></a>1.2、像iOS原生那样在Xcode中运行</h4><blockquote>
<p>双击ios/TestRNProject.xcodeproj文件然后在Xcode中点击Run按钮。（最常用，对iOS开发者）</p>
</blockquote>
<h4 id="1-3、在WebStorm中直接运行"><a href="#1-3、在WebStorm中直接运行" class="headerlink" title="1.3、在WebStorm中直接运行"></a>1.3、在WebStorm中直接运行</h4><p>详见本文中的<code>附一、进阶：为WebStorm搭建React Native开发环境</code></p>
<h4 id="1-4、Android中找不到devices的问题处理"><a href="#1-4、Android中找不到devices的问题处理" class="headerlink" title="1.4、Android中找不到devices的问题处理"></a>1.4、Android中找不到devices的问题处理</h4><p>错误提示：<code>error No Android devices connected.</code></p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_Android_device.png" alt="rn_Android_device"></p>
<p>此时需要：</p>
<p>①、<code>adb kill-server</code></p>
<p>②、<code>adb start-server</code></p>
<p>原因：模拟器在运行一段时间后，adb服务有可能会出现异常。这时需要重新对adb服务关闭和重启。</p>
<p>附：reload 命令<code>adb shell input keyevent 82</code></p>
<h3 id="2、运行项目的常见问题"><a href="#2、运行项目的常见问题" class="headerlink" title="2、运行项目的常见问题"></a>2、运行项目的常见问题</h3><h4 id="2-1、RN项目报错“RCTBundleURLProvider-h”-file-not-found"><a href="#2-1、RN项目报错“RCTBundleURLProvider-h”-file-not-found" class="headerlink" title="2.1、RN项目报错“RCTBundleURLProvider.h” file not found"></a>2.1、RN项目报错“RCTBundleURLProvider.h” file not found</h4><p>从网上下载别人的ReactNative项目，打开iOS项目的时候，xcode会报错，提示：“RCTBundleURLProvider.h” file not found</p>
<p>原因：node_modules文件夹不存在 或者 node_modules文件夹下的包和当前版本不匹配</p>
<p>解决方法：<br>1、打开Mac里面的终端，进入项目所在的文件夹目录；<br>2、把项目里面的 node_modules 文件夹删除掉，然后执行 npm install 命令<br>3、npm install安装完成后， 执行react-native upgrade命令<br>4、最后重新打开Xcode,clean一下，应该就没有问题了。</p>
<h2 id="附一、进阶：为WebStorm搭建React-Native开发环境"><a href="#附一、进阶：为WebStorm搭建React-Native开发环境" class="headerlink" title="附一、进阶：为WebStorm搭建React Native开发环境"></a>附一、进阶：为WebStorm搭建React Native开发环境</h2><p>PS：最近又回来搞RN了，以下虽然都是一些老知识了，但你也许有用</p>
<p><strong>问题背景：我不想在WebStorm/VSCode、终端、XCode中来回切换。我想在WebStorm直接运行ReactNative项目</strong><br><strong>问题背景：我不想在WebStorm/VSCode、终端、XCode中来回切换。我想在WebStorm直接运行ReactNative项目</strong><br><strong>问题背景：我不想在WebStorm/VSCode、终端、XCode中来回切换。我想在WebStorm直接运行ReactNative项目</strong></p>
<h3 id="1、为Run添加Add-New-Configuration"><a href="#1、为Run添加Add-New-Configuration" class="headerlink" title="1、为Run添加Add New Configuration"></a>1、为<strong>Run</strong>添加<code>Add New Configuration</code></h3><p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting1.png" alt="image-20190519205612140" style="zoom:50%;"></p>
<p>点击，<strong>Edit configurations…</strong>会进入如下界面</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting2.png" alt="image-20190519221955691"></p>
<p>点击 <strong>+</strong> ，选择<strong>npm</strong></p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting3.png" alt="image-20190519222125672"></p>
<h3 id="2、完善所添加的Configuration内容"><a href="#2、完善所添加的Configuration内容" class="headerlink" title="2、完善所添加的Configuration内容"></a>2、完善所添加的Configuration内容</h3><p>外层内容填写如下：</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting4.png" alt="image-20190519222852727"></p>
<p>External tool内容如下：</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting5.png" alt="image-20190519223454054"></p>
<p>上述步骤2中的各值分别为：</p>
<ul>
<li><p>①<strong>Program：</strong></p>
<p>从<code>which react-native</code>中获得的 <strong><code>/usr/local/bin/react-native</code></strong></p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting5_1.png" alt="image-20190519223703388"></p>
</li>
<li><p>②<strong>Arguments：</strong></p>
<p><strong><code>run-ios --simulator=&quot;iPhone Xʀ&quot;</code></strong></p>
<p><strong><code>run-ios --device=&quot;iPhone7_Qian&quot;</code></strong></p>
<p><strong><code>run-android --deviceId=&quot;emulator-5554&quot;</code></strong></p>
</li>
</ul>
<p>附：启动和关闭ADB服务（<code>adb start-server</code>和<code>adb kill-server</code>）</p>
<p>  iOS设备值来源：</p>
<p>  <img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/设备_iOS.png" alt="设备_iOS"></p>
<p>  安卓设备值来源：</p>
<p>  <img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/设备_adb devices.png" alt="设备_adb devices"></p>
<p>执行的命令有：</p>
<p>注：前提要cd到工程中后，执行<code>react-native run-android  --help</code>才有效。</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/设备_react-native run-android  --help.png" alt="设备_react-native run-android  --help"></p>
<ul>
<li><p>③<strong>Working directory：</strong></p>
<p>建议通过如下图添加宏的方式添加Working directory值。</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting5_2.png" alt="image-20190519224816841"></p>
</li>
</ul>
<p>添加完成后的图为：</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting6.png" alt="image-20190519225336448"></p>
<p>至此，配置结束。接下来我们试下效果。</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/分割图1.jpg" alt="恭喜，配置结束，休息一下吧"></p>
<h3 id="3、试下配置效果是否有效"><a href="#3、试下配置效果是否有效" class="headerlink" title="3、试下配置效果是否有效"></a>3、试下配置效果是否有效</h3><p>从<strong>Run</strong>菜单中选择刚才添加的执行项，其就会在执行我们所设置的选项，即执行<code>/usr/local/bin/react-native run-ios &quot;--simulator=iPhone Xʀ&quot;</code>。</p>
<p>执行结果如下：</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting7.png" alt="image-20190519225942964"></p>
<p>同样的其也会在终端中有如下显示：</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting8.png" alt="image-20190519231236234"></p>
<p>当然，如果你使用快捷键”Cmd+R”也能达到这个效果。</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_WebStorm_setting9.png" alt="image-20190519231502977"></p>
<p>经验证，配置无误，使用有效。</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/分割图1.jpg" alt="经验证，配置无误，使用有效，打工告成"></p>
<h2 id="四、Xcode11问题"><a href="#四、Xcode11问题" class="headerlink" title="四、Xcode11问题"></a>四、Xcode11问题</h2><p><strong>2019.10.27: Could not find iPhone 11 simulator. Run CLI with –verbose flag for more details.</strong></p>
<p>1、初步分析：</p>
<p>Xcode 11无法在模拟器上运行React-Native应用程序。看结论为没有你想运行的那个模拟器iPhone X。<br>2、判断分析正确否：</p>
<p>单独运行模拟器，在顶部菜单中，在“硬件，设备，iOS 13.0”下查看。</p>
<p><img src="/React/1入门/React开发环境搭建与运行/ReactNative开发环境搭建与运行/rn_Could not find simulator.png" alt="rn_Could not find simulator" style="zoom:50%;"></p>
<p>①当您执行run-ios时，react-native旨在匹配请求的设备。内部硬编码默认值为iPhoneX。</p>
<p>②尝试匹配请求的设备的函数在：</p>
<p>/node_modules/@react-native-community/cli-platform-ios/build/commands/runIOS/findMatchingSimulator.js</p>
<p>设计此功能是为了使您可以为其提供设备和可选的版本号。</p>
<p>③如果找不到给定的设备和版本，则默认情况下它将使用列表中的第一个设备返回匹配项。</p>
<p>3、解决：</p>
<p>如上所述，首先自己运行模拟器，并记下所需的iPhone或iPad。</p>
<p>然后将此名称作为可选参数传递给run-ios命令行命令，如下所示：</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/React/1入门/React开发环境搭建与运行/" data-id="cm2nkn45q00j5bur4okwyxccn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/跨平台/">跨平台</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Android/1入门/Android_devices" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Android/1入门/Android_devices/" class="article-date">
  <time datetime="2019-05-17T08:05:16.000Z" itemprop="datePublished">2019-05-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ReactNative/">ReactNative</a>►<a class="article-category-link" href="/categories/ReactNative/第一章：ReactNative入门/">第一章：ReactNative入门</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Android/1入门/Android_devices/">第1节：ReactNative开发环境搭建与运行</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<h1 id="Android-devices"><a href="#Android-devices" class="headerlink" title="Android_devices"></a>Android_devices</h1><h2 id="一、Android中找不到devices的问题处理"><a href="#一、Android中找不到devices的问题处理" class="headerlink" title="一、Android中找不到devices的问题处理"></a>一、Android中找不到devices的问题处理</h2><p>查询设备，请使用<code>adb devices</code></p>
<p>错误提示：<code>error No Android devices connected.</code></p>
<p><img src="/Android/1入门/Android_devices/no_Android_device.png" alt="no_Android_device"></p>
<p>此时需要：</p>
<p>①、<code>adb kill-server</code></p>
<p>②、<code>adb start-server</code></p>
<p><code>adb devices</code></p>
<p>原因：模拟器在运行一段时间后，adb服务有可能会出现异常。这时需要重新对adb服务关闭和重启。</p>
<p>附：reload 命令<code>adb shell input keyevent 82</code></p>
<p>   安卓设备值来源：</p>
<p>  <img src="/Android/1入门/Android_devices/设备_adb devices.png" alt="设备_adb devices"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Android/1入门/Android_devices/" data-id="cm2nkn46500kxbur4ygrxmp0x" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ReactNative/">ReactNative</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/跨平台/">跨平台</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Weex/1入门/Weex开发环境搭建与运行" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/Weex/1入门/Weex开发环境搭建与运行/" class="article-date">
  <time datetime="2019-05-13T06:57:55.000Z" itemprop="datePublished">2019-05-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Weex/">Weex</a>►<a class="article-category-link" href="/categories/Weex/第一章：Weex入门/">第一章：Weex入门</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Weex/1入门/Weex开发环境搭建与运行/">Weex</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Weex"><a href="#Weex" class="headerlink" title="Weex"></a>Weex</h1><h2 id="一、集成-Weex-到已有应用"><a href="#一、集成-Weex-到已有应用" class="headerlink" title="一、集成 Weex 到已有应用"></a>一、集成 Weex 到已有应用</h2><p><a href="http://weex-project.io/cn/guide/integrate-to-your-app.html" target="_blank" rel="noopener">集成 Weex 到已有应用(官网)</a></p>
<h2 id="二、创建Weex项目"><a href="#二、创建Weex项目" class="headerlink" title="二、创建Weex项目"></a>二、创建Weex项目</h2><p>创建Weex项目方法：</p>
<ul>
<li><p>①、在终端执行<code>weex create 目录</code>即可。</p>
<p>②、cd 到<code>项目/platforms/platforms.json</code>所在的<code>platforms</code>目录下执行<code>sudo npm run pack:ios</code>(如果不是在该目录会提示您platforms.json的错误)</p>
</li>
<li><p>在使用前，请使用<code>weex -v</code>进行weex环境检测。详见<code>【附1】Weex开发环境检测</code></p>
</li>
</ul>
<h2 id="三、Weex编码"><a href="#三、Weex编码" class="headerlink" title="三、Weex编码"></a>三、Weex编码</h2><ul>
<li><p>编写.we/vue代码</p>
</li>
<li><p>将.we/vue代码文件转为js文件放入项目中</p>
</li>
</ul>
<h4 id="1、将-we-vue文件转换成-js文件的终端命令"><a href="#1、将-we-vue文件转换成-js文件的终端命令" class="headerlink" title="1、将.we/vue文件转换成 js文件的终端命令"></a>1、将<code>.we/vue</code>文件转换成 js文件的终端命令</h4><table>
<thead>
<tr>
<th>.we/vue 转换成 js文件的终端命令</th>
<th>作用</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>weex compile dir js</td>
<td>会将dir文件夹下的所有we文件转换到js文件夹下</td>
<td></td>
</tr>
<tr>
<td>weex compile dir/xxx.we  js</td>
<td>会将dir文件夹下的xxx.we文件转换为js文件存到js文件夹下</td>
<td></td>
</tr>
<tr>
<td>weex compile dir/xxx.vue  js</td>
<td>会将dir文件夹下的xxx.vue文件转换为js文件存到js文件夹下</td>
</tr>
</tbody>
</table>
<h4 id="2、vue文件编写"><a href="#2、vue文件编写" class="headerlink" title="2、vue文件编写"></a>2、vue文件编写</h4><ul>
<li><p>可在<a href="http://dotwe.org/vue" target="_blank" rel="noopener">http://dotwe.org/vue</a>上编写</p>
</li>
<li><p>可再vue项目中编写</p>
</li>
</ul>
<h2 id="附"><a href="#附" class="headerlink" title="附"></a>附</h2><blockquote>
<p>【附1】Weex开发环境检测</p>
<p>【附2】Weex工具WebStorm的安装</p>
</blockquote>
<h4 id="【附1】Weex开发环境检测"><a href="#【附1】Weex开发环境检测" class="headerlink" title="【附1】Weex开发环境检测"></a>【附1】Weex开发环境检测</h4><p>通过执行显示当前weex版本的<code>weex -v</code>命令，验证Weex开发环境是否都具备了，如果都成功的时候，其会如下图所示：</p>
<blockquote>
<p><img src="/Weex/1入门/Weex开发环境搭建与运行/weex%20-v%202.png" alt="image-20181217175137799"></p>
</blockquote>
<p>安装命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 国外可使用方法：</span><br><span class="line">npm install -g weex-toolkit</span><br><span class="line"></span><br><span class="line">// 国内请使用方法，否则weekpack安装不上，导致weex create命令执行出错：</span><br><span class="line">sudo npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line">cnpm install -g weex-toolkit</span><br></pre></td></tr></table></figure>
<p>weex开发环境安装的命令对比</p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th>使用npm</th>
<th>使用cnpm</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">weex-bulider</td>
<td>安装成功</td>
<td>安装成功</td>
</tr>
<tr>
<td style="text-align:left">weex-previewer</td>
<td>安装成功</td>
<td>安装成功</td>
</tr>
<tr>
<td style="text-align:left">weexpack<br>(若无会导致执行weex create失败)</td>
<td>安装失败</td>
<td>安装成功</td>
</tr>
</tbody>
</table>
<p>更详细的weex安装请查看</p>
<ul>
<li><p><a href="http://weex.apache.org/cn/guide/set-up-env.html" target="_blank" rel="noopener">官网weex搭建开发环境</a></p>
</li>
<li><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">node和npm的官网最新版本地址</a></p>
</li>
</ul>
<p>通常，安装了 Node.js 环境，npm 包管理工具也随之安装了。npm 是一个 JavaScript 包管理工具，它可以让开发者轻松共享和重用代码。</p>
<h6 id="遇到的问题1、weex-v命令-显示当前weex版本-一直报错"><a href="#遇到的问题1、weex-v命令-显示当前weex版本-一直报错" class="headerlink" title="遇到的问题1、weex -v命令(显示当前weex版本)一直报错"></a>遇到的问题1、<code>weex -v</code>命令(显示当前weex版本)一直报错</h6><p>解决办法：通过终端重新执行<code>npm install -g weex-toolkit</code>命令来<strong>重新安装weex</strong>。</p>
<h6 id="遇到的问题2、weex-create-项目名命令-创建weex项目-出错"><a href="#遇到的问题2、weex-create-项目名命令-创建weex项目-出错" class="headerlink" title="遇到的问题2、weex create 项目名命令(创建weex项目)出错"></a>遇到的问题2、<code>weex create 项目名</code>命令(创建weex项目)出错</h6><p>此问题，是你没正确安装weex-toolkit导致，详细看下个问题<code>npm install -g weex-toolkit</code>命令安装过程有错</p>
<h6 id="遇到的问题3、npm-install-g-weex-toolkit命令安装过程有错"><a href="#遇到的问题3、npm-install-g-weex-toolkit命令安装过程有错" class="headerlink" title="遇到的问题3、npm install -g weex-toolkit命令安装过程有错"></a>遇到的问题3、<code>npm install -g weex-toolkit</code>命令安装过程有错</h6><p>错误如下：</p>
<p><img src="/Weex/1入门/Weex开发环境搭建与运行/image-20181217173509332.png" alt="image-20181217173509332"></p>
<p>分析可得错误原因是：npm的安装权限不足。</p>
<p>加上<code>sudo</code>后，执行<code>sudo npm install -g weex-toolkit</code>依旧如此。</p>
<p>最终通过进入<code>/usr/local/lib/node_modules</code>删除之前已经安装的<code>weex-toolkit</code>后，然后执行<code>sudo npm install -g weex-toolkit</code>安装通过。此时你会发现安装过程还有一些错误提示</p>
<blockquote>
<p><img src="/Weex/1入门/Weex开发环境搭建与运行/安装weex-toolkit.png" alt="image-20181217175640331"></p>
</blockquote>
<p>此问题引起的连锁反应是①终端执行<code>weex -v</code>的结果只有weex-bulider和weex-previewer，没有weexpack，从而导致②终端执行<code>weex create 项目名</code>失败</p>
<blockquote>
<p><img src="/Weex/1入门/Weex开发环境搭建与运行/weex%20-v.png" alt="image-20181217174116400"></p>
</blockquote>
<h4 id="【附2】Weex工具WebStorm的安装"><a href="#【附2】Weex工具WebStorm的安装" class="headerlink" title="【附2】Weex工具WebStorm的安装"></a>【附2】Weex工具WebStorm的安装</h4><p>1、WebStorm软件安装&amp;破解</p>
<ul>
<li><a href="https://blog.csdn.net/voke_/article/details/76418116" target="_blank" rel="noopener">webstorm 2018 激活破解方法大全</a></li>
</ul>
<p>2、WebStorm配置vue环境</p>
<ul>
<li><a href="https://www.cnblogs.com/karthuslorin/p/8301282.html" target="_blank" rel="noopener">WebStorm配置Vue开发环境</a></li>
</ul>
<p>3、WebStorm其他配置</p>
<ul>
<li><a href="https://www.jianshu.com/p/4ce97b360c13" target="_blank" rel="noopener">WebStorm其他配置</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/Weex/1入门/Weex开发环境搭建与运行/" data-id="cm2nkn46700l8bur4y6dbln7k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Weex/">Weex</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/跨平台/">跨平台</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-电脑使用/旧电脑数据清理" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/电脑使用/旧电脑数据清理/" class="article-date">
  <time datetime="2019-04-28T01:27:20.000Z" itemprop="datePublished">2019-04-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/电脑使用/">电脑使用</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/电脑使用/旧电脑数据清理/">旧电脑(Mac)数据清理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="旧电脑-Mac-数据清理"><a href="#旧电脑-Mac-数据清理" class="headerlink" title="旧电脑(Mac)数据清理"></a>旧电脑(Mac)数据清理</h1><p>[TOC]</p>
<h2 id="清理项"><a href="#清理项" class="headerlink" title="清理项"></a>清理项</h2><p>系统偏好设置-用户与群组，左下角解锁点击加号添加一个新的管理员账号 点击左上角苹果图标，注销登陆新账号 同一个位置选择之前的账号点击减号删除 删除的时候选择删除文件就可以了</p>
<ul>
<li><p>AppleID(涉及appstore)</p>
<ul>
<li style="list-style: none"><input type="checkbox"> 系统设置里退出</li>
<li style="list-style: none"><input type="checkbox"> appStore –&gt; 商店 –&gt; 退出登录</li>
</ul>
</li>
<li><p>iCloud账号(涉及备忘录、提醒事项、Safari等)</p>
</li>
</ul>
<ul>
<li style="list-style: none"><input type="checkbox"> 设置 –&gt; iCloud</li>
</ul>
<ul>
<li><p>邮件、备忘录、提醒事项 清理</p>
<ul>
<li><p>[ ] 清理系统邮箱内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">进入 ~/Library/Containers/com.apple.mail/Data/Library/Mail Downloads</span><br><span class="line">请不要在终端用open命令，因为Mail Downloads这个有空格。</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li style="list-style: none"><input type="checkbox"> 备忘录、提醒事项</li>
</ul>
<ul>
<li>钥匙串</li>
</ul>
<ul>
<li style="list-style: none"><input type="checkbox"> 清除系统钥匙串中的密码等相关</li>
</ul>
<ul>
<li><p>浏览器</p>
<ul>
<li style="list-style: none"><input type="checkbox"> Safari、Chrome账号&amp;密码</li>
</ul>
<blockquote>
<p>附：<a href="https://jingyan.baidu.com/article/e3c78d649cfbdd3c4c85f5af.html" target="_blank" rel="noopener">Mac如何查看Safari保存的密码</a></p>
</blockquote>
<ul>
<li style="list-style: none"><input type="checkbox"> Safari、Chrome浏览记录</li>
<li style="list-style: none"><input type="checkbox"> Safari、Chrome个人收藏</li>
</ul>
</li>
<li><p>微信记录<br>在输入框中输入 <code>~/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/</code>，然后找到<code>com.tencent.xinWeChat</code>删除整个文件夹即可。</p>
</li>
<li><p>QQ记录<br>在输入框输入<code>~/Library/Containers/com.tencent.qq</code>，删除整个文件即可。</p>
</li>
<li><p>Keynote、Page等清除打开的文件记录</p>
<ul>
<li style="list-style: none"><input type="checkbox"> 打开软件 –&gt; 文件 –&gt; 打开最近使用 –&gt; 清除菜单</li>
</ul>
</li>
<li><p>应用软件账号删除(百度网盘、Evernote、SourceTree等)</p>
</li>
<li><p>其他</p>
<ul>
<li><p>iPhone模拟器重置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">顶部 -&gt; Erase All Content And Setting</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>应用软件删除</p>
</li>
<li><p>应用软件账号删除(百度网盘、Evernote、SourceTree等)</p>
</li>
<li><p>文件夹删除(文稿、图片、下载内容等)</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/电脑使用/旧电脑数据清理/" data-id="cm2nkn2jf004qbur42cka9i74" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/电脑使用/">电脑使用</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iOS/进阶/企业版灰度流程" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/iOS/进阶/企业版灰度流程/" class="article-date">
  <time datetime="2019-04-28T01:27:20.000Z" itemprop="datePublished">2019-04-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/iOS/进阶/企业版灰度流程/">企业版灰度流程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>企业版灰度流程</p>
<p><img src="/iOS/进阶/企业版灰度流程/企业版灰度流程.png" alt="企业版灰度流程" style="zoom: 50%;"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/iOS/进阶/企业版灰度流程/" data-id="cm2nkn47600oubur46ptaz87o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iOS/3必备知识架构/2内存/2内存-①AutoRelease" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/iOS/3必备知识架构/2内存/2内存-①AutoRelease/" class="article-date">
  <time datetime="2019-04-28T01:27:20.000Z" itemprop="datePublished">2019-04-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/iOS/3必备知识架构/2内存/2内存-①AutoRelease/">内存</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h1><p>[toc]</p>
<p>必看文章：</p>
<ul>
<li><a href="https://www.jianshu.com/p/1b66c4d47cd7" target="_blank" rel="noopener">AutoreleasePool的原理和实现</a></li>
</ul>
<p>什么是内存管理？是指软件运行时对计算机内存资源的分配和使用的技术。其最主要的目的是如何高效，快速的分配，并且在适当的时候释放和回收内存资源。</p>
<p><strong>内存管理管理的是堆上的内存，栈上的内存并不需要我们管理。</strong></p>
<h2 id="说说内存管理"><a href="#说说内存管理" class="headerlink" title="说说内存管理"></a>说说内存管理</h2><p>我们知道，当不再使用一个对象时应该将其释放，但是在某些情况下，我们很难理清一个对象什么时候不再使用(比如self.name不止在一个方法里会被调用到的时候)，这可怎么办？ObjC提供autorelease方法来解决这个问题。</p>
<p>说到内存管理，我们就不得不提引用计数。当对象的引用计数为0，对象的内存就会被释放。</p>
<blockquote>
<p>引用计数是计算机编程语言中的一种内存管理技术，是指将资源（可以是对象、内存或磁盘空间等等）的被引用次数保存起来，当被引用次数变为零时就将其释放的过程。使用引用计数技术可以实现自动资源管理的目的。</p>
</blockquote>
<p>当我们在创建一个对象的实例并在堆上申请内存时，或者在其他对象中需要持有这个对象时，该对象的引用计数就会加1；<br>当代码结束使用该对象/释放对象时，则将对象的引用计数减1；而想要释放一个对象的内存，我们将该对象的引用计数减到0，即进行release到0。<br>在ARC的情况下，为了方便管理内存，它会有一个autorelease的东西，它省去了我们还要自己去执行release方法的操作。同时与autorelease相关的还有一个叫AutoreleasePool自动释放池。</p>
<p>通过autorelease，当给一个对象发送autorelease消息（类方法创建的对象系统会自动添加autorelease）时，对象在接收到autorelease消息后，它会被添加到了当前的自动释放池autoreleasepool中。在未来某个时间，当自动释放池被销毁时，会给池里所有的对象发送release消息将其释放(释放≠销毁)。如果自动释放池向对象发送release消息后对象的引用计数变为了0，则改对象就会被销毁，内存就会被回收。在释放前这个时间段内，对象还是可以使用的（<strong>注意1：autorelease不会改变对象的引用计数，release才改变引用计数</strong>）（<strong>注意2：自动释放池实质上只是在释放的时候给池中所有对象对象发送release消息，不保证对象一定会销毁，如果自动释放池向对象发送release消息后对象的引用计数仍大于1，对象就无法销毁。</strong>）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id array = [NSMutableArray arrayWithCapacity:1];</span><br><span class="line">此源代码等同于以下源码。</span><br><span class="line">id array = [[[NSMutableArray alloc] initWithCapacity:1] autorelease];</span><br></pre></td></tr></table></figure>
<p>所以AutoreleasePool的释放有如下两种情况。</p>
<ul>
<li><p>一是Autorelease对象是在当前的<strong>runloop</strong>迭代结束时释放的，而它能够释放的原因是系统在每个runloop迭代中都加入了自动释放池Push和Pop。（<strong>一定要回答到runloop</strong>）。那runloop什么时候结束呢？</p>
<blockquote>
<p>一个<code>RunLoop</code>包含若干个<code>Mode</code>，每个<code>Mode</code>包含若干个<code>Source</code>/<code>Timer</code>/<code>Observer</code>/<code>Port</code>。当启动一个<code>RunLoop</code>时会先指定一个<code>Mode</code>，检查指定<code>Mode</code>是否存在以及<code>Mode</code>中是否含有<code>Source</code>和<code>Timer</code>，如果<code>Mode</code>不存在或者<code>Mode</code>中无<code>Source</code>和<code>Timer</code>，认为该<code>Mode</code>是一个空的<code>Mode</code>，<code>RunLoop</code>就直接退出。</p>
</blockquote>
</li>
<li><p>二是手动调用AutoreleasePool的释放方法（drain方法）来销毁AutoreleasePool</p>
</li>
</ul>
<h2 id="AutoreleasePool（自动释放池）"><a href="#AutoreleasePool（自动释放池）" class="headerlink" title="AutoreleasePool（自动释放池）"></a>AutoreleasePool（自动释放池）</h2><h3 id="1、AutoreleasePool（自动释放池）介绍"><a href="#1、AutoreleasePool（自动释放池）介绍" class="headerlink" title="1、AutoreleasePool（自动释放池）介绍"></a>1、AutoreleasePool（自动释放池）介绍</h3><p><strong>AutoreleasePool（自动释放池）是OC中的一种内存自动回收机制，它可以延迟加入AutoreleasePool中的变量release的时机。</strong>即当我们创建了一个对象，并把他加入到了自动释放池中时，他不会立即被释放，会等到一次<code>runloop</code>结束或者作用域超出<code>autoreleasepool{}</code>之后再被释放。在正常情况下，创建的变量会在超出其作用域的时候release，但是如果将变量加入AutoreleasePool，那么release将延迟执行。</p>
<p>我们把<code>main.m</code>文件通过Xcode自带的xcrun命令，来编译成<a href="./2内存-①AutoRelease/main.cpp">main.cpp</a>文件</p>
<p>命令行如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcrun -sdk iphonesimulator clang -rewrite-objc ./main.m</span><br></pre></td></tr></table></figure>
<p>可以在编译出来的cpp文件中，看到如下自动释放池的结构体如下。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> __<span class="title">AtAutoreleasePool</span> &#123;</span></span><br><span class="line">  __AtAutoreleasePool() &#123;atautoreleasepoolobj = objc_autoreleasePoolPush();&#125; 	<span class="comment">// 构造函数</span></span><br><span class="line">  ~__AtAutoreleasePool() &#123;objc_autoreleasePoolPop(atautoreleasepoolobj);&#125;			<span class="comment">// 析构函数</span></span><br><span class="line">  <span class="keyword">void</span> * atautoreleasepoolobj;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><code>objc4</code>是我们通常说的Runtime源码，我们遇到的<code>libobjc.A.dylib</code>就是用它编译出来的。</p>
<p>源码查看，进入<a href="http://opensource.apple.com/source/" target="_blank" rel="noopener">http://opensource.apple.com/source/</a>搜索objc4，</p>
<p><img src="/iOS/3必备知识架构/2内存/2内存-①AutoRelease/image-20211103173107899-5931876.png" alt="image-20211103173107899"></p>
<h1 id="NSThread、NSRunLoop-和-NSAutoreleasePool三者之间的关系"><a href="#NSThread、NSRunLoop-和-NSAutoreleasePool三者之间的关系" class="headerlink" title="NSThread、NSRunLoop 和 NSAutoreleasePool三者之间的关系"></a>NSThread、NSRunLoop 和 NSAutoreleasePool三者之间的关系</h1><ul>
<li>NSThread 和 NSRunLoop是<code>一一对应</code>的关系</li>
<li>在NSRunLoop对象的每个<code>运行循环（event loop）</code>开始前，系统会自动创建一个autoreleasepool，并在<code>运行循环（event loop）</code>结束时<code>drain</code>掉这个pool，同时释放所有autorelease对象</li>
<li><code>autoreleasepool</code>只会对应<code>一个</code>线程，每个<code>线程</code>可能会对应<code>多个</code>autoreleasepool，比如autoreleasepool<code>嵌套</code>的情况</li>
</ul>
<ul>
<li>autorelease<code>本质</code>上就是<code>延迟</code>调用release方法</li>
<li>MRC环境，通过调用<code>[obj autorelease]</code>来<code>延迟</code>内存的释放</li>
<li>ARC环境，甚至可以<code>完全不知道</code>autorelease也能管理好内存</li>
</ul>
<p>看到这里有人可能会问，那到底延迟到什么时候执行呢？看完本文后，各位心中自然会有答案。</p>
<h5 id="3-、autorelease、autoreleasepool-自动释放池"><a href="#3-、autorelease、autoreleasepool-自动释放池" class="headerlink" title="(3)、autorelease、autoreleasepool(自动释放池)"></a>(3)、autorelease、autoreleasepool(自动释放池)</h5><h5 id="4-、autoreleasepool-自动释放池"><a href="#4-、autoreleasepool-自动释放池" class="headerlink" title="(4)、autoreleasepool(自动释放池)　　"></a>(4)、autoreleasepool(自动释放池)　　</h5><p>　　这里说到的自动释放池，顾名思义，就是一个池，这个池可以容纳对象，而且可以自动释放，这就大大增加了我们处理对象的灵活性。
　　</p>
<h5 id="5-、autoreleasepool里面对象的内存什么时候释放"><a href="#5-、autoreleasepool里面对象的内存什么时候释放" class="headerlink" title="(5)、autoreleasepool里面对象的内存什么时候释放?"></a>(5)、autoreleasepool里面对象的内存什么时候释放?</h5><p>　　在runloop sleep的时候当前autoreleasePool drain（objc_autoreleasePoolPop） 掉，向里面的对象都发送release消息，建立一个新的autoreleasePool(objc_autoreleasePoolPush)。或者简单的说就是当@autoreleasepool结束时，里面的内存就会回收;</p>
<p>ARC时代，系统自动管理自己的autoreleasepool，runloop就是iOS中的消息循环机制，当一个runloop结束时系统才会一次性清理掉被autorelease处理过的对象，其实本质上说是在本次runloop迭代结束时清理掉被本次迭代期间被放到autorelease pool中的对象的。至于何时runloop结束并没有固定的duration。 </p>
<h5 id="6-、runloop、autorelease-pool以及线程之间的关系"><a href="#6-、runloop、autorelease-pool以及线程之间的关系" class="headerlink" title="(6)、runloop、autorelease pool以及线程之间的关系"></a>(6)、runloop、autorelease pool以及线程之间的关系</h5><p>每个线程(包含主线程)都有一个Runloop。对于每一个Runloop，系统会隐式创建一个Autorelease pool，这样所有的release pool会构成一个像callstack一样的一个栈式结构，在每一个Runloop结束时，当前栈顶的Autorelease pool会被销毁，这样这个pool里的每个Object会被release。</p>
<p>#####　(7)、自动释放池怎样创建</p>
<p>ObjC提供两种方法创建自动释放池：</p>
<p>方法一：使用NSAutoreleasePool来创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSAutoreleasePool * pool = [[NSAutoreleasePool alloc]init];</span><br><span class="line">//这里写代码</span><br><span class="line">[pool release];</span><br></pre></td></tr></table></figure>
<p>方法二：使用@autoreleasepool创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@autoreleasepool &#123;</span><br><span class="line">//这里写代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>自动释放池创建后，就会成为活动的池子，释放池子后，池子将释放其所包含的所有对象。</p>
<p>以上两种方法推荐第一种，因为将内存交给ObjC管理更高效。</p>
<h5 id="8-、自动释放池使用注意"><a href="#8-、自动释放池使用注意" class="headerlink" title="(8)、自动释放池使用注意"></a>(8)、自动释放池使用注意</h5><blockquote>
<p>1）自动释放池实质上只是在释放的时候给池中所有对象对象发送release消息，不保证对象一定会销毁，如果自动释放池向对象发送release消息后对象的引用计数仍大于1，对象就无法销毁。</p>
<p>2）自动释放池中的对象会集中同一时间释放，如果操作需要生成的对象较多占用内存空间大，可以使用多个释放池来进行优化。比如在一个循环中需要创建大量的临时变量，可以创建内部的池子来降低内存占用峰值。</p>
<p>3）autorelease不会改变对象的引用计数</p>
</blockquote>
<h5 id="9-、自动释放池的应用-什么时候要用-autoreleasepool"><a href="#9-、自动释放池的应用-什么时候要用-autoreleasepool" class="headerlink" title="(9)、自动释放池的应用/什么时候要用@autoreleasepool"></a>(9)、自动释放池的应用/什么时候要用@autoreleasepool</h5><p>有些情况下，我们还是需要手动创建自动释放池，那么，什么时候呢？</p>
<p>苹果文档中的翻译如下：</p>
<ol>
<li>如果你正在编写不基于UI 框架的程序，比如命令行工具。</li>
<li>如果你编写的循环创建了很多临时对象。那么你可以在循环中使用自动释放池block，在下次迭代前处理这些对象。在循环中使用自动释放池block，有助于减少应用程序的内存占用。</li>
<li>你生成了一个辅助线程。 一旦线程开始执行你必须自己创建自动释放池。否则，应用将泄漏对象。</li>
</ol>
<p>按我的理解，最重要的使用场景，应该是有大量中间临时变量产生时，避免内存使用峰值过高，及时释放内存的场景。 </p>
<p>如在一个循环事件中，如果循环次数较大或者事件处理占用内存较大，就会导致内存占用不断增长，可能会导致不希望看到的后果。</p>
<p>举个例子，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">NSArray *urls = &lt;# An array of file URLs #&gt;;</span><br><span class="line">for (NSURL *url in urls) &#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        NSError *error;</span><br><span class="line">        NSString *fileContents = [NSString stringWithContentsOfURL:url</span><br><span class="line">                                         encoding:NSUTF8StringEncoding</span><br><span class="line">                                         error:&amp;error];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//或</span><br><span class="line">     for (int i = 0; i &lt; 100000; i ++) &#123;</span><br><span class="line">         @autoreleasepool &#123;</span><br><span class="line">             NSString * log  = [NSString stringWithFormat:@&quot;%d&quot;, i];</span><br><span class="line">             NSLog(@&quot;%@&quot;, log);</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>
<p>如果这个for循环里不使用@autoreleasepool，虽然每个循环中生成的字符串对象都会放在自动释放池子中(假设是1号自动释放池)，但是这个1号自动释放池是需要等到循环事件结束时释放的。这时候由于循环太大，势必会造成在循环期间内存不增长。所以，这里我们需要使用@autoreleasepool，额外创建一个2号自动释放池，来使得在每个@autoreleasepool结束时，里面的临时变量都会回收，内存使用更加合理。</p>
<p>例子2：假如有2000张图片，每张1M左右，现在需要获取所有图片的尺寸，你会怎么做？<br>　　如果这样做</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for (int i = 0; i &lt; 2000; i ++) &#123;</span><br><span class="line"> CGSize size = [UIImage imageNamed:[NSString stringWithFormat:@&quot;%d.jpg&quot;,i]].size;</span><br><span class="line"> //add size to array</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>　　用imageNamed方法加载图片占用Cache的内存，autoReleasePool也不能释放，对此问题需要另外的解决方法，当然保险的当然是双管齐下了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   for (int i = 0; i &lt; 2000; i ++) &#123;</span><br><span class="line">   @autoreleasepool &#123;</span><br><span class="line">       CGSize size = [UIImage imageWithContentsOfFile:filePath].size;</span><br><span class="line">       //add siez to array</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="常见笔试-面试题"><a href="#常见笔试-面试题" class="headerlink" title="常见笔试/面试题"></a>常见笔试/面试题</h2><p><a href="#目录">&lt; 返回目录</a></p>
<h6 id="自动释放池底层怎么实现"><a href="#自动释放池底层怎么实现" class="headerlink" title="自动释放池底层怎么实现?"></a>自动释放池底层怎么实现?</h6><blockquote>
<p>答:自动释放池以栈的形式实现:当你创建一个新的自动释放池时,它将被添加到栈顶.当一个对象收到发送autorelease消息时,他被添加到当前线程的处于栈顶的自动释放池中,当自动释放池被回收时,他们从栈中被删除,并且会给池子里面所有的对象都会做一次release操作</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/iOS/3必备知识架构/2内存/2内存-①AutoRelease/" data-id="cm2nkn61z016ibur4j4xncaim" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-iOS/3必备知识架构/2内存/2内存-①修饰词" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/iOS/3必备知识架构/2内存/2内存-①修饰词/" class="article-date">
  <time datetime="2019-04-28T01:27:20.000Z" itemprop="datePublished">2019-04-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/iOS/3必备知识架构/2内存/2内存-①修饰词/">①语言Swift</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="①语言Swift"><a href="#①语言Swift" class="headerlink" title="①语言Swift"></a>①语言Swift</h1><p>[Toc]</p>
<h2 id="一、Copy"><a href="#一、Copy" class="headerlink" title="一、Copy"></a>一、Copy</h2><ol>
<li><p>如何让自己的类用<code>copy</code>修饰符</p>
<blockquote>
<p>若想令自己所写的对象具有拷贝功能，则需实现<code>NSCopying</code>协议。如果自定义的对象分为可变版本与不可变版本，那么就要同时实现<code>NSCopying</code>与<code>NSMutableCopying</code>协议。<br>具体步骤：<br>1.需声明该类遵从<code>NSCopying</code>协议<br>2.实现<code>NSCopying</code>协议的方法，具体区别<a href="https://www.jianshu.com/p/f84803356cbb" target="_blank" rel="noopener">戳这里</a></p>
</blockquote>
</li>
</ol>
<ul>
<li><code>NSCopying</code>协议方法为：</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>)copyWithZone:(<span class="built_in">NSZone</span> *)zone &#123;</span><br><span class="line">  MyObject *<span class="keyword">copy</span> = [[[<span class="keyword">self</span> <span class="keyword">class</span>] allocWithZone: zone] init];</span><br><span class="line">  <span class="keyword">copy</span>.username = <span class="keyword">self</span>.username;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">copy</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1、浅拷贝和深拷贝的区别"><a href="#1、浅拷贝和深拷贝的区别" class="headerlink" title="1、浅拷贝和深拷贝的区别"></a>1、浅拷贝和深拷贝的区别</h3><blockquote>
<p><strong>浅层复制：只复制指向对象的指针，而不复制引用对象本身。</strong><br><strong>深层复制：复制引用对象本身。</strong></p>
<p>意思就是说我有个A对象，复制一份后得到A_copy对象后,</p>
<p>对于浅复制来说，A和A_copy指向的是同一个内存资源，复制的只不过是是一个指针，对象本身资源还是只有一份，那如果我们对A_copy执行了修改操作,那么发现A引用的对象同样被修改，这其实违背了我们复制拷贝的一个思想。<br>而对于深复制就好理解了,内存中存在了两份独立对象本身。</p>
<p>通俗的话将就是：<br>浅复制好比你和你的影子，你完蛋，你的影子也完蛋;<br>深复制好比你和你的克隆人，你完蛋，你的克隆人还活着。</p>
</blockquote>
<h3 id="2、-iOS-Copy-与-MutableCopy"><a href="#2、-iOS-Copy-与-MutableCopy" class="headerlink" title="2、 iOS - Copy 与 MutableCopy"></a>2、 iOS - Copy 与 MutableCopy</h3><p><a href="http://www.jianshu.com/p/63239d4d65e0" target="_blank" rel="noopener">iOS - Copy 与 MutableCopy</a><br>①copy：因为<strong>copy默认返回的是不可变的</strong>，所以当我们对一个不可变的字符串进行copy的时候，我们只是拷贝了它的指针（浅拷贝）。当我们对一个可变的字符串进行拷贝的时候，因为类型转变了，我们需对其进行深拷贝。<br>②<strong>mutableCopy：默认返回的是一个可变的对象</strong>，适用于可变的对象，例如NSMutableString，NSMutableArray，NSMutableDictionary、etc。  无论对于可变的字符串还是不可变的字符串进行mutableCopy，系统都默认进行深拷贝。</p>
<p><a href="https://www.jianshu.com/p/700f58eb0b86" target="_blank" rel="noopener">其他参考</a></p>
<h4 id="1-、copy到底是深拷贝还是浅拷贝？"><a href="#1-、copy到底是深拷贝还是浅拷贝？" class="headerlink" title="(1)、copy到底是深拷贝还是浅拷贝？"></a>(1)、copy到底是深拷贝还是浅拷贝？</h4><p>当我们对一个不可变对象（NSString类型）使用copy关键字的时候，系统是不会产生一个新对象，因为原来的对象是不能修改的，拷贝出来的对象也是不能修改的，那么既然两个都不可以修改，所以这两个对象永远也不会影响到另一个对象（符合我们说的“修改新（旧）对象，不影响旧（新）对象”原则），系统为了节省内存，所以就不会产生一个新的对象了。那么问题来了，<strong>copy到底是深拷贝还是浅拷贝？答：是否是深浅拷贝，是否创建新的对象，是由程序运行的环境所造成的，并不是一概而论。</strong></p>
<h4 id="2-、这个写法会出什么问题-property-nonatomic-copy-NSMutableArray-mutableArray"><a href="#2-、这个写法会出什么问题-property-nonatomic-copy-NSMutableArray-mutableArray" class="headerlink" title="(2)、这个写法会出什么问题@property (nonatomic, copy) NSMutableArray *mutableArray;"></a>(2)、这个写法会出什么问题<code>@property (nonatomic, copy) NSMutableArray *mutableArray;</code></h4><blockquote>
<p>添加，删除，修改数组内元素的时候，程序会因为找不到对应的方法而崩溃。原因：</p>
<p>self.mutableArray = xxx；在copy的修饰下执行的是 self.mutableArray = [xxx copy]；进行了浅拷贝，得到的是一个xxx的副本，且该副本是一个不可变的数组。导致在运行的时候，其实你的mutableArray已经是NSArray类了。从而在添加，删除，修改数组内元素的时候，程序会因为找不到对应的方法而崩溃。</p>
</blockquote>
<h3 id="3、为什么NSArray用copy修饰、NSMutableArray用strong修饰"><a href="#3、为什么NSArray用copy修饰、NSMutableArray用strong修饰" class="headerlink" title="3、为什么NSArray用copy修饰、NSMutableArray用strong修饰"></a>3、为什么NSArray用copy修饰、NSMutableArray用strong修饰</h3><blockquote>
<p>把NSMutableArray用copy修饰有时就会crash，因为copy后的数组变成了不可变数组NSArray.当你对不可变数组NSArray进行增删改操作的时候就会crash，<br>举例如下：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">①NSMutableArray用copy属性造成的crash：</span><br><span class="line">@property (nonatomic, copy) NSMutableArray *mutableArray1; // 会崩溃</span><br><span class="line">@property (nonatomic, strong) NSMutableArray *mutableArray2; // 正确</span><br><span class="line"></span><br><span class="line">NSMutableArray *array = [NSMutableArray arrayWithArray:@[[Model1 new], [Model1 new]]];</span><br><span class="line">self.mutableArray1 = array; // copy： mutableArray1是array的副本，且通过打印验证是浅拷贝。且此时aArray的值mArray的一个副本，该副本是通过[mArray copy]进行的浅拷贝得到的一个不可变新对象，即类型在执行时候变为了 NSArray了。所以，如果对归属为NSArray了的aArray执行NSMutableArray才有的如removeAllObjects的方法时，就会崩溃。</span><br><span class="line">self.mutableArray2 = array; // strong:mutableArray1是array自身</span><br></pre></td></tr></table></figure>
<p><strong>当修饰可变类型的属性时，如NSMutableArray、NSMutableDictionary、NSMutableString，用strong。</strong></p>
<p><strong>当修饰不可变类型的属性时，如NSArray、NSDictionary、NSString，用copy。</strong></p>
<h3 id="4、模型数组深拷贝"><a href="#4、模型数组深拷贝" class="headerlink" title="4、模型数组深拷贝"></a>4、模型数组深拷贝</h3><p>通常需要实现对模型的拷贝都需要先实现<code>NSCopying、 NSMutableCopying</code>协议。注意：如果是数组使用拷贝操作是不会对数组内实现copy协议的对象进行深拷贝的。</p>
<p>参考文章：<a href="https://www.jianshu.com/p/a75fc0677036" target="_blank" rel="noopener">iOS 模型数组深拷贝</a></p>
<p>1、最笨的方法就是通过遍历逐个拷贝元素</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableArray</span> *array = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line"><span class="keyword">for</span> (Person *person <span class="keyword">in</span> dataSourceAry) &#123;</span><br><span class="line">    [array addObject:[person <span class="keyword">copy</span>]];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2、也有人使用归档解档实现数组内部元素拷贝</p>
<p>3、这么好用的一个方法现在才发现（推荐）</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">instancetype</span>)initWithArray:(<span class="built_in">NSArray</span>&lt;ObjectType&gt; *)array copyItems:(<span class="built_in">BOOL</span>)flag</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> &lt;Person *&gt;*deepCopyAry = [[<span class="built_in">NSArray</span> alloc]initWithArray:dataSourceAry copyItems:<span class="literal">YES</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"&lt;dataSourceAry: %@&gt;"</span>, dataSourceAry);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"&lt;deepCopyAry: %@&gt;"</span>, deepCopyAry);</span><br><span class="line">    </span><br><span class="line">[deepCopyAry enumerateObjectsUsingBlock:^(Person *obj, <span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> * _Nonnull stop) &#123;</span><br><span class="line">    obj.name = <span class="string">@"弗兰克"</span>;</span><br><span class="line">    obj.dog.name = <span class="string">@"弗兰克的dog"</span>;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h3 id="4、分析NSString、NSMutableString等类的copy、mutableCopy"><a href="#4、分析NSString、NSMutableString等类的copy、mutableCopy" class="headerlink" title="4、分析NSString、NSMutableString等类的copy、mutableCopy"></a>4、分析NSString、NSMutableString等类的copy、mutableCopy</h3><blockquote>
<p>在语言文章中，我们已经说明对于语句<code>NSString *obj = [[NSData alloc] init];</code> obj在编译时是NSString的类型；运行时是NSData类型的对象。</p>
<p>由此得出的结论是，不要被编译时的类型蒙蔽，还要看实际运行时的类型。</p>
</blockquote>
<h6 id="1-、分别对NSString、NSMutableString进行copy、mutableCopy生成的类型是什么？"><a href="#1-、分别对NSString、NSMutableString进行copy、mutableCopy生成的类型是什么？" class="headerlink" title="(1)、分别对NSString、NSMutableString进行copy、mutableCopy生成的类型是什么？"></a>(1)、分别对NSString、NSMutableString进行copy、mutableCopy生成的类型是什么？</h6><blockquote>
<p>你可以片面理解为</p>
<p><code>copy</code>是[NSString alloc]，所以生成的都是不可变的；<br><code>mutableCopy</code>是[NSMutableString alloc]，所以生成的都是可变的；</p>
</blockquote>
<p>所以以下代码的结果，即为代码中的注释一样</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;NSString *str1 = @&quot;test001&quot;;</span><br><span class="line">&gt;	    </span><br><span class="line">&gt;NSMutableString *str2 = [str1 copy];</span><br><span class="line">&gt;//编译时，str2是NSMutableString类型。因为是把str2声明为可变字符串，所以str2即为声明的可变字符串</span><br><span class="line">&gt;//运行时，str2是NSString类型。因为是copy，所以不管str1是可变不可变，str2都是不可变字符串</span><br><span class="line">&gt;</span><br><span class="line">&gt;NSMutableString *str3 = [str1 mutableCopy];</span><br><span class="line">&gt;//编译时，str3是NSMutableString类型。因为是把str3声明为可变字符串，所以str3即为声明的可变字符串</span><br><span class="line">&gt;//运行时，str3是NSMutableString类型。因为是mutableCopy，所以不管str1是可变不可变，str3都是可变字符串</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h6 id="2-、分别对NSString、NSMutableString进行copy、mutableCopy操作，是否会开辟新地址，即是属于深拷贝还是浅拷贝？"><a href="#2-、分别对NSString、NSMutableString进行copy、mutableCopy操作，是否会开辟新地址，即是属于深拷贝还是浅拷贝？" class="headerlink" title="(2)、分别对NSString、NSMutableString进行copy、mutableCopy操作，是否会开辟新地址，即是属于深拷贝还是浅拷贝？"></a>(2)、分别对NSString、NSMutableString进行copy、mutableCopy操作，是否会开辟新地址，即是属于深拷贝还是浅拷贝？</h6><blockquote>
<p><code>copy</code>：对[string copy]是浅拷贝，即不会开辟新地址，而对[mutableString copy]是深拷贝，会开辟新地址。</p>
<p><code>mutableCopy</code>：不管是对[string mutableCopy]，还是对[mutableString mutableCopy]，都是深拷贝，都会开辟新地址。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">- (void)testCopy &#123;</span><br><span class="line">    NSString *testStr = [NSString stringWithFormat:@&quot;123&quot;];</span><br><span class="line">    id copyedStr = [testStr copy];</span><br><span class="line">    id mutableCopyStr = [testStr mutableCopy];</span><br><span class="line">    NSLog(@&quot;===    对NSString变量进行copy、mutableCopy得到的地址和类型分别是    ===&quot;);</span><br><span class="line">    NSLog(@&quot;testStr        = %p, class: %@&quot;, testStr, NSStringFromClass([testStr class]));</span><br><span class="line">    NSLog(@&quot;copyedStr      = %p, class: %@&quot;, copyedStr, NSStringFromClass([copyedStr class]));</span><br><span class="line">    NSLog(@&quot;mutableCopyStr = %p, class: %@&quot;, mutableCopyStr, NSStringFromClass([mutableCopyStr class]));</span><br><span class="line">    </span><br><span class="line">    NSLog(@&quot;\n&quot;);</span><br><span class="line">    </span><br><span class="line">    NSMutableString *testMutableStr = [NSMutableString stringWithFormat:@&quot;mutable_456&quot;];</span><br><span class="line">    id copyedMutableStr = [testMutableStr copy];</span><br><span class="line">    id mutableCopyMutableStr = [testMutableStr mutableCopy];</span><br><span class="line">    NSLog(@&quot;=== 对NSMutableString变量进行copy、mutableCopy得到的地址和类型分别是 ===&quot;);</span><br><span class="line">    NSLog(@&quot;testMutableStr        = %p, class: %@&quot;, testMutableStr, NSStringFromClass([testMutableStr class]));</span><br><span class="line">    NSLog(@&quot;copyedMutableStr      = %p, class: %@&quot;, copyedMutableStr, NSStringFromClass([copyedMutableStr class]));</span><br><span class="line">    NSLog(@&quot;mutableCopyMutableStr = %p, class: %@&quot;, mutableCopyMutableStr, NSStringFromClass([mutableCopyMutableStr class]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><img src="/iOS/3必备知识架构/2内存/2内存-①修饰词/2内存-①基础/copy&amp;mutableCopy.jpg" alt="对NSString、NSMutableString变量进行copy、mutableCopy得到的地址和类型分别是"></p>
<p><strong>结论：分别对NSString、NSMutableString进行copy、mutableCopy操作，只有NSString copy是浅拷贝</strong>。</p>
</blockquote>
<h6 id="3-、将NSString、NSMutableString变量赋值给用copy、strong修饰的NSString属性的时候，是否会开辟新地址，即是属于深拷贝还是浅拷贝？-附：NSString用copy修饰是为什么"><a href="#3-、将NSString、NSMutableString变量赋值给用copy、strong修饰的NSString属性的时候，是否会开辟新地址，即是属于深拷贝还是浅拷贝？-附：NSString用copy修饰是为什么" class="headerlink" title="(3)、将NSString、NSMutableString变量赋值给用copy、strong修饰的NSString属性的时候，是否会开辟新地址，即是属于深拷贝还是浅拷贝？(附：NSString用copy修饰是为什么)"></a>(3)、将NSString、NSMutableString变量赋值给<em>用copy、strong修饰</em>的<code>NSString</code>属性的时候，是否会开辟新地址，即是属于深拷贝还是浅拷贝？(附：NSString用copy修饰是为什么)</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic, copy) NSString *copyedStr;</span><br><span class="line">@property (nonatomic, strong) NSString *strongStr;</span><br><span class="line"></span><br><span class="line">@property (nonatomic, copy) NSString *copyedMutableStr;</span><br><span class="line">@property (nonatomic, strong) NSString *strongMutableStr;</span><br><span class="line"></span><br><span class="line">///将NSString、NSMutableString变量赋值给用copy、strong修饰的NSString属性的时候</span><br><span class="line">- (void)testCopy &#123;</span><br><span class="line">    NSString *testStr = [NSString stringWithFormat:@&quot;123&quot;];</span><br><span class="line">    self.copyedStr = testStr;</span><br><span class="line">    self.strongStr = testStr;</span><br><span class="line">    NSLog(@&quot;===    将NSString变量赋值给用copy、strong修饰的NSString属性的时候    ===&quot;);</span><br><span class="line">    NSLog(@&quot;testStr   = %p&quot;, testStr);</span><br><span class="line">    NSLog(@&quot;copyedStr = %p&quot;, self.copyedStr);</span><br><span class="line">    NSLog(@&quot;strongStr = %p&quot;, self.strongStr);</span><br><span class="line">    </span><br><span class="line">    NSLog(@&quot;\n&quot;);</span><br><span class="line">    </span><br><span class="line">    NSMutableString *testMutableStr = [NSMutableString stringWithFormat:@&quot;mutable_456&quot;];</span><br><span class="line">    self.copyedMutableStr = testMutableStr;</span><br><span class="line">    self.strongMutableStr = testMutableStr;</span><br><span class="line">    NSLog(@&quot;=== 将NSMutableString变量赋值给用copy、strong修饰的NSString属性的时候 ===&quot;);</span><br><span class="line">    NSLog(@&quot;testMutableStr   = %p&quot;, testMutableStr);</span><br><span class="line">    NSLog(@&quot;copyedMutableStr = %p&quot;, self.copyedMutableStr);</span><br><span class="line">    NSLog(@&quot;strongMutableStr = %p&quot;, self.strongMutableStr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><img src="/iOS/3必备知识架构/2内存/2内存-①修饰词/2内存-①基础/copy1.jpg" alt="将NSString、NSMutableString赋值给用copy、strong修饰的NSString变量"></p>
</blockquote>
<p>可以看出，</p>
<p>①将NSString变量赋值给用copy、strong修饰的NSString属性的时候，不管是strong还是copy属性的对象，其指向的地址都是同一个，即为string指向的地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic, copy) NSString *copyedStr;</span><br><span class="line">@property (nonatomic, strong) NSString *strongStr;</span><br><span class="line"></span><br><span class="line">NSString *testStr = [NSString stringWithFormat:@&quot;123&quot;];</span><br><span class="line">self.copyedStr = testStr;</span><br><span class="line">self.strongStr = testStr;</span><br></pre></td></tr></table></figure>
<p>②将NSMutableString变量赋值给用copy、strong修饰的NSString属性的时候，</p>
<p>此时copy属性字符串<code>copyedMutableStr</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic, copy) NSString *copyedMutableStr;</span><br><span class="line"></span><br><span class="line">NSMutableString *testMutableStr = [NSMutableString stringWithFormat:@&quot;mutable_456&quot;];</span><br><span class="line">self.copyedMutableStr = testMutableStr;</span><br></pre></td></tr></table></figure>
<p>深拷贝了testMutableStr字符串，并让copyedMutableStr对象指向这个字符串(即copyedMutableStr和testMutableStr只是对象值一样，但不是同一个了)。所以此时，我们如果去修改testMutableStr字符串的话，可以看到，我们用<code>@property (nonatomic, copy) NSString *copyedMutableStr;</code>修饰的<code>copyedMutableStr</code>能够不会因为其赋值源<code>testMutableStr</code>的改变而改变，也就保证了安全性。</p>
<p>而strong属性字符串<code>strongMutableStr</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic, strong) NSString *strongMutableStr;</span><br><span class="line"></span><br><span class="line">NSMutableString *testMutableStr = [NSMutableString stringWithFormat:@&quot;mutable_456&quot;];</span><br><span class="line">self.strongMutableStr = testMutableStr;</span><br></pre></td></tr></table></figure>
<p>因为strongMutableStr与testMutableStr是指向同一对象，所以strongMutableStr的值也会跟随着改变；</p>
<p>综上：所以，<strong>在声明NSString属性时，到底是选择strong还是copy，可以根据实际情况来定。不过，一般我们将对象声明为NSString时，都不希望它改变(包括不希望赋值后，其他原来的值的改变会改变到它)，所以大多数情况下，我们建议用copy，以免因可变字符串的修改导致的一些非预期问题。</strong>使用copy来修饰无论给我传入是一个可变对象还是不可对象,我本身持有的就是一个不可变的副本,这样更安全。</p>
<h6 id="4-、将NSString、NSMutableString变量赋值给用copy、strong修饰的NSMutableString属性的时候，是否会开辟新地址，即是属于深拷贝还是浅拷贝？"><a href="#4-、将NSString、NSMutableString变量赋值给用copy、strong修饰的NSMutableString属性的时候，是否会开辟新地址，即是属于深拷贝还是浅拷贝？" class="headerlink" title="(4)、将NSString、NSMutableString变量赋值给用copy、strong修饰的NSMutableString属性的时候，是否会开辟新地址，即是属于深拷贝还是浅拷贝？"></a>(4)、将NSString、NSMutableString变量赋值给用copy、strong修饰的<code>NSMutableString</code>属性的时候，是否会开辟新地址，即是属于深拷贝还是浅拷贝？</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@property (nonatomic, copy) NSMutableString *copyedStr;</span><br><span class="line">@property (nonatomic, strong) NSMutableString *strongStr;</span><br><span class="line"></span><br><span class="line">NSString *testStr = [NSString stringWithFormat:@&quot;123&quot;];</span><br><span class="line">self.copyedStr = testStr;</span><br><span class="line">self.strongStr = testStr;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@property (nonatomic, copy) NSMutableString *copyedMutableStr;</span><br><span class="line"></span><br><span class="line">NSMutableString *testMutableStr = [NSMutableString stringWithFormat:@&quot;mutable_456&quot;];</span><br><span class="line">self.copyedMutableStr = testMutableStr;</span><br></pre></td></tr></table></figure>
<p><strong>2.自定义类如何让它具有copy功能?</strong><br>遵守NScoping协议，实现copywithzone方法即可.</p>
<h6 id="5-、自己代码实现copy修饰符，应该怎么写？？？？"><a href="#5-、自己代码实现copy修饰符，应该怎么写？？？？" class="headerlink" title="(5)、自己代码实现copy修饰符，应该怎么写？？？？"></a>(5)、自己代码实现copy修饰符，应该怎么写？？？？</h6><h4 id="4、NSCoding和NSCopy"><a href="#4、NSCoding和NSCopy" class="headerlink" title="4、NSCoding和NSCopy"></a>4、NSCoding和NSCopy</h4><p><a href="http://my.oschina.net/megan/blog/181463?p=1" target="_blank" rel="noopener">NSCoding和NSCopy</a></p>
<h6 id="1-、NSCoding的作用"><a href="#1-、NSCoding的作用" class="headerlink" title="(1)、NSCoding的作用"></a>(1)、NSCoding的作用</h6><p><a href="http://blog.csdn.net/qq5306546/article/details/9240283" target="_blank" rel="noopener">iOS通过NSCoding保存实体对象</a></p>
<p>很多时候我们都需要将对象序列化，比如将一个对象存入到NSUserDefault 里面去的时候，由于NSUserDefault支持存入的类型有限制，所以很多时候我们需要将NSObject类型的对象转换成NSData再存入进去。</p>
<h6 id="2-、NSCopy"><a href="#2-、NSCopy" class="headerlink" title="(2)、NSCopy"></a>(2)、NSCopy</h6><p>当你要进行对象拷贝的时候需要遵循NSCopy协议</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (id)copyWithZone:(NSZone *)zone &#123;</span><br><span class="line">    id copy = [[[self class] alloc] init];</span><br><span class="line">    if (copy) &#123;</span><br><span class="line">        [copy setId:[self.id copyWithZone:zone]];</span><br><span class="line">        [copy setNickName:[self.nickName copyWithZone:zone]];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="5、-synthesize和-dynamic区别"><a href="#5、-synthesize和-dynamic区别" class="headerlink" title="5、@synthesize和@dynamic区别"></a>5、@synthesize和@dynamic区别</h4><p><a href="http://www.cnblogs.com/xiaodao/archive/2012/10/09/2716244.html" target="_blank" rel="noopener">@synthesize和@dynamic区别</a></p>
<p>在声明property属性后，有2种实现选择</p>
<ul>
<li>@synthesize</li>
</ul>
<p>编译器期间，让编译器自动生成getter/setter方法。当有自定义的存或取方法时，自定义会屏蔽自动生成该方法</p>
<ul>
<li>@dynamic</li>
</ul>
<p>告诉编译器，不自动生成getter/setter方法，避免编译期间产生警告，然后由自己实现存取方法，或存取方法在运行时动态创建绑定：主要使用在CoreData的实现NSManagedObject子类时使用，由Core Data框架在程序运行的时动态生成子类属性</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dvlproad.github.io/iOS/3必备知识架构/2内存/2内存-①修饰词/" data-id="cm2nkn63z016rbur43xplvngm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS/">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/23/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><a class="page-number" href="/page/23/">23</a><span class="page-number current">24</span><a class="page-number" href="/page/25/">25</a><a class="page-number" href="/page/26/">26</a><span class="space">&hellip;</span><a class="page-number" href="/page/48/">48</a><a class="extend next" rel="next" href="/page/25/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/">Architecture</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/第一章：架构相关/">第一章：架构相关</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/第七章：技术选型/">第七章：技术选型</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/第三章：基础规范/">第三章：基础规范</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/第九章：监控相关/">第九章：监控相关</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/第二章：框架相关/">第二章：框架相关</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/第八章：页面加载相关/">第八章：页面加载相关</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/第六章：通用业务规范/">第六章：通用业务规范</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/第四章：基础框架设计及接口文档/">第四章：基础框架设计及接口文档</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/">Flutter</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/无瑕疵的混编登录页/">无瑕疵的混编登录页</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第一章：Flutter入门/">第一章：Flutter入门</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第七章：规范/">第七章：规范</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第三章：原生项目与Flutter的交互/">第三章：原生项目与Flutter的交互</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第九章：框架升级/">第九章：框架升级</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第二章：集成Flutter到原生项目/">第二章：集成Flutter到原生项目</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第五章：详解/">第五章：详解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第八章：状态管理/">第八章：状态管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第六章：进阶/">第六章：进阶</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第四章：Flutter登录页实战/">第四章：Flutter登录页实战</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flutter/第零章：Flutter源码/">第零章：Flutter源码</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/QA/">QA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/README/">README</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/React/">React</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/React/第一章：React入门/">第一章：React入门</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/">ReactNative</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/第一章：ReactNative入门/">第一章：ReactNative入门</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/第一章：React入门/">第一章：React入门</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/第五章：ReactNative详解/">第五章：ReactNative详解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/第八章：ReactNative实践/">第八章：ReactNative实践</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/第六章：ReactNative进阶/">第六章：ReactNative进阶</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/">Script</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Script/JQuery/">JQuery</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/Mac快速操作/">Mac快速操作</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/Ruby/">Ruby</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Script/Shell/">Shell</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Weex/">Weex</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Weex/第一章：Weex入门/">第一章：Weex入门</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/Swift/">Swift</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/混编/">混编</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/移动分析/">移动分析</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/自动化/">自动化</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/证书发版/">证书发版</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/npmjs/">npmjs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/上架相关/">上架相关</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/代码管理/">代码管理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全与破解/">安全与破解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/">实用工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/ChatGPT/">ChatGPT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/GitBook/">GitBook</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/Jenkins/">Jenkins</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/XAMPP/">XAMPP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/Zentao/">Zentao</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/实用工具/其他小工具/">其他小工具</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作常识/">工作常识</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术常识/">技术常识</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活常识/">生活常识</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/电脑使用/">电脑使用</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/管理相关/">管理相关</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/管理相关/第一章：账号管理/">第一章：账号管理</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/编程工具/">编程工具</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/跨平台/">跨平台</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/跨平台/第一章：混编事项说明/">第一章：混编事项说明</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Architecture/">Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ChatGPT/">ChatGPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CocoaPods/">CocoaPods</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flutter/">Flutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JQuery/">JQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac快速操作/">Mac快速操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QA/">QA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/README/">README</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactNative/">ReactNative</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ruby/">Ruby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Script/">Script</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/">Shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Weex/">Weex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/h5与app交互/">h5与app交互</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npmjs/">npmjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/上架相关/">上架相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/交互/">交互</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/埋点/">埋点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/基类/">基类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安全/">安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实用工具/">实用工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工作常识/">工作常识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/打包/">打包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术常识/">技术常识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/抓包/">抓包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搜索相关/">搜索相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文档管理/">文档管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/权限相关/">权限相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/架构模式/">架构模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/环境搭建/">环境搭建</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/生活常识/">生活常识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电脑使用/">电脑使用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/瘦身/">瘦身</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/登录页实战/">登录页实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/破解/">破解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动分析/">移动分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/管理相关/">管理相关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编程工具/">编程工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自动化/">自动化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/请求/">请求</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/跨平台/">跨平台</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/路由及跳转/">路由及跳转</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/阿里云/">阿里云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/阿里云oss/">阿里云oss</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/集成/">集成</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Architecture/" style="font-size: 20px;">Architecture</a> <a href="/tags/ChatGPT/" style="font-size: 10.83px;">ChatGPT</a> <a href="/tags/CocoaPods/" style="font-size: 10px;">CocoaPods</a> <a href="/tags/Flutter/" style="font-size: 18.33px;">Flutter</a> <a href="/tags/Git/" style="font-size: 13.33px;">Git</a> <a href="/tags/JQuery/" style="font-size: 10px;">JQuery</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Jenkins/" style="font-size: 14.17px;">Jenkins</a> <a href="/tags/Mac快速操作/" style="font-size: 10px;">Mac快速操作</a> <a href="/tags/Python/" style="font-size: 11.67px;">Python</a> <a href="/tags/QA/" style="font-size: 10px;">QA</a> <a href="/tags/README/" style="font-size: 10px;">README</a> <a href="/tags/React/" style="font-size: 10.83px;">React</a> <a href="/tags/ReactNative/" style="font-size: 15.83px;">ReactNative</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/Script/" style="font-size: 15px;">Script</a> <a href="/tags/Shell/" style="font-size: 11.67px;">Shell</a> <a href="/tags/Swift/" style="font-size: 12.5px;">Swift</a> <a href="/tags/Weex/" style="font-size: 10px;">Weex</a> <a href="/tags/h5与app交互/" style="font-size: 12.5px;">h5与app交互</a> <a href="/tags/iOS/" style="font-size: 17.5px;">iOS</a> <a href="/tags/npmjs/" style="font-size: 10.83px;">npmjs</a> <a href="/tags/上架相关/" style="font-size: 10px;">上架相关</a> <a href="/tags/交互/" style="font-size: 12.5px;">交互</a> <a href="/tags/埋点/" style="font-size: 10.83px;">埋点</a> <a href="/tags/基类/" style="font-size: 10.83px;">基类</a> <a href="/tags/安全/" style="font-size: 14.17px;">安全</a> <a href="/tags/实用工具/" style="font-size: 16.67px;">实用工具</a> <a href="/tags/工作常识/" style="font-size: 10px;">工作常识</a> <a href="/tags/打包/" style="font-size: 10px;">打包</a> <a href="/tags/技术常识/" style="font-size: 13.33px;">技术常识</a> <a href="/tags/抓包/" style="font-size: 10px;">抓包</a> <a href="/tags/搜索相关/" style="font-size: 10px;">搜索相关</a> <a href="/tags/文档管理/" style="font-size: 14.17px;">文档管理</a> <a href="/tags/权限相关/" style="font-size: 10px;">权限相关</a> <a href="/tags/架构模式/" style="font-size: 11.67px;">架构模式</a> <a href="/tags/环境搭建/" style="font-size: 10.83px;">环境搭建</a> <a href="/tags/生活常识/" style="font-size: 10px;">生活常识</a> <a href="/tags/电脑使用/" style="font-size: 10px;">电脑使用</a> <a href="/tags/瘦身/" style="font-size: 11.67px;">瘦身</a> <a href="/tags/登录页实战/" style="font-size: 12.5px;">登录页实战</a> <a href="/tags/破解/" style="font-size: 11.67px;">破解</a> <a href="/tags/移动分析/" style="font-size: 11.67px;">移动分析</a> <a href="/tags/管理相关/" style="font-size: 11.67px;">管理相关</a> <a href="/tags/编程工具/" style="font-size: 12.5px;">编程工具</a> <a href="/tags/自动化/" style="font-size: 11.67px;">自动化</a> <a href="/tags/请求/" style="font-size: 10.83px;">请求</a> <a href="/tags/跨平台/" style="font-size: 19.17px;">跨平台</a> <a href="/tags/路由及跳转/" style="font-size: 11.67px;">路由及跳转</a> <a href="/tags/阿里云/" style="font-size: 10px;">阿里云</a> <a href="/tags/阿里云oss/" style="font-size: 13.33px;">阿里云oss</a> <a href="/tags/集成/" style="font-size: 11.67px;">集成</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">September 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">August 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">June 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/Architecture架构/架构相关/3组件化/5框架设计模式-⑦组件化/">框架设计模式-⑦组件化</a>
          </li>
        
          <li>
            <a href="/Architecture架构/监控相关/日志系统/">日志系统</a>
          </li>
        
          <li>
            <a href="/总目录/">总目录</a>
          </li>
        
          <li>
            <a href="/安全/网络加密/">网络接口数据安全的【攻与防大全】</a>
          </li>
        
          <li>
            <a href="/Architecture架构/监控相关/灰度系统/">灰度系统</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 dvlproad<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>